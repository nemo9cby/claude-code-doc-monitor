<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>build-with-claude/effort - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>build-with-claude/effort.md</h1>
            <p class="meta">Changed on 2026-02-05 12:43:36 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+17</span> lines added
            </div>
            <div class="stat removed">
                <span>-20</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><span># Effort&para;<br>&para;<br>Control how many tokens Claude uses when responding with the effort parameter, trading off between response thoroughness and token efficiency.&para;<br>&para;<br>---&para;<br>&para;<br>The effort parameter allows you to control how eager Claude is about spending tokens when responding to requests. This gives you the ability to trade off between response thoroughness and token efficiency, all with a single model.</span><del style="background:#ffe6e6;">&para;<br>&para;<br>&lt;Note&gt;&para;<br> </del><span> The effort parameter is </span><del style="background:#ffe6e6;">currently in beta and only supported by Claude Opus 4.5.&para;<br>&para;<br>  You must include the [beta header](/docs/en/api/beta-headers) `effort-2025-11-24` when using this feature.&para;<br>&lt;/Note</del><ins style="background:#e6ffe6;">generally available on all supported models with no beta header required.&para;<br>&para;<br>&lt;Note&gt;&para;<br>  The effort parameter is supported by Claude Opus 4.6 and Claude Opus 4.5.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>&lt;Tip&gt;&para;<br>For Claude Opus 4.6, effort replaces `budget_tokens` as the recommended way to control thinking depth. Combine effort with [adaptive thinking](/docs/en/build-with-claude/adaptive-thinking) (`thinking: {type: "adaptive"}`) for the best experience. While `budget_tokens` is still accepted on Opus 4.6, it is deprecated and will be removed in a future model release. At `high` (default) and `max` effort, Claude will almost always think. At lower effort levels, it may skip thinking for simpler problems.&para;<br>&lt;/Tip</ins><span>&gt;&para;<br>&para;<br>## How effort works&para;<br>&para;<br>By default, Claude uses </span><del style="background:#ffe6e6;">maximum</del><ins style="background:#e6ffe6;">high</ins><span> effort—spending as many tokens as needed for </span><del style="background:#ffe6e6;">the best possible outcome. By lowering the effort level, you can instruct Claude</del><ins style="background:#e6ffe6;">excellent results. You can raise the effort level to `max` for the absolute highest capability, or lower it</ins><span> to be more conservative with token usage, optimizing for speed and cost while accepting some reduction in capability.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>Setting `effort` to `"high"` produces exactly the same behavior as omitting the `effort` parameter entirely.&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>The effort parameter affects **all tokens** in the response, including:&para;<br>&para;<br>- Text responses and explanations&para;<br>- Tool calls and function arguments&para;<br>- Extended thinking (when enabled)&para;<br>&para;<br>This approach has two major advantages:&para;<br>&para;<br>1. It doesn't require thinking to be enabled in order to use it.&para;<br>2. It can affect all token spend including tool calls. For example, lower effort would mean Claude makes fewer tool calls. This gives a much greater degree of control over efficiency.&para;<br>&para;<br>### Effort levels&para;<br>&para;<br>| Level    | Description                                                                                                                      | Typical use case                                                                      |&para;<br>| -------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |&para;<br>| `</span><del style="background:#ffe6e6;">high</del><ins style="background:#e6ffe6;">max</ins><span>`   </span><ins style="background:#e6ffe6;"> </ins><span>| </span><del style="background:#ffe6e6;">M</del><ins style="background:#e6ffe6;">Absolute m</ins><span>aximum capability</span><del style="background:#ffe6e6;">. Claude uses as many tokens as needed for</del><ins style="background:#e6ffe6;"> with no constraints on token spending. Opus 4.6 only — requests using `max` on other models will return an error. | Tasks requiring</ins><span> the </span><del style="background:#ffe6e6;">b</del><ins style="background:#e6ffe6;">deep</ins><span>est possible </span><del style="background:#ffe6e6;">outcome</del><ins style="background:#e6ffe6;">reasoning and most thorough analysis |&para;<br>| `high`   | High capability</ins><span>. Equivalent to not setting the parameter.</span><del style="background:#ffe6e6;"> </del><span> | Complex reasoning, difficult coding problems, agentic tasks                           |&para;<br>| `medium` | Balanced approach with moderate token savings. | Agentic tasks that require a balance of speed, cost, and performance                                                         |&para;<br>| `low`    | Most efficient. Significant token savings with some capability reduction. | Simpler tasks that need the best speed and lowest costs, such as subagents                     |&para;<br>&para;<br></span><ins style="background:#e6ffe6;">&lt;Note&gt;&para;<br>Effort is a behavioral signal, not a strict token budget. At lower effort levels, Claude will still think on sufficiently difficult problems — it will just think less than it would at higher effort levels for the same problem.&para;<br>&lt;/Note&gt;&para;<br>&para;<br></ins><span>## Basic usage&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```python Python&para;<br>import anthropic&para;<br>&para;<br>client = anthropic.Anthropic()&para;<br>&para;<br>response = client.</span><del style="background:#ffe6e6;">beta.</del><span>messages.create(&para;<br>    model="claude-opus-4-</span><del style="background:#ffe6e6;">5-20251101",&para;<br>    betas=["effort-2025-11-24"]</del><ins style="background:#e6ffe6;">6"</ins><span>,&para;<br>    max_tokens=4096,&para;<br>    messages=[{&para;<br>        "role": "user",&para;<br>        "content": "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>    }],&para;<br>    output_config={&para;<br>        "effort": "medium"&para;<br>    }&para;<br>)&para;<br>&para;<br>print(response.content[0].text)&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>import Anthropic from '@anthropic-ai/sdk';&para;<br>&para;<br>const client = new Anthropic();&para;<br>&para;<br>const response = await client.</span><del style="background:#ffe6e6;">beta.</del><span>messages.create({&para;<br>  model: "claude-opus-4-</span><del style="background:#ffe6e6;">5-20251101",&para;<br>  betas: ["effort-2025-11-24"]</del><ins style="background:#e6ffe6;">6"</ins><span>,&para;<br>  max_tokens: 4096,&para;<br>  messages: [{&para;<br>    role: "user",&para;<br>    content: "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>  }],&para;<br>  output_config: {&para;<br>    effort: "medium"&para;<br>  }&para;<br>});&para;<br>&para;<br>console.log(response.content[0].text);&para;<br>```&para;<br>&para;<br>```bash Shell&para;<br>curl https://api.anthropic.com/v1/messages \&para;<br>    --header "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>    --header "anthropic-version: 2023-06-01" \&para;<br></span><del style="background:#ffe6e6;">    --header "anthropic-beta: effort-2025-11-24" \&para;<br></del><span>    --header "content-type: application/json" \&para;<br>    --data '{&para;<br>        "model": "claude-opus-4-</span><del style="background:#ffe6e6;">5-20251101</del><ins style="background:#e6ffe6;">6</ins><span>",&para;<br>        "max_tokens": 4096,&para;<br>        "messages": [{&para;<br>            "role": "user",&para;<br>            "content": "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>        }],&para;<br>        "output_config": {&para;<br>            "effort": "medium"&para;<br>        }&para;<br>    }'&para;<br>```&para;<br>&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>## When should I adjust the effort parameter?&para;<br>&para;<br></span><ins style="background:#e6ffe6;">- Use **max effort** when you need the absolute highest capability with no constraints—the most thorough reasoning and deepest analysis. Only available on Opus 4.6; requests using `max` on other models will return an error.&para;<br></ins><span>- Use **high effort** (the default) when you need Claude's best work—complex reasoning, nuanced analysis, difficult coding problems, or any task where quality is the top priority.&para;<br>- Use **medium effort** as a balanced option when you want solid performance without the full token expenditure of high effort.&para;<br>- Use **low effort** when you're optimizing for speed (because Claude answers with fewer tokens) or cost—for example, simple classification tasks, quick lookups, or high-volume use cases where marginal quality improvements don't justify additional latency or spend.&para;<br>&para;<br>## Effort with tool use&para;<br>&para;<br>When using tools, the effort parameter affects both the explanations around tool calls and the tool calls themselves. Lower effort levels tend to:&para;<br>&para;<br>- Combine multiple operations into fewer tool calls&para;<br>- Make fewer tool calls&para;<br>- Proceed directly to action without preamble&para;<br>- Use terse confirmation messages after completion&para;<br>&para;<br>Higher effort levels may:&para;<br>&para;<br>- Make more tool calls&para;<br>- Explain the plan before taking action&para;<br>- Provide detailed summaries of changes&para;<br>- Include more comprehensive code comments&para;<br>&para;<br>## Effort with extended thinking&para;<br>&para;<br>The effort parameter works alongside </span><del style="background:#ffe6e6;">the</del><ins style="background:#e6ffe6;">extended</ins><span> thinking</span><del style="background:#ffe6e6;"> token budget when extended thinking is enabled. These two controls serve different purposes:&para;<br>&para;<br>- **Effort parameter**: Controls how Claude spends all tokens—including thinking tokens, text responses, and tool calls&para;<br>- **Thinking token budget**: Sets a maximum limit on thinking tokens specifically&para;<br>&para;<br>The effort parameter can be used with or without extended thinking enabled. When both are configured:&para;<br>&para;<br>1. First determine</del><ins style="background:#e6ffe6;">. Its behavior depends on the model:&para;<br>&para;<br>- **Claude Opus 4.6** uses [adaptive thinking](/docs/en/build-with-claude/adaptive-thinking) (`thinking: {type: "adaptive"}`), where effort is the recommended control for thinking depth. While `budget_tokens` is still accepted on Opus 4.6, it is deprecated and will be removed in a future release. At `high` and `max` effort, Claude almost always thinks deeply. At lower levels, it may skip thinking for simpler problems.&para;<br>- **Claude Opus 4.5** uses manual thinking (`thinking: {type: "enabled", budget_tokens: N}`), where effort works alongside the thinking token budget. Set</ins><span> the effort level </span><del style="background:#ffe6e6;">appropriate </del><span>for your task</span><del style="background:#ffe6e6;">&para;<br>2. T</del><ins style="background:#e6ffe6;">, t</ins><span>hen set the thinking token budget based on task complexity</span><ins style="background:#e6ffe6;">.</ins><span>&para;<br>&para;<br></span><del style="background:#ffe6e6;">For best performance on complex reasoning tasks, use high effort (the default) with a high thinking token budget. This allows Claude to think thoroughly and provide comprehensive response</del><ins style="background:#e6ffe6;">The effort parameter can be used with or without extended thinking enabled. When used without thinking, it still controls overall token spend for text responses and tool call</ins><span>s.&para;<br>&para;<br>## Best practices&para;<br>&para;<br>1. **Start with high**: Use lower effort levels to trade off performance for token efficiency.&para;<br>2. **Use low for speed-sensitive or simple tasks**: When latency matters or tasks are straightforward, low effort can significantly reduce response times and costs.&para;<br>3. **Test your use case**: The impact of effort levels varies by task type. Evaluate performance on your specific use cases before deploying.&para;<br>4. **Consider dynamic effort**: Adjust effort based on task complexity. Simple queries may warrant low effort while agentic coding and complex reasoning benefit from high effort.</span></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/build-with-claude/effort.md
+++ b/build-with-claude/effort.md
@@ -4,17 +4,19 @@
 
 ---
 
-The effort parameter allows you to control how eager Claude is about spending tokens when responding to requests. This gives you the ability to trade off between response thoroughness and token efficiency, all with a single model.
+The effort parameter allows you to control how eager Claude is about spending tokens when responding to requests. This gives you the ability to trade off between response thoroughness and token efficiency, all with a single model. The effort parameter is generally available on all supported models with no beta header required.
 
 &lt;Note&gt;
-  The effort parameter is currently in beta and only supported by Claude Opus 4.5.
+  The effort parameter is supported by Claude Opus 4.6 and Claude Opus 4.5.
+&lt;/Note&gt;
 
-  You must include the [beta header](/docs/en/api/beta-headers) `effort-2025-11-24` when using this feature.
-&lt;/Note&gt;
+&lt;Tip&gt;
+For Claude Opus 4.6, effort replaces `budget_tokens` as the recommended way to control thinking depth. Combine effort with [adaptive thinking](/docs/en/build-with-claude/adaptive-thinking) (`thinking: {type: &#34;adaptive&#34;}`) for the best experience. While `budget_tokens` is still accepted on Opus 4.6, it is deprecated and will be removed in a future model release. At `high` (default) and `max` effort, Claude will almost always think. At lower effort levels, it may skip thinking for simpler problems.
+&lt;/Tip&gt;
 
 ## How effort works
 
-By default, Claude uses maximum effort—spending as many tokens as needed for the best possible outcome. By lowering the effort level, you can instruct Claude to be more conservative with token usage, optimizing for speed and cost while accepting some reduction in capability.
+By default, Claude uses high effort—spending as many tokens as needed for excellent results. You can raise the effort level to `max` for the absolute highest capability, or lower it to be more conservative with token usage, optimizing for speed and cost while accepting some reduction in capability.
 
 &lt;Tip&gt;
 Setting `effort` to `&#34;high&#34;` produces exactly the same behavior as omitting the `effort` parameter entirely.
@@ -35,9 +37,14 @@
 
 | Level    | Description                                                                                                                      | Typical use case                                                                      |
 | -------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
-| `high`   | Maximum capability. Claude uses as many tokens as needed for the best possible outcome. Equivalent to not setting the parameter.  | Complex reasoning, difficult coding problems, agentic tasks                           |
+| `max`    | Absolute maximum capability with no constraints on token spending. Opus 4.6 only — requests using `max` on other models will return an error. | Tasks requiring the deepest possible reasoning and most thorough analysis |
+| `high`   | High capability. Equivalent to not setting the parameter. | Complex reasoning, difficult coding problems, agentic tasks                           |
 | `medium` | Balanced approach with moderate token savings. | Agentic tasks that require a balance of speed, cost, and performance                                                         |
 | `low`    | Most efficient. Significant token savings with some capability reduction. | Simpler tasks that need the best speed and lowest costs, such as subagents                     |
+
+&lt;Note&gt;
+Effort is a behavioral signal, not a strict token budget. At lower effort levels, Claude will still think on sufficiently difficult problems — it will just think less than it would at higher effort levels for the same problem.
+&lt;/Note&gt;
 
 ## Basic usage
 
@@ -47,9 +54,8 @@
 
 client = anthropic.Anthropic()
 
-response = client.beta.messages.create(
-    model=&#34;claude-opus-4-5-20251101&#34;,
-    betas=[&#34;effort-2025-11-24&#34;],
+response = client.messages.create(
+    model=&#34;claude-opus-4-6&#34;,
     max_tokens=4096,
     messages=[{
         &#34;role&#34;: &#34;user&#34;,
@@ -68,9 +74,8 @@
 
 const client = new Anthropic();
 
-const response = await client.beta.messages.create({
-  model: &#34;claude-opus-4-5-20251101&#34;,
-  betas: [&#34;effort-2025-11-24&#34;],
+const response = await client.messages.create({
+  model: &#34;claude-opus-4-6&#34;,
   max_tokens: 4096,
   messages: [{
     role: &#34;user&#34;,
@@ -88,10 +93,9 @@
 curl https://api.anthropic.com/v1/messages \
     --header &#34;x-api-key: $ANTHROPIC_API_KEY&#34; \
     --header &#34;anthropic-version: 2023-06-01&#34; \
-    --header &#34;anthropic-beta: effort-2025-11-24&#34; \
     --header &#34;content-type: application/json&#34; \
     --data &#39;{
-        &#34;model&#34;: &#34;claude-opus-4-5-20251101&#34;,
+        &#34;model&#34;: &#34;claude-opus-4-6&#34;,
         &#34;max_tokens&#34;: 4096,
         &#34;messages&#34;: [{
             &#34;role&#34;: &#34;user&#34;,
@@ -107,6 +111,7 @@
 
 ## When should I adjust the effort parameter?
 
+- Use **max effort** when you need the absolute highest capability with no constraints—the most thorough reasoning and deepest analysis. Only available on Opus 4.6; requests using `max` on other models will return an error.
 - Use **high effort** (the default) when you need Claude&#39;s best work—complex reasoning, nuanced analysis, difficult coding problems, or any task where quality is the top priority.
 - Use **medium effort** as a balanced option when you want solid performance without the full token expenditure of high effort.
 - Use **low effort** when you&#39;re optimizing for speed (because Claude answers with fewer tokens) or cost—for example, simple classification tasks, quick lookups, or high-volume use cases where marginal quality improvements don&#39;t justify additional latency or spend.
@@ -129,17 +134,12 @@
 
 ## Effort with extended thinking
 
-The effort parameter works alongside the thinking token budget when extended thinking is enabled. These two controls serve different purposes:
+The effort parameter works alongside extended thinking. Its behavior depends on the model:
 
-- **Effort parameter**: Controls how Claude spends all tokens—including thinking tokens, text responses, and tool calls
-- **Thinking token budget**: Sets a maximum limit on thinking tokens specifically
+- **Claude Opus 4.6** uses [adaptive thinking](/docs/en/build-with-claude/adaptive-thinking) (`thinking: {type: &#34;adaptive&#34;}`), where effort is the recommended control for thinking depth. While `budget_tokens` is still accepted on Opus 4.6, it is deprecated and will be removed in a future release. At `high` and `max` effort, Claude almost always thinks deeply. At lower levels, it may skip thinking for simpler problems.
+- **Claude Opus 4.5** uses manual thinking (`thinking: {type: &#34;enabled&#34;, budget_tokens: N}`), where effort works alongside the thinking token budget. Set the effort level for your task, then set the thinking token budget based on task complexity.
 
-The effort parameter can be used with or without extended thinking enabled. When both are configured:
-
-1. First determine the effort level appropriate for your task
-2. Then set the thinking token budget based on task complexity
-
-For best performance on complex reasoning tasks, use high effort (the default) with a high thinking token budget. This allows Claude to think thoroughly and provide comprehensive responses.
+The effort parameter can be used with or without extended thinking enabled. When used without thinking, it still controls overall token spend for text responses and tool calls.
 
 ## Best practices
 
</code></pre>
    </div>
</body>
</html>