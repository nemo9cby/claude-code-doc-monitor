<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>about-claude/models/migrating-to-claude-4 - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>about-claude/models/migrating-to-claude-4.md</h1>
            <p class="meta">Changed on 2026-02-11 10:56:44 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+15</span> lines added
            </div>
            <div class="stat removed">
                <span>-22</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><span># Migration guide&para;<br>&para;<br>Guide for migrating to Claude 4.6 models from previous Claude versions&para;<br>&para;<br>---&para;<br>&para;<br>## Migrating to Claude 4.6&para;<br>&para;<br>Claude Opus 4.6 is a near drop-in replacement for Claude 4.5, with a few breaking changes to be aware of. For a full list of new features, see [What's new in Claude 4.6](/docs/en/about-claude/models/whats-new-claude-4-6).&para;<br>&para;<br>### Update your model name&para;<br>&para;<br>```python&para;<br># Opus migration&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-5"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-6"</span><del style="background:#ffe6e6;"> </del><span>  # After&para;<br>```&para;<br>&para;<br>### Breaking changes&para;<br>&para;<br>1. **Prefill removal:** Prefilling assistant messages returns a 400 error on Claude 4.6 models. Use [structured outputs](/docs/en/build-with-claude/structured-outputs), system prompt instructions, or `output_config.format` instead.&para;<br>&para;<br>2. **Tool parameter quoting:** Claude 4.6 models may produce slightly different JSON string escaping in tool call arguments (e.g., different handling of Unicode escapes or forward slash escaping). If you parse tool call `input` as a raw string rather than using a JSON parser, verify your parsing logic. Standard JSON parsers (like `json.loads()` or `JSON.parse()`) handle these differences automatically.&para;<br>&para;<br>### Recommended changes&para;<br>&para;<br>These are not required but will improve your experience:&para;<br>&para;<br>1. **Migrate to adaptive thinking:** `thinking: {type: "enabled", budget_tokens: N}` is deprecated on Claude 4.6 models and will be removed in a future model release. Switch to `thinking: {type: "adaptive"}` and use the [effort parameter](/docs/en/build-with-claude/effort) to control thinking depth. See [Adaptive thinking](/docs/en/build-with-claude/adaptive-thinking).&para;<br>&para;<br>   &lt;CodeGroup&gt;&para;<br>   ```python Before&para;<br>   response = client.beta.messages.create(&para;<br>       model="claude-opus-4-5",&para;<br>       max_tokens=16000,&para;<br>       thinking={</span><del style="background:#ffe6e6;">&para;<br>           </del><span>"type": "enabled",</span><del style="background:#ffe6e6;">&para;<br>          </del><span> "budget_tokens": 32000</span><del style="background:#ffe6e6;">&para;<br>       </del><span>},&para;<br>       betas=["interleaved-thinking-2025-05-14"],&para;<br>       messages=[...]</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>   )&para;<br>   ```&para;<br>&para;<br>   ```python After&para;<br>   response = client.messages.create(&para;<br>       model="claude-opus-4-6",&para;<br>       max_tokens=16000,&para;<br>       thinking={</span><del style="background:#ffe6e6;">&para;<br>           </del><span>"type": "adaptive"</span><del style="background:#ffe6e6;">&para;<br>       </del><span>},&para;<br>       output_config={</span><del style="background:#ffe6e6;">&para;<br>           </del><span>"effort": "high"</span><del style="background:#ffe6e6;">&para;<br>       </del><span>},&para;<br>       messages=[...]</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>   )&para;<br>   ```&para;<br>   &lt;/CodeGroup&gt;&para;<br>&para;<br>   Note that the migration also moves from `client.beta.messages.create` to `client.messages.create`. Adaptive thinking and effort are GA features and do not require the beta SDK namespace or any beta headers.&para;<br>&para;<br>2. **Remove effort beta header:** The effort parameter is now GA. Remove `betas=["effort-2025-11-24"]` from your requests.&para;<br>&para;<br>3. **Remove fine-grained tool streaming beta header:** Fine-grained tool streaming is now GA. Remove `betas=["fine-grained-tool-streaming-2025-05-14"]` from your requests.&para;<br>&para;<br>4. **Remove interleaved thinking beta header:** Adaptive thinking automatically enables interleaved thinking. Remove `betas=["interleaved-thinking-2025-05-14"]` from your requests.&para;<br>&para;<br>5. **Migrate to output_config.format:** If using structured outputs, update `output_format={...}` to `output_config={"format": {...}}`. The old parameter remains functional but is deprecated and will be removed in a future model release.&para;<br>&para;<br>### Migrating from Claude 4.1 or earlier to Claude 4.6&para;<br>&para;<br>If you're migrating from Opus 4.1, Sonnet 4, or earlier models directly to Claude 4.6, apply the Claude 4.6 breaking changes above plus the additional changes in this section.&para;<br>&para;<br>```python&para;<br># From Opus 4.1&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-1-20250805"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-6"</span><del style="background:#ffe6e6;">          </del><span>  # After&para;<br>&para;<br># From Sonnet 4&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-sonnet-4-20250514"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-6"</span><del style="background:#ffe6e6;">          </del><span>  # After&para;<br>&para;<br># From Sonnet 3.7&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-3-7-sonnet-20250219"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-opus-4-6"</span><del style="background:#ffe6e6;">            </del><span>  # After&para;<br>```&para;<br>&para;<br>#### Additional breaking changes&para;<br>&para;<br>1. **Update sampling parameters**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Use only `temperature` OR `top_p`, not both:&para;<br>&para;<br>   ```python&para;<br>   # Before - This will error in Claude 4+ models&para;<br>   response = client.messages.create(&para;<br>       model="claude-3-7-sonnet-20250219",&para;<br>       temperature=0.7,&para;<br>       top_p=0.9,  # Cannot use both&para;<br>      </span><ins style="background:#e6ffe6;"> #</ins><span> ...&para;<br>   )&para;<br>&para;<br>   # After&para;<br>   response = client.messages.create(&para;<br>       model="claude-opus-4-6",&para;<br>       temperature=0.7,  # Use temperature OR top_p, not both&para;<br>      </span><ins style="background:#e6ffe6;"> #</ins><span> ...&para;<br>   )&para;<br>   ```&para;<br>&para;<br>2. **Update tool versions**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Update to the latest tool versions. Remove any code using the `undo_edit` command.&para;<br>&para;<br>   ```python&para;<br>   # Before&para;<br>   tools</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>[{"type": "text_editor_20250124", "name": "str_replace_editor"}]&para;<br>&para;<br>   # After&para;<br>   tools</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>[{"type": "text_editor_20250728", "name": "str_replace_based_edit_tool"}]&para;<br>   ```&para;<br>&para;<br>   - **Text editor:** Use `text_editor_20250728` and `str_replace_based_edit_tool`. See [Text editor tool documentation](/docs/en/agents-and-tools/tool-use/text-editor-tool) for details.&para;<br>   - **Code execution:** Upgrade to `code_execution_20250825`. See [Code execution tool documentation](/docs/en/agents-and-tools/tool-use/code-execution-tool#upgrade-to-latest-tool-version) for migration instructions.&para;<br>&para;<br>3. **Handle the `refusal` stop reason**&para;<br>&para;<br>   Update your application to [handle `refusal` stop reasons](/docs/en/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals):&para;<br>&para;<br>   ```python&para;<br>   response = client.messages.create(...)&para;<br>&para;<br>   if response.stop_reason == "refusal":&para;<br>       # Handle refusal appropriately&para;<br>       pass&para;<br>   ```&para;<br>&para;<br>4. **Handle the `model_context_window_exceeded` stop reason**&para;<br>&para;<br>   Claude 4.5+ models return a `model_context_window_exceeded` stop reason when generation stops due to hitting the context window limit, rather than the requested `max_tokens` limit. Update your application to handle this new stop reason:&para;<br>&para;<br>   ```python&para;<br>   response = client.messages.create(...)&para;<br>&para;<br>   if response.stop_reason == "model_context_window_exceeded":&para;<br>       # Handle context window limit appropriately&para;<br>       pass&para;<br>   ```&para;<br>&para;<br>5. **Verify tool parameter handling (trailing newlines)**&para;<br>&para;<br>   Claude 4.5+ models preserve trailing newlines in tool call string parameters that were previously stripped. If your tools rely on exact string matching against tool call parameters, verify your logic handles trailing newlines correctly.&para;<br>&para;<br>6. **Update your prompts for behavioral changes**&para;<br>&para;<br>   Claude 4+ models have a more concise, direct communication style and require explicit direction. Review [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices) for optimization guidance.&para;<br>&para;<br>#### Additional recommended changes&para;<br>&para;<br>- **Remove legacy beta headers:** Remove `token-efficient-tools-2025-02-19` and `output-128k-2025-02-19`. All Claude 4+ models have built-in token-efficient tool use and these headers have no effect.&para;<br>&para;<br>### Claude 4.6 migration checklist&para;<br>&para;<br>- [ ] Update model ID to `claude-opus-4-6`&para;<br>- [ ] **BREAKING:** Remove assistant message prefills (returns 400 error); use structured outputs or `output_config.format` instead&para;<br>- [ ] **Recommended:** Migrate from `thinking: {type: "enabled", budget_tokens: N}` to `thinking: {type: "adaptive"}` with the [effort parameter](/docs/en/build-with-claude/effort) (`budget_tokens` is deprecated and will be removed in a future release)&para;<br>- [ ] Verify tool call JSON parsing uses a standard JSON parser&para;<br>- [ ] Remove `effort-2025-11-24` beta header (effort is now GA)&para;<br>- [ ] Remove `fine-grained-tool-streaming-2025-05-14` beta header&para;<br>- [ ] Remove `interleaved-thinking-2025-05-14` beta header&para;<br>- [ ] Migrate `output_format` to `output_config.format` (if applicable)&para;<br>- [ ] If migrating from Claude 4.1 or earlier: update sampling parameters to use only `temperature` OR `top_p`&para;<br>- [ ] If migrating from Claude 4.1 or earlier: update tool versions (`text_editor_20250728`, `code_execution_20250825`)&para;<br>- [ ] If migrating from Claude 4.1 or earlier: handle `refusal` stop reason&para;<br>- [ ] If migrating from Claude 4.1 or earlier: handle `model_context_window_exceeded` stop reason&para;<br>- [ ] If migrating from Claude 4.1 or earlier: verify tool string parameter handling for trailing newlines&para;<br>- [ ] If migrating from Claude 4.1 or earlier: remove legacy beta headers (`token-efficient-tools-2025-02-19`, `output-128k-2025-02-19`)&para;<br>- [ ] Review and update prompts following [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices)&para;<br>- [ ] Test in development environment before production deployment&para;<br>&para;<br>---&para;<br>&para;<br>## Migrating to Claude Sonnet 4.5&para;<br>&para;<br>Claude Sonnet 4.5 combines strong intelligence with fast performance, making it ideal for everyday coding, analysis, and content tasks.&para;<br>&para;<br>For a complete overview of capabilities, see the [models overview](/docs/en/about-claude/models/overview).&para;<br>&para;<br>&lt;Note&gt;&para;<br>Sonnet 4.5 pricing is $3 per million input tokens, $15 per million output tokens. See [Claude pricing](/docs/en/about-claude/pricing) for details.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>**Update your model name:**&para;<br>&para;<br>```python&para;<br># From Sonnet 4&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-sonnet-4-20250514"</span><del style="background:#ffe6e6;">   </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-sonnet-4-5-20250929"  </span><del style="background:#ffe6e6;"> </del><span># After&para;<br>&para;<br># From Sonnet 3.7&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-3-7-sonnet-20250219"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-sonnet-4-5-20250929"</span><del style="background:#ffe6e6;"> </del><span>  # After&para;<br>```&para;<br>&para;<br>### Breaking changes&para;<br>&para;<br>These breaking changes apply when migrating from Claude 3.x Sonnet models.&para;<br>&para;<br>1. **Update sampling parameters**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Use only `temperature` OR `top_p`, not both.&para;<br>&para;<br>2. **Update tool versions**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Update to the latest tool versions (`text_editor_20250728`, `code_execution_20250825`). Remove any code using the `undo_edit` command.&para;<br>&para;<br>3. **Handle the `refusal` stop reason**&para;<br>&para;<br>   Update your application to [handle `refusal` stop reasons](/docs/en/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals).&para;<br>&para;<br>4. **Update your prompts for behavioral changes**&para;<br>&para;<br>   Claude 4 models have a more concise, direct communication style. Review [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices) for optimization guidance.&para;<br>&para;<br>### Sonnet 4.5 migration checklist&para;<br>&para;<br>- [ ] Update model ID to `claude-sonnet-4-5-20250929`&para;<br>- [ ] **BREAKING:** Update tool versions to latest (`text_editor_20250728`, `code_execution_20250825`); legacy versions are not supported (if migrating from 3.x)&para;<br>- [ ] **BREAKING:** Remove any code using the `undo_edit` command (if applicable)&para;<br>- [ ] **BREAKING:** Update sampling parameters to use only `temperature` OR `top_p`, not both (if migrating from 3.x)&para;<br>- [ ] Handle new `refusal` stop reason in your application&para;<br>- [ ] Review and update prompts following [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices)&para;<br>- [ ] Consider enabling extended thinking for complex reasoning tasks&para;<br>- [ ] Test in development environment before production deployment&para;<br>&para;<br>---&para;<br>&para;<br>## Migrating to Claude Haiku 4.5&para;<br>&para;<br>Claude Haiku 4.5 is the fastest and most intelligent Haiku model with near-frontier performance, delivering premium model quality for interactive applications and high-volume processing.&para;<br>&para;<br>For a complete overview of capabilities, see the [models overview](/docs/en/about-claude/models/overview).&para;<br>&para;<br>&lt;Note&gt;&para;<br>Haiku 4.5 pricing is $1 per million input tokens, $5 per million output tokens. See [Claude pricing](/docs/en/about-claude/pricing) for details.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>**Update your model name:**&para;<br>&para;<br>```python&para;<br># From Haiku 3.5&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-3-5-haiku-20241022"</span><del style="background:#ffe6e6;"> </del><span>  # Before&para;<br>model</span><del style="background:#ffe6e6;">=</del><ins style="background:#e6ffe6;"> = </ins><span>"claude-haiku-4-5-20251001"</span><del style="background:#ffe6e6;"> </del><span>  # After&para;<br>```&para;<br>&para;<br>**Review new rate limits:** Haiku 4.5 has separate rate limits from Haiku 3.5. See [Rate limits documentation](/docs/en/api/rate-limits) for details.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>For significant performance improvements on coding and reasoning tasks, consider enabling extended thinking with `thinking: {type: "enabled", budget_tokens: N}`.&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>&lt;Note&gt;&para;<br>Extended thinking impacts [prompt caching](/docs/en/build-with-claude/prompt-caching#caching-with-thinking-blocks) efficiency.&para;<br>&para;<br>Extended thinking is deprecated in Claude 4.6 or newer models. If using newer models, use [adaptive thinking](/docs/en/build-with-claude/adaptive-thinking) instead.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>**Explore new capabilities:** See the [models overview](/docs/en/about-claude/models/overview) for details on context awareness, increased output capacity (64K tokens), higher intelligence, and improved speed.&para;<br>&para;<br>### Breaking changes&para;<br>&para;<br>These breaking changes apply when migrating from Claude 3.x Haiku models.&para;<br>&para;<br>1. **Update sampling parameters**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Use only `temperature` OR `top_p`, not both.&para;<br>&para;<br>2. **Update tool versions**&para;<br>&para;<br>   &lt;Warning&gt;&para;<br>   This is a breaking change when migrating from Claude 3.x models.&para;<br>   &lt;/Warning&gt;&para;<br>&para;<br>   Update to the latest tool versions (`text_editor_20250728`, `code_execution_20250825`). Remove any code using the `undo_edit` command.&para;<br>&para;<br>3. **Handle the `refusal` stop reason**&para;<br>&para;<br>   Update your application to [handle `refusal` stop reasons](/docs/en/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals).&para;<br>&para;<br>4. **Update your prompts for behavioral changes**&para;<br>&para;<br>   Claude 4 models have a more concise, direct communication style. Review [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices) for optimization guidance.&para;<br>&para;<br>### Haiku 4.5 migration checklist&para;<br>&para;<br>- [ ] Update model ID to `claude-haiku-4-5-20251001`&para;<br>- [ ] **BREAKING:** Update tool versions to latest (`text_editor_20250728`, `code_execution_20250825`); legacy versions are not supported&para;<br>- [ ] **BREAKING:** Remove any code using the `undo_edit` command (if applicable)&para;<br>- [ ] **BREAKING:** Update sampling parameters to use only `temperature` OR `top_p`, not both&para;<br>- [ ] Handle new `refusal` stop reason in your application&para;<br>- [ ] Review and adjust for new rate limits (separate from Haiku 3.5)&para;<br>- [ ] Review and update prompts following [prompting best practices](/docs/en/build-with-claude/prompt-engineering/claude-prompting-best-practices)&para;<br>- [ ] Consider enabling extended thinking for complex reasoning tasks&para;<br>- [ ] Test in development environment before production deployment&para;<br>&para;<br>---&para;<br>&para;<br>## Need help?&para;<br>&para;<br>- Check the [API documentation](/docs/en/api/overview) for detailed specifications&para;<br>- Review [model capabilities](/docs/en/about-claude/models/overview) for performance comparisons&para;<br>- Review [API release notes](/docs/en/release-notes/api) for API updates&para;<br>- Contact support if you encounter any issues during migration</span></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/about-claude/models/migrating-to-claude-4.md
+++ b/about-claude/models/migrating-to-claude-4.md
@@ -12,8 +12,8 @@
 
 ```python
 # Opus migration
-model=&#34;claude-opus-4-5&#34;   # Before
-model=&#34;claude-opus-4-6&#34;   # After
+model = &#34;claude-opus-4-5&#34;  # Before
+model = &#34;claude-opus-4-6&#34;  # After
 ```
 
 ### Breaking changes
@@ -33,12 +33,9 @@
    response = client.beta.messages.create(
        model=&#34;claude-opus-4-5&#34;,
        max_tokens=16000,
-       thinking={
-           &#34;type&#34;: &#34;enabled&#34;,
-           &#34;budget_tokens&#34;: 32000
-       },
+       thinking={&#34;type&#34;: &#34;enabled&#34;, &#34;budget_tokens&#34;: 32000},
        betas=[&#34;interleaved-thinking-2025-05-14&#34;],
-       messages=[...]
+       messages=[...],
    )
    ```
 
@@ -46,13 +43,9 @@
    response = client.messages.create(
        model=&#34;claude-opus-4-6&#34;,
        max_tokens=16000,
-       thinking={
-           &#34;type&#34;: &#34;adaptive&#34;
-       },
-       output_config={
-           &#34;effort&#34;: &#34;high&#34;
-       },
-       messages=[...]
+       thinking={&#34;type&#34;: &#34;adaptive&#34;},
+       output_config={&#34;effort&#34;: &#34;high&#34;},
+       messages=[...],
    )
    ```
    &lt;/CodeGroup&gt;
@@ -73,16 +66,16 @@
 
 ```python
 # From Opus 4.1
-model=&#34;claude-opus-4-1-20250805&#34;   # Before
-model=&#34;claude-opus-4-6&#34;            # After
+model = &#34;claude-opus-4-1-20250805&#34;  # Before
+model = &#34;claude-opus-4-6&#34;  # After
 
 # From Sonnet 4
-model=&#34;claude-sonnet-4-20250514&#34;   # Before
-model=&#34;claude-opus-4-6&#34;            # After
+model = &#34;claude-sonnet-4-20250514&#34;  # Before
+model = &#34;claude-opus-4-6&#34;  # After
 
 # From Sonnet 3.7
-model=&#34;claude-3-7-sonnet-20250219&#34;   # Before
-model=&#34;claude-opus-4-6&#34;              # After
+model = &#34;claude-3-7-sonnet-20250219&#34;  # Before
+model = &#34;claude-opus-4-6&#34;  # After
 ```
 
 #### Additional breaking changes
@@ -101,14 +94,14 @@
        model=&#34;claude-3-7-sonnet-20250219&#34;,
        temperature=0.7,
        top_p=0.9,  # Cannot use both
-       ...
+       # ...
    )
 
    # After
    response = client.messages.create(
        model=&#34;claude-opus-4-6&#34;,
        temperature=0.7,  # Use temperature OR top_p, not both
-       ...
+       # ...
    )
    ```
 
@@ -122,10 +115,10 @@
 
    ```python
    # Before
-   tools=[{&#34;type&#34;: &#34;text_editor_20250124&#34;, &#34;name&#34;: &#34;str_replace_editor&#34;}]
+   tools = [{&#34;type&#34;: &#34;text_editor_20250124&#34;, &#34;name&#34;: &#34;str_replace_editor&#34;}]
 
    # After
-   tools=[{&#34;type&#34;: &#34;text_editor_20250728&#34;, &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;}]
+   tools = [{&#34;type&#34;: &#34;text_editor_20250728&#34;, &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;}]
    ```
 
    - **Text editor:** Use `text_editor_20250728` and `str_replace_based_edit_tool`. See [Text editor tool documentation](/docs/en/agents-and-tools/tool-use/text-editor-tool) for details.
@@ -202,12 +195,12 @@
 
 ```python
 # From Sonnet 4
-model=&#34;claude-sonnet-4-20250514&#34;     # Before
-model=&#34;claude-sonnet-4-5-20250929&#34;   # After
+model = &#34;claude-sonnet-4-20250514&#34;  # Before
+model = &#34;claude-sonnet-4-5-20250929&#34;  # After
 
 # From Sonnet 3.7
-model=&#34;claude-3-7-sonnet-20250219&#34;   # Before
-model=&#34;claude-sonnet-4-5-20250929&#34;   # After
+model = &#34;claude-3-7-sonnet-20250219&#34;  # Before
+model = &#34;claude-sonnet-4-5-20250929&#34;  # After
 ```
 
 ### Breaking changes
@@ -265,8 +258,8 @@
 
 ```python
 # From Haiku 3.5
-model=&#34;claude-3-5-haiku-20241022&#34;   # Before
-model=&#34;claude-haiku-4-5-20251001&#34;   # After
+model = &#34;claude-3-5-haiku-20241022&#34;  # Before
+model = &#34;claude-haiku-4-5-20251001&#34;  # After
 ```
 
 **Review new rate limits:** Haiku 4.5 has separate rate limits from Haiku 3.5. See [Rate limits documentation](/docs/en/api/rate-limits) for details.
</code></pre>
    </div>
</body>
</html>