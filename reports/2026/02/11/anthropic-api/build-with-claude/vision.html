<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>build-with-claude/vision - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>build-with-claude/vision.md</h1>
            <p class="meta">Changed on 2026-02-11 10:56:44 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+102</span> lines added
            </div>
            <div class="stat removed">
                <span>-102</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><span># Vision&para;<br>&para;<br>Claude's vision capabilities allow it to understand and analyze images, opening up exciting possibilities for multimodal interaction.&para;<br>&para;<br>---&para;<br>&para;<br>This guide describes how to work with images in Claude, including best practices, code examples, and limitations to keep in mind.&para;<br>&para;<br>---&para;<br>&para;<br>## How to use vision&para;<br>&para;<br>Use Claude’s vision capabilities via:&para;<br>&para;<br>- [claude.ai](https://claude.ai/). Upload an image like you would a file, or drag and drop an image directly into the chat window.&para;<br>- The [Console Workbench](/workbench/). A button to add images appears at the top right of every User message block.&para;<br>- **API request**. See the examples in this guide.&para;<br>&para;<br>---&para;<br>&para;<br>## Before you upload&para;<br>&para;<br>### Basics and Limits&para;<br>&para;<br>You can include multiple images in a single request (up to 20 for [claude.ai](https://claude.ai/) and 100 for API requests). Claude will analyze all provided images when formulating its response. This can be helpful for comparing or contrasting images.&para;<br>&para;<br>If you submit an image larger than 8000x8000 px, it will be rejected. If you submit more than 20 images in one API request, this limit is 2000x2000 px.&para;<br>&para;<br>&lt;Note&gt;&para;<br>While the API supports 100 images per request, there is a [32MB request size limit](/docs/en/api/overview#request-size-limits) for standard endpoints.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>### Evaluate image size&para;<br>&para;<br>For optimal performance, resize images before uploading if they are too large. If your image’s long edge is more than 1568 pixels, or your image is more than ~1,600 tokens, it will first be scaled down, preserving aspect ratio, until it’s within the size limits.&para;<br>&para;<br>If your input image is too large and needs to be resized, it will increase latency of [time-to-first-token](/docs/en/about-claude/glossary), without giving you any additional model performance. Very small images under 200 pixels on any given edge may degrade performance.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>  To improve [time-to-first-token](/docs/en/about-claude/glossary), consider&para;<br>  resizing images to no more than 1.15 megapixels (and within 1568 pixels in&para;<br>  both dimensions).&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>Here is a table of maximum image sizes accepted by the API that will not be resized for common aspect ratios. With Claude Opus 4.6, these images use approximately 1,600 tokens and around $4.80/1K images.&para;<br>&para;<br>| Aspect ratio | Image size   |&para;<br>| ------------ | ------------ |&para;<br>| 1&amp;#58;1      | 1092x1092 px |&para;<br>| 3&amp;#58;4      | 951x1268 px  |&para;<br>| 2&amp;#58;3      | 896x1344 px  |&para;<br>| 9&amp;#58;16     | 819x1456 px  |&para;<br>| 1&amp;#58;2      | 784x1568 px  |&para;<br>&para;<br>### Calculate image costs&para;<br>&para;<br>Each image you include in a request to Claude counts towards your token usage. To calculate the approximate cost, multiply the approximate number of image tokens by the [per-token price of the model](https://claude.com/pricing) you’re using.&para;<br>&para;<br>If your image does not need to be resized, you can estimate the number of tokens used through this algorithm: `tokens = (width px * height px)/750`&para;<br>&para;<br>Here are examples of approximate tokenization and costs for different image sizes within the API's size constraints based on Claude Opus 4.6 per-token price of $3 per million input tokens:&para;<br>&para;<br>| Image size                    | \# of Tokens | Cost / image | Cost / 1K images |&para;<br>| ----------------------------- | ------------ | ------------ | ---------------- |&para;<br>| 200x200 px(0.04 megapixels)   | \~54         | \~$0.00016   | \~$0.16          |&para;<br>| 1000x1000 px(1 megapixel)     | \~1334       | \~$0.004     | \~$4.00          |&para;<br>| 1092x1092 px(1.19 megapixels) | \~1590       | \~$0.0048    | \~$4.80          |&para;<br>&para;<br>### Ensuring image quality&para;<br>&para;<br>When providing images to Claude, keep the following in mind for best results:&para;<br>&para;<br>- **Image format**: Use a supported image format: JPEG, PNG, GIF, or WebP.&para;<br>- **Image clarity**: Ensure images are clear and not too blurry or pixelated.&para;<br>- **Text**: If the image contains important text, make sure it’s legible and not too small. Avoid cropping out key visual context just to enlarge the text.&para;<br>&para;<br>---&para;<br>&para;<br>## Prompt examples&para;<br>&para;<br>Many of the [prompting techniques](/docs/en/build-with-claude/prompt-engineering/overview) that work well for text-based interactions with Claude can also be applied to image-based prompts.&para;<br>&para;<br>These examples demonstrate best practice prompt structures involving images.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>  Just as with document-query placement, Claude works best when images come&para;<br>  before text. Images placed after text or interpolated with text will still&para;<br>  perform well, but if your use case allows it, prefer an image-then-text&para;<br>  structure.&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>### About the prompt examples&para;<br>&para;<br>The following examples demonstrate how to use Claude's vision capabilities using various programming languages and approaches. You can provide images to Claude in three ways:&para;<br>&para;<br>1. As a base64-encoded image in `image` content blocks&para;<br>2. As a URL reference to an image hosted online</span><del style="background:#ffe6e6;">  </del><span>&para;<br>3. Using the Files API (upload once, use multiple times)&para;<br>&para;<br>The base64 example prompts use these variables:&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```bash Shell&para;<br>    # For URL-based images, you can use the URL directly in your JSON request&para;<br></span><del style="background:#ffe6e6;">    </del><span>&para;<br>    # For base64-encoded images, you need to first encode the image&para;<br>    # Example of how to encode an image to base64 in bash:&para;<br>    BASE64_IMAGE_DATA=$(curl -s "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg" | base64)&para;<br></span><del style="background:#ffe6e6;">    </del><span>&para;<br>    # The encoded data can now be used in your API calls&para;<br>```&para;<br>&para;<br>```python Python&para;<br>import base64&para;<br>import httpx&para;<br>&para;<br># For base64-encoded images&para;<br>image1_url = "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"&para;<br>image1_media_type = "image/jpeg"&para;<br>image1_data = base64.standard_b64encode(httpx.get(image1_url).content).decode("utf-8")&para;<br>&para;<br>image2_url = "https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg"&para;<br>image2_media_type = "image/jpeg"&para;<br>image2_data = base64.standard_b64encode(httpx.get(image2_url).content).decode("utf-8")&para;<br>&para;<br># For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>import axios from </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>axios</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>;&para;<br>&para;<br>// For base64-encoded images&para;<br>async function getBase64Image(url: string): Promise&lt;string&gt; {&para;<br>  const response = await axios.get(url, { responseType: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>arraybuffer</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span> });&para;<br>  return Buffer.from(response.data, </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>binary</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>).toString(</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>base64</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>);&para;<br>}&para;<br>&para;<br>// Usage&para;<br>async function prepareImages() {&para;<br>  const imageData = await getBase64Image(</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>);&para;<br>  // Now you can use imageData in your API calls&para;<br>}&para;<br>&para;<br>// For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&para;<br>```java Java&para;<br>import java.io.IOException;&para;<br></span><del style="background:#ffe6e6;">import java.util.Base64;&para;<br></del><span>import java.io.InputStream;&para;<br>import java.net.URL;</span><ins style="background:#e6ffe6;">&para;<br>import java.util.Base64;</ins><span>&para;<br>&para;<br>public class ImageHandlingExample {&para;<br>&para;<br></span><del style="background:#ffe6e6;">  </del><span>  public static void main(String[] args) throws IOException, InterruptedException {&para;<br></span><del style="background:#ffe6e6;">    </del><span>    // For base64-encoded images&para;<br>    </span><del style="background:#ffe6e6;">   </del><del style="background:#ffe6e6;"> </del><span>String image1Url =</span><ins style="background:#e6ffe6;">&para;<br>     </ins><span> "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg";&para;<br>    </span><del style="background:#ffe6e6;">  </del><del style="background:#ffe6e6;">  </del><span>String image1MediaType = "image/jpeg";&para;<br></span><del style="background:#ffe6e6;">    </del><span>    String image1Data = downloadAndEncodeImage(image1Url);&para;<br>&para;<br>    </span><del style="background:#ffe6e6;">   </del><del style="background:#ffe6e6;"> </del><span>String image2Url =</span><ins style="background:#e6ffe6;">&para;<br>     </ins><span> "https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg";&para;<br>    </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;">   </del><span>String image2MediaType = "image/jpeg";&para;<br></span><del style="background:#ffe6e6;">    </del><span>    String image2Data = downloadAndEncodeImage(image2Url);&para;<br>&para;<br>    </span><del style="background:#ffe6e6;">  </del><del style="background:#ffe6e6;">  </del><span>// For URL-based images, you can use the URLs directly in your requests&para;<br></span><del style="background:#ffe6e6;">  </del><span>  }&para;<br>&para;<br>  </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;"> </del><span>private static String downloadAndEncodeImage(String imageUrl) throws IOException {&para;<br>    </span><del style="background:#ffe6e6;">   </del><del style="background:#ffe6e6;"> </del><span>try (InputStream inputStream = new URL(imageUrl).openStream()) {&para;<br></span><del style="background:#ffe6e6;">      </del><span>      return Base64.getEncoder().encodeToString(inputStream.readAllBytes());&para;<br></span><del style="background:#ffe6e6;">        }&para;<br></del><span>    }&para;<br></span><ins style="background:#e6ffe6;">  }</ins><span>&para;<br>}&para;<br>```&para;<br>&para;<br>```go Go&para;<br>package main&para;<br>&para;<br>import (&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>"encoding/base64"&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>"io"&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>"net/http"&para;<br>)&para;<br>&para;<br>func downloadAndEncodeImage(url string) (string, error) {&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>resp, err := http.Get(url)&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>if err != nil {&para;<br></span><del style="background:#ffe6e6;">        </del><ins style="background:#e6ffe6;">		</ins><span>return "", err&para;<br></span><del style="background:#ffe6e6;">    }&para;<br>    </del><ins style="background:#e6ffe6;">	}&para;<br>	</ins><span>defer resp.Body.Close()&para;<br>&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>data, err := io.ReadAll(resp.Body)&para;<br></span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">	</ins><span>if err != nil {&para;<br></span><del style="background:#ffe6e6;">        </del><ins style="background:#e6ffe6;">		</ins><span>return "", err&para;<br></span><del style="background:#ffe6e6;">    }&para;<br>&para;<br>    </del><ins style="background:#e6ffe6;">	}&para;<br>&para;<br>	</ins><span>return base64.StdEncoding.EncodeToString(data), nil&para;<br>}&para;<br>&para;<br>// Usage:&para;<br>// imageData, _ := downloadAndEncodeImage("https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg")&para;<br>// For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&para;<br>```ruby Ruby&para;<br>require "base64"&para;<br>require "net/http"&para;<br>require "uri"&para;<br>&para;<br># For base64-encoded images&para;<br>def download_and_encode_image(url)&para;<br>  uri = URI.parse(url)&para;<br>  response = Net::HTTP.get_response(uri)&para;<br>  Base64.strict_encode64(response.body)&para;<br>end&para;<br>&para;<br>image1_url = "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"&para;<br>image1_media_type = "image/jpeg"&para;<br>image1_data = download_and_encode_image(image1_url)&para;<br>&para;<br># For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&para;<br>```csharp C#&para;<br>using System;&para;<br>using System.Net.Http;&para;<br>using System.Threading.Tasks;&para;<br>&para;<br>// For base64-encoded images&para;<br>async Task&lt;string&gt; DownloadAndEncodeImageAsync(string url)&para;<br>{&para;<br>    using var client = new HttpClient();&para;<br>    var bytes = await client.GetByteArrayAsync(url);&para;<br>    return Convert.ToBase64String(bytes);&para;<br>}&para;<br>&para;<br>// Usage:&para;<br>// var imageData = await DownloadAndEncodeImageAsync("https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg");&para;<br>// For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&para;<br>```php PHP&para;<br>&lt;?php&para;<br>// For base64-encoded images&para;<br>function downloadAndEncodeImage($url) {&para;<br>    $imageData = file_get_contents($url);&para;<br>    return base64_encode($imageData);&para;<br>}&para;<br>&para;<br>$image1Url = "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg";&para;<br>$image1MediaType = "image/jpeg";&para;<br>$image1Data = downloadAndEncodeImage($image1Url);&para;<br>&para;<br>// For URL-based images, you can use the URLs directly in your requests&para;<br>```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>Below are examples of how to include images in a Messages API request using base64-encoded images and URL references:&para;<br>&para;<br>### Base64-encoded image example&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>    ```bash Shell&para;<br>    curl https://api.anthropic.com/v1/messages \&para;<br>      -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>      -H "anthropic-version: 2023-06-01" \&para;<br>      -H "content-type: application/json" \&para;<br>      -d '{&para;<br>        "model": "claude-opus-4-6",&para;<br>        "max_tokens": 1024,&para;<br>        "messages": [&para;<br>          {&para;<br>            "role": "user",&para;<br>            "content": [&para;<br>              {&para;<br>                "type": "image",&para;<br>                "source": {&para;<br>                  "type": "base64",&para;<br>                  "media_type": "image/jpeg",&para;<br>                  "data": "'"$BASE64_IMAGE_DATA"'"&para;<br>                }&para;<br>              },&para;<br>              {&para;<br>                "type": "text",&para;<br>                "text": "Describe this image."&para;<br>              }&para;<br>            ]&para;<br>          }&para;<br>        ]&para;<br>      }'&para;<br>    ```&para;<br>    ```python Python&para;<br>    import anthropic&para;<br>&para;<br>    client = anthropic.Anthropic()&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image1_media_type,&para;<br>                            "data": image1_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "Describe this image."</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    print(message)&para;<br>    ```&para;<br>    ```typescript TypeScript&para;<br>    import Anthropic from </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>@anthropic-ai/sdk</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>;&para;<br>&para;<br>    const anthropic = new Anthropic({&para;<br>      apiKey: process.env.ANTHROPIC_API_KEY</span><del style="background:#ffe6e6;">,</del><span>&para;<br>    });&para;<br>&para;<br>    async function main() {&para;<br>      const message = await anthropic.messages.create({&para;<br>        model: "claude-opus-4-6",&para;<br>        max_tokens: 1024,&para;<br>        messages: [&para;<br>          {&para;<br>            role: "user",&para;<br>            content: [&para;<br>              {&para;<br>                type: "image",&para;<br>                source: {&para;<br>                  type: "base64",&para;<br>                  media_type: "image/jpeg",&para;<br>                  data: imageData</span><del style="background:#ffe6e6;">,</del><span> // Base64-encoded image data as string&para;<br>                }&para;<br>              },&para;<br>              {&para;<br>                type: "text",&para;<br>                text: "Describe this image."&para;<br>              }&para;<br>            ]&para;<br>          }&para;<br>        ]&para;<br>      });&para;<br></span><del style="background:#ffe6e6;">      </del><span>&para;<br>      console.log(message);&para;<br>    }&para;<br>&para;<br>    main();&para;<br>    ```&para;<br>&para;<br>    ```java Java&para;<br></span><del style="background:#ffe6e6;">    import java.io.IOException;&para;<br>    import java.util.List;&para;<br>&para;<br></del><span>    import com.anthropic.client.AnthropicClient;&para;<br>    import com.anthropic.client.okhttp.AnthropicOkHttpClient;&para;<br>    import com.anthropic.models.messages.*;</span><ins style="background:#e6ffe6;">&para;<br>    import java.io.IOException;&para;<br>    import java.util.List;</ins><span>&para;<br>&para;<br>    public class VisionExample {&para;<br></span><del style="background:#ffe6e6;">  </del><ins style="background:#e6ffe6;">&para;<br></ins><span>      public static void main(String[] args) throws IOException, InterruptedException {&para;<br>        </span><del style="background:#ffe6e6;">   </del><del style="background:#ffe6e6;"> </del><span>AnthropicClient client = AnthropicOkHttpClient.fromEnv();&para;<br></span><del style="background:#ffe6e6;">    </del><span>        String imageData = ""; // // Base64-encoded image data as string&para;<br>&para;<br>        </span><del style="background:#ffe6e6;">  </del><del style="background:#ffe6e6;">  </del><span>List&lt;ContentBlockParam&gt; contentBlockParams = List.of(&para;<br>          </span><del style="background:#ffe6e6;">    </del><del style="background:#ffe6e6;">      </del><span>ContentBlockParam.ofImage(&para;<br>            </span><del style="background:#ffe6e6;">       </del><del style="background:#ffe6e6;">         </del><span>ImageBlockParam.builder()&para;<br></span><del style="background:#ffe6e6;">                      </del><span>              .source(Base64ImageSource.builder()</span><del style="background:#ffe6e6;">&para;<br>                                            .data(imageData)&para;<br>                                            .build())&para;<br>                                    .build()&para;<br>          </del><ins style="background:#e6ffe6;">.data(imageData).build())&para;<br>              .build()&para;<br></ins><span>          ),&para;<br></span><del style="background:#ffe6e6;">          </del><span>          ContentBlockParam.ofText(TextBlockParam.builder()</span><del style="background:#ffe6e6;">&para;<br>                            .text("Describe this image.")&para;<br>                            </del><ins style="background:#e6ffe6;">.text("Describe this image.")</ins><span>.build())&para;<br>        </span><del style="background:#ffe6e6;">    );&para;<br>    </del><ins style="background:#e6ffe6;">);&para;<br></ins><span>        Message message = client</span><ins style="background:#e6ffe6;">&para;<br>          </ins><span>.messages()</span><del style="background:#ffe6e6;">.create(</del><span>&para;<br>        </span><ins style="background:#e6ffe6;">  .create(&para;<br></ins><span>            MessageCreateParams.builder()&para;<br>              </span><del style="background:#ffe6e6;">             </del><del style="background:#ffe6e6;"> </del><span>.model(Model.CLAUDE_OPUS_4_6)&para;<br></span><del style="background:#ffe6e6;">              </del><span>              .maxTokens(1024)&para;<br>              </span><del style="background:#ffe6e6;">           </del><del style="background:#ffe6e6;">   </del><span>.addUserMessageOfBlockParams(contentBlockParams)&para;<br>              </span><del style="background:#ffe6e6;">          </del><del style="background:#ffe6e6;">    </del><span>.build()&para;<br>          </span><del style="background:#ffe6e6;">  </del><span>);&para;<br>&para;<br></span><del style="background:#ffe6e6;">    </del><span>        System.out.println(message);&para;<br></span><del style="background:#ffe6e6;">  </del><span>      }&para;<br>    }&para;<br>    ```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>### URL-based image example&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>    ```bash Shell&para;<br>    curl https://api.anthropic.com/v1/messages \&para;<br>      -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>      -H "anthropic-version: 2023-06-01" \&para;<br>      -H "content-type: application/json" \&para;<br>      -d '{&para;<br>        "model": "claude-opus-4-6",&para;<br>        "max_tokens": 1024,&para;<br>        "messages": [&para;<br>          {&para;<br>            "role": "user",&para;<br>            "content": [&para;<br>              {&para;<br>                "type": "image",&para;<br>                "source": {&para;<br>                  "type": "url",&para;<br>                  "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"&para;<br>                }&para;<br>              },&para;<br>              {&para;<br>                "type": "text",&para;<br>                "text": "Describe this image."&para;<br>              }&para;<br>            ]&para;<br>          }&para;<br>        ]&para;<br>      }'&para;<br>    ```&para;<br>    ```python Python&para;<br>    import anthropic&para;<br>&para;<br>    client = anthropic.Anthropic()&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "Describe this image."</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    print(message)&para;<br>    ```&para;<br>    ```typescript TypeScript&para;<br>    import Anthropic from </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>@anthropic-ai/sdk</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>;&para;<br>&para;<br>    const anthropic = new Anthropic({&para;<br>      apiKey: process.env.ANTHROPIC_API_KEY</span><del style="background:#ffe6e6;">,</del><span>&para;<br>    });&para;<br>&para;<br>    async function main() {&para;<br>      const message = await anthropic.messages.create({&para;<br>        model: "claude-opus-4-6",&para;<br>        max_tokens: 1024,&para;<br>        messages: [&para;<br>          {&para;<br>            role: "user",&para;<br>            content: [&para;<br>              {&para;<br>                type: "image",&para;<br>                source: {&para;<br>                  type: "url",&para;<br>                  url: "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"&para;<br>                }&para;<br>              },&para;<br>              {&para;<br>                type: "text",&para;<br>                text: "Describe this image."&para;<br>              }&para;<br>            ]&para;<br>          }&para;<br>        ]&para;<br>      });&para;<br></span><del style="background:#ffe6e6;">      </del><span>&para;<br>      console.log(message);&para;<br>    }&para;<br>&para;<br>    main();&para;<br>    ```&para;<br>    ```java Java&para;<br></span><del style="background:#ffe6e6;">    import java.io.IOException;&para;<br>    import java.util.List;&para;<br>&para;<br></del><span>    import com.anthropic.client.AnthropicClient;&para;<br>    import com.anthropic.client.okhttp.AnthropicOkHttpClient;&para;<br>    import com.anthropic.models.messages.*;</span><ins style="background:#e6ffe6;">&para;<br>    import java.io.IOException;&para;<br>    import java.util.List;</ins><span>&para;<br>&para;<br>    public class VisionExample {&para;<br>&para;<br></span><del style="background:#ffe6e6;">  </del><span>      public static void main(String[] args) throws IOException, InterruptedException {&para;<br>        </span><del style="background:#ffe6e6;">   </del><del style="background:#ffe6e6;"> </del><span>AnthropicClient client = AnthropicOkHttpClient.fromEnv();&para;<br>&para;<br>        </span><del style="background:#ffe6e6;">    </del><span>List&lt;ContentBlockParam&gt; contentBlockParams = List.of(&para;<br>          </span><del style="background:#ffe6e6;">      </del><del style="background:#ffe6e6;">    </del><span>ContentBlockParam.ofImage(&para;<br>            </span><del style="background:#ffe6e6;">      </del><del style="background:#ffe6e6;">          </del><span>ImageBlockParam.builder()&para;<br>              </span><del style="background:#ffe6e6;">      </del><ins style="background:#e6ffe6;">.source(&para;<br></ins><span>                </span><del style="background:#ffe6e6;">.source(</del><span>UrlImageSource.builder()&para;<br>                  </span><del style="background:#ffe6e6;">      </del><ins style="background:#e6ffe6;">.url(&para;<br></ins><span>                    </span><del style="background:#ffe6e6;">.url(</del><span>"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"</span><del style="background:#ffe6e6;">)</del><span>&para;<br>                  </span><del style="background:#ffe6e6;">    </del><ins style="background:#e6ffe6;">)&para;<br></ins><span>                  </span><del style="background:#ffe6e6;">    </del><span>.build()</span><del style="background:#ffe6e6;">)&para;<br> </del><ins style="background:#e6ffe6;">&para;<br></ins><span>              </span><del style="background:#ffe6e6;">       </del><ins style="background:#e6ffe6;">)&para;<br></ins><span>              .build()&para;<br></span><del style="background:#ffe6e6;">          </del><span>          ),&para;<br>          </span><del style="background:#ffe6e6;">  </del><del style="background:#ffe6e6;">        </del><span>ContentBlockParam.ofText(TextBlockParam.builder()</span><del style="background:#ffe6e6;">&para;<br>                            .text("Describe this image.")&para;<br>                            </del><ins style="background:#e6ffe6;">.text("Describe this image.")</ins><span>.build())&para;<br>        </span><del style="background:#ffe6e6;">    );&para;<br>    </del><ins style="background:#e6ffe6;">);&para;<br></ins><span>        Message message = client</span><del style="background:#ffe6e6;">.messages().create(&para;<br>        </del><ins style="background:#e6ffe6;">&para;<br>          .messages()&para;<br>          .create(&para;<br></ins><span>            MessageCreateParams.builder()&para;<br>              </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;">             </del><span>.model(Model.CLAUDE_OPUS_4_6)&para;<br>              </span><del style="background:#ffe6e6;">        </del><del style="background:#ffe6e6;">      </del><span>.maxTokens(1024)&para;<br></span><del style="background:#ffe6e6;">              </del><span>              .addUserMessageOfBlockParams(contentBlockParams)&para;<br>              </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;">             </del><span>.build()&para;<br>          </span><del style="background:#ffe6e6;">  </del><span>);&para;<br></span><del style="background:#ffe6e6;">    </del><span>        System.out.println(message);&para;<br></span><del style="background:#ffe6e6;">  </del><span>      }&para;<br>    }&para;<br>    ```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>### Files API image example&para;<br>&para;<br>For images you'll use repeatedly or when you want to avoid encoding overhead, use the [Files API](/docs/en/build-with-claude/files):&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```bash Shell&para;<br># First, upload your image to the Files API&para;<br>curl -X POST https://api.anthropic.com/v1/files \&para;<br>  -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>  -H "anthropic-version: 2023-06-01" \&para;<br>  -H "anthropic-beta: files-api-2025-04-14" \&para;<br>  -F "file=@image.jpg"&para;<br>&para;<br># Then use the returned file_id in your message&para;<br>curl https://api.anthropic.com/v1/messages \&para;<br>  -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>  -H "anthropic-version: 2023-06-01" \&para;<br>  -H "anthropic-beta: files-api-2025-04-14" \&para;<br>  -H "content-type: application/json" \&para;<br>  -d '{&para;<br>    "model": "claude-opus-4-6",&para;<br>    "max_tokens": 1024,&para;<br>    "messages": [&para;<br>      {&para;<br>        "role": "user",&para;<br>        "content": [&para;<br>          {&para;<br>            "type": "image",&para;<br>            "source": {&para;<br>              "type": "file",&para;<br>              "file_id": "file_abc123"&para;<br>            }&para;<br>          },&para;<br>          {&para;<br>            "type": "text",&para;<br>            "text": "Describe this image."&para;<br>          }&para;<br>        ]&para;<br>      }&para;<br>    ]&para;<br>  }'&para;<br>```&para;<br>&para;<br>```python Python&para;<br>import anthropic&para;<br>&para;<br>client = anthropic.Anthropic()&para;<br>&para;<br># Upload the image file&para;<br>with open("image.jpg", "rb") as f:&para;<br>    file_upload = client.beta.files.upload(file=("image.jpg", f, "image/jpeg"))&para;<br>&para;<br># Use the uploaded file in a message&para;<br>message = client.beta.messages.create(&para;<br>    model="claude-opus-4-6",&para;<br>    max_tokens=1024,&para;<br>    betas=["files-api-2025-04-14"],&para;<br>    messages=[&para;<br>        {&para;<br>            "role": "user",&para;<br>            "content": [&para;<br>                {&para;<br>                    "type": "image",&para;<br>                    "source": {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "file",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "file",</ins><span> "file_id": file_upload.id</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                },&para;<br>                {</span><del style="background:#ffe6e6;">&para;<br>                    "type": "text",&para;<br>                   </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "Describe this image."</span><del style="background:#ffe6e6;">&para;<br>                </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>            ]</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>        }&para;<br>    ],&para;<br>)&para;<br>&para;<br>print(message.content)&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>import { Anthropic, toFile } from </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>@anthropic-ai/sdk</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>;&para;<br>import fs from </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>fs</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>;&para;<br>&para;<br>const anthropic = new Anthropic();&para;<br>&para;<br>async function main() {&para;<br>  // Upload the image file&para;<br>  const fileUpload = await anthropic.beta.files.upload({&para;<br>    file: toFile(fs.createReadStream(</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>image.jpg</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>), undefined, { type: "image/jpeg" })&para;<br>  }, {&para;<br>    betas: [</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>files-api-2025-04-14</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>]&para;<br>  });&para;<br>&para;<br>  // Use the uploaded file in a message&para;<br>  const response = await anthropic.beta.messages.create({&para;<br>    model: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>claude-opus-4-6</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>,&para;<br>    max_tokens: 1024,&para;<br>    betas: [</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>files-api-2025-04-14</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>],&para;<br>    messages: [&para;<br>      {&para;<br>        role: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>user</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>,&para;<br>        content: [&para;<br>          {&para;<br>            type: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>image</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>,&para;<br>            source: {&para;<br>              type: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>file</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>,&para;<br>              file_id: fileUpload.id&para;<br>            }&para;<br>          },&para;<br>          {&para;<br>            type: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>text</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>,&para;<br>            text: </span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>Describe this image.</span><del style="background:#ffe6e6;">'</del><ins style="background:#e6ffe6;">"</ins><span>&para;<br>          }&para;<br>        ]&para;<br>      }&para;<br>    ]&para;<br>  });&para;<br>&para;<br>  console.log(response);&para;<br>}&para;<br>&para;<br>main();&para;<br>```&para;<br>&para;<br>```java Java&para;<br></span><del style="background:#ffe6e6;">import java.io.IOException;&para;<br>import java.nio.file.Files;&para;<br>import java.nio.file.Path;&para;<br>import java.util.List;&para;<br>&para;<br></del><span>import com.anthropic.client.AnthropicClient;&para;<br>import com.anthropic.client.okhttp.AnthropicOkHttpClient;&para;<br>import com.anthropic.models.File;&para;<br>import com.anthropic.models.files.FileUploadParams;&para;<br>import com.anthropic.models.messages.*;</span><ins style="background:#e6ffe6;">&para;<br>import java.io.IOException;&para;<br>import java.nio.file.Files;&para;<br>import java.nio.file.Path;&para;<br>import java.util.List;</ins><span>&para;<br>&para;<br>public class ImageFilesExample {&para;<br></span><del style="background:#ffe6e6;">  </del><ins style="background:#e6ffe6;">&para;<br></ins><span>  public static void main(String[] args) throws IOException {&para;<br></span><del style="background:#ffe6e6;">    </del><span>    AnthropicClient client = AnthropicOkHttpClient.fromEnv();&para;<br>&para;<br>    </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;">   </del><span>// Upload the image file&para;<br></span><del style="background:#ffe6e6;">    </del><span>    File file = client</span><del style="background:#ffe6e6;">.beta()</del><ins style="background:#e6ffe6;">&para;<br>      .beta()&para;<br>      </ins><span>.files()</span><ins style="background:#e6ffe6;">&para;<br>      </ins><span>.upload(</span><ins style="background:#e6ffe6;">&para;<br>        </ins><span>FileUploadParams.builder()</span><del style="background:#ffe6e6;">&para;<br>                </del><span>.file(Files.newInputStream(Path.of("image.jpg")))</span><del style="background:#ffe6e6;">&para;<br>                .build());&para;<br>&para;<br>    </del><ins style="background:#e6ffe6;">.build()&para;<br>      );&para;<br>&para;<br></ins><span>    // Use the uploaded file in a message&para;<br>    </span><del style="background:#ffe6e6;"> </del><del style="background:#ffe6e6;">   </del><span>ImageBlockParam imageParam = ImageBlockParam.builder()</span><del style="background:#ffe6e6;">&para;<br>                </del><span>.fileSource(file.id())</span><del style="background:#ffe6e6;">&para;<br>                </del><span>.build();&para;<br>&para;<br></span><del style="background:#ffe6e6;">    </del><span>    MessageCreateParams params = MessageCreateParams.builder()&para;<br></span><del style="background:#ffe6e6;">          </del><span>      .model(Model.CLAUDE_OPUS_4_6)&para;<br></span><del style="background:#ffe6e6;">          </del><span>      .maxTokens(1024)&para;<br></span><del style="background:#ffe6e6;">          </del><span>      .addUserMessageOfBlockParams(&para;<br></span><del style="background:#ffe6e6;">                </del><span>        List.of(&para;<br></span><del style="background:#ffe6e6;">                      </del><span>          ContentBlockParam.ofImage(imageParam),&para;<br></span><del style="background:#ffe6e6;">                      </del><span>          ContentBlockParam.ofText(&para;<br>            </span><del style="background:#ffe6e6;">                            TextBlockParam.builder()&para;<br>                                                .text("Describe this image.")&para;<br>                                                .build()&para;<br>                                )&para;<br>                        )&para;<br>                )&para;<br>          </del><ins style="background:#e6ffe6;">TextBlockParam.builder().text("Describe this image.").build()&para;<br>          )&para;<br>        )&para;<br>      )&para;<br></ins><span>      .build();&para;<br>&para;<br>    </span><del style="background:#ffe6e6;">  </del><del style="background:#ffe6e6;">  </del><span>Message message = client.messages().create(params);&para;<br></span><del style="background:#ffe6e6;">    </del><span>    System.out.println(message.content());&para;<br></span><del style="background:#ffe6e6;">  </del><span>  }&para;<br>}&para;<br>```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>See [Messages API examples](/docs/en/api/messages) for more example code and parameter details.&para;<br>&para;<br>&lt;section title="Example: One image"&gt;&para;<br>&para;<br>It’s best to place images earlier in the prompt than questions about them or instructions for tasks that use them.&para;<br>&para;<br>Ask Claude to describe one image.&para;<br>&para;<br>| Role | Content                        |&para;<br>| ---- | ------------------------------ |&para;<br>| User | \[Image\] Describe this image. |&para;<br>&para;<br>&lt;Tabs&gt;&para;<br>  &lt;Tab title="Using Base64"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image1_media_type,&para;<br>                            "data": image1_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "Describe this image."</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>  &lt;Tab title="Using URL"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "Describe this image."</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>&lt;/Tabs&gt;&para;<br>&para;<br>&lt;/section&gt;&para;<br>&lt;section title="Example: Multiple images"&gt;&para;<br>&para;<br>In situations where there are multiple images, introduce each image with `Image 1:` and `Image 2:` and so on. You don’t need newlines between images or between images and the prompt.&para;<br>&para;<br>Ask Claude to describe the differences between multiple images.&para;<br>| Role | Content |&para;<br>| ---- | ------------------------------------------------------------------------- |&para;<br>| User | Image 1: \[Image 1\] Image 2: \[Image 2\] How are these images different? |&para;<br>&para;<br>&lt;Tabs&gt;&para;<br>  &lt;Tab title="Using Base64"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 1:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 1:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image1_media_type,&para;<br>                            "data": image1_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 2:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 2:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image2_media_type,&para;<br>                            "data": image2_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "How are these images different?"</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>  &lt;Tab title="Using URL"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 1:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 1:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 2:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 2:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "How are these images different?"</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>&lt;/Tabs&gt;&para;<br>&para;<br>&lt;/section&gt;&para;<br>&lt;section title="Example: Multiple images with a system prompt"&gt;&para;<br>&para;<br>Ask Claude to describe the differences between multiple images, while giving it a system prompt for how to respond.&para;<br>&para;<br>| Content |                                                                           |&para;<br>| ------- | ------------------------------------------------------------------------- |&para;<br>| System  | Respond only in Spanish.                                                  |&para;<br>| User    | Image 1: \[Image 1\] Image 2: \[Image 2\] How are these images different? |&para;<br>&para;<br>&lt;Tabs&gt;&para;<br>  &lt;Tab title="Using Base64"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        system="Respond only in Spanish.",&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 1:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 1:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image1_media_type,&para;<br>                            "data": image1_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 2:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 2:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "base64",&para;<br>                            "media_type": image2_media_type,&para;<br>                            "data": image2_data,&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "How are these images different?"</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>  &lt;Tab title="Using URL"&gt;&para;<br>    ```python Python&para;<br>    message = client.messages.create(&para;<br>        model="claude-opus-4-6",&para;<br>        max_tokens=1024,&para;<br>        system="Respond only in Spanish.",&para;<br>        messages=[&para;<br>            {&para;<br>                "role": "user",&para;<br>                "content": [&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 1:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 1:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                        "text": "Image 2:"&para;<br>                    </del><ins style="background:#e6ffe6;">"type": "text", "text": "Image 2:"</ins><span>},&para;<br>                    {&para;<br>                        "type": "image",&para;<br>                        "source": {&para;<br>                            "type": "url",&para;<br>                            "url": "https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg",&para;<br>                        },&para;<br>                    },&para;<br>                    {</span><del style="background:#ffe6e6;">&para;<br>                        "type": "text",&para;<br>                       </del><ins style="background:#e6ffe6;">"type": "text",</ins><span> "text": "How are these images different?"</span><del style="background:#ffe6e6;">&para;<br>                    </del><span>}</span><ins style="background:#e6ffe6;">,</ins><span>&para;<br>                ],&para;<br>            }&para;<br>        ],&para;<br>    )&para;<br>    ```&para;<br>  &lt;/Tab&gt;&para;<br>&lt;/Tabs&gt;&para;<br>&para;<br>&lt;/section&gt;&para;<br>&lt;section title="Example: Four images across two conversation turns"&gt;&para;<br>&para;<br>Claude’s vision capabilities shine in multimodal conversations that mix images and text. You can have extended back-and-forth exchanges with Claude, adding new images or follow-up questions at any point. This enables powerful workflows for iterative image analysis, comparison, or combining visuals with other knowledge.&para;<br>&para;<br>Ask Claude to contrast two images, then ask a follow-up question comparing the first images to two new images.&para;<br>| Role | Content |&para;<br>| --------- | ------------------------------------------------------------------------------------ |&para;<br>| User | Image 1: \[Image 1\] Image 2: \[Image 2\] How are these images different? |&para;<br>| Assistant | \[Claude's response\] |&para;<br>| User | Image 1: \[Image 3\] Image 2: \[Image 4\] Are these images similar to the first two? |&para;<br>| Assistant | \[Claude's response\] |&para;<br>&para;<br>When using the API, simply insert new images into the array of Messages in the `user` role as part of any standard [multiturn conversation](/docs/en/api/messages) structure.&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>---&para;<br>&para;<br>## Limitations&para;<br>&para;<br>While Claude's image understanding capabilities are cutting-edge, there are some limitations to be aware of:&para;<br>&para;<br>- **People identification**: Claude [cannot be used](https://www.anthropic.com/legal/aup) to identify (i.e., name) people in images and will refuse to do so.&para;<br>- **Accuracy**: Claude may hallucinate or make mistakes when interpreting low-quality, rotated, or very small images under 200 pixels.&para;<br>- **Spatial reasoning**: Claude's spatial reasoning abilities are limited. It may struggle with tasks requiring precise localization or layouts, like reading an analog clock face or describing exact positions of chess pieces.&para;<br>- **Counting**: Claude can give approximate counts of objects in an image but may not always be precisely accurate, especially with large numbers of small objects.&para;<br>- **AI generated images**: Claude does not know if an image is AI-generated and may be incorrect if asked. Do not rely on it to detect fake or synthetic images.&para;<br>- **Inappropriate content**: Claude will not process inappropriate or explicit images that violate the [Acceptable Use Policy](https://www.anthropic.com/legal/aup).&para;<br>- **Healthcare applications**: While Claude can analyze general medical images, it is not designed to interpret complex diagnostic scans such as CTs or MRIs. Claude's outputs should not be considered a substitute for professional medical advice or diagnosis.&para;<br>&para;<br>Always carefully review and verify Claude's image interpretations, especially for high-stakes use cases. Do not use Claude for tasks requiring perfect precision or sensitive image analysis without human oversight.&para;<br>&para;<br>---&para;<br>&para;<br>## FAQ&para;<br>&para;<br>  &lt;section title="What image file types does Claude support?"&gt;&para;<br>&para;<br>    Claude currently supports JPEG, PNG, GIF, and WebP image formats, specifically:&para;<br>    - `image/jpeg`&para;<br>    - `image/png`&para;<br>    - `image/gif`&para;<br>    - `image/webp`&para;<br>  &para;<br>&lt;/section&gt;&para;<br>&para;<br>{" "}&para;<br>&para;<br>&lt;section title="Can Claude read image URLs?"&gt;&para;<br>&para;<br>  Yes, Claude can process images from URLs with URL image source blocks in the API.&para;<br>  Simply use the "url" source type instead of "base64" in your API requests.</span><del style="background:#ffe6e6;"> </del><span>&para;<br>  Example:&para;<br>  ```json&para;<br>  {&para;<br>    "type": "image",&para;<br>    "source": {&para;<br>      "type": "url",&para;<br>      "url": "https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg"&para;<br>    }&para;<br>  }&para;<br>  ```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>  &lt;section title="Is there a limit to the image file size I can upload?"&gt;&para;<br>&para;<br>    Yes, there are limits:&para;<br>    - API: Maximum 5MB per image&para;<br>    - claude.ai: Maximum 10MB per image&para;<br>&para;<br>    Images larger than these limits will be rejected and return an error when using the API.&para;<br>&para;<br>  &para;<br>&lt;/section&gt;&para;<br>&para;<br>  &lt;section title="How many images can I include in one request?"&gt;&para;<br>&para;<br>    The image limits are:&para;<br>    - Messages API: Up to 100 images per request&para;<br>    - claude.ai: Up to 20 images per turn&para;<br>&para;<br>    Requests exceeding these limits will be rejected and return an error.&para;<br>&para;<br>  &para;<br>&lt;/section&gt;&para;<br>&para;<br>{" "}&para;<br>&para;<br>&lt;section title="Does Claude read image metadata?"&gt;&para;<br>&para;<br>  No, Claude does not parse or receive any metadata from images passed to it.&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>{" "}&para;<br>&para;<br>&lt;section title="Can I delete images I've uploaded?"&gt;&para;<br>&para;<br>  No. Image uploads are ephemeral and not stored beyond the duration of the API&para;<br>  request. Uploaded images are automatically deleted after they have been&para;<br>  processed.&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>{" "}&para;<br>&para;<br>&lt;section title="Where can I find details on data privacy for image uploads?"&gt;&para;<br>&para;<br>  Refer to the Anthropic privacy policy page for information on how uploaded&para;<br>  images and other data are handled. Anthropic does not use uploaded images to&para;<br>  train models.&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>  &lt;section title="What if Claude's image interpretation seems wrong?"&gt;&para;<br>&para;<br>    If Claude's image interpretation seems incorrect:&para;<br>    1. Ensure the image is clear, high-quality, and correctly oriented.&para;<br>    2. Try prompt engineering techniques to improve results.&para;<br>    3. If the issue persists, flag the output in claude.ai (thumbs up/down) or contact the [support team](https://support.claude.com/).&para;<br>&para;<br>    Your feedback helps improve Claude!&para;<br>&para;<br>  &para;<br>&lt;/section&gt;&para;<br>&para;<br>  &lt;section title="Can Claude generate or edit images?"&gt;&para;<br>&para;<br>    No, Claude is an image understanding model only. It can interpret and analyze images, but it cannot generate, produce, edit, manipulate, or create images.&para;<br>  &para;<br>&lt;/section&gt;&para;<br>&para;<br>---&para;<br>&para;<br>## Dive deeper into vision&para;<br>&para;<br>Ready to start building with images using Claude? Here are a few helpful resources:&para;<br>&para;<br>- [Multimodal cookbook](https://platform.claude.com/cookbook/multimodal-getting-started-with-vision): This cookbook has tips on [getting started with images](https://platform.claude.com/cookbook/multimodal-getting-started-with-vision) and [best practice techniques](https://platform.claude.com/cookbook/multimodal-best-practices-for-vision) to ensure the highest quality performance with images. See how you can effectively prompt Claude with images to carry out tasks such as [interpreting and analyzing charts](https://platform.claude.com/cookbook/multimodal-reading-charts-graphs-powerpoints) or [extracting content from forms](https://platform.claude.com/cookbook/multimodal-how-to-transcribe-text).&para;<br>- [API reference](/docs/en/api/messages): Documentation for the Messages API, including example [API calls involving images](/docs/en/build-with-claude/working-with-messages#vision).&para;<br>&para;<br>If you have any other questions, reach out to the [support team](https://support.claude.com/). You can also join the [developer community](https://www.anthropic.com/discord) to connect with other creators and get help from Anthropic experts.</span></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/build-with-claude/vision.md
+++ b/build-with-claude/vision.md
@@ -94,7 +94,7 @@
 The following examples demonstrate how to use Claude&#39;s vision capabilities using various programming languages and approaches. You can provide images to Claude in three ways:
 
 1. As a base64-encoded image in `image` content blocks
-2. As a URL reference to an image hosted online  
+2. As a URL reference to an image hosted online
 3. Using the Files API (upload once, use multiple times)
 
 The base64 example prompts use these variables:
@@ -102,11 +102,11 @@
 &lt;CodeGroup&gt;
 ```bash Shell
     # For URL-based images, you can use the URL directly in your JSON request
-    
+
     # For base64-encoded images, you need to first encode the image
     # Example of how to encode an image to base64 in bash:
     BASE64_IMAGE_DATA=$(curl -s &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34; | base64)
-    
+
     # The encoded data can now be used in your API calls
 ```
 
@@ -127,17 +127,17 @@
 ```
 
 ```typescript TypeScript
-import axios from &#39;axios&#39;;
+import axios from &#34;axios&#34;;
 
 // For base64-encoded images
 async function getBase64Image(url: string): Promise&lt;string&gt; {
-  const response = await axios.get(url, { responseType: &#39;arraybuffer&#39; });
-  return Buffer.from(response.data, &#39;binary&#39;).toString(&#39;base64&#39;);
+  const response = await axios.get(url, { responseType: &#34;arraybuffer&#34; });
+  return Buffer.from(response.data, &#34;binary&#34;).toString(&#34;base64&#34;);
 }
 
 // Usage
 async function prepareImages() {
-  const imageData = await getBase64Image(&#39;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#39;);
+  const imageData = await getBase64Image(&#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;);
   // Now you can use imageData in your API calls
 }
 
@@ -146,31 +146,32 @@
 
 ```java Java
 import java.io.IOException;
-import java.util.Base64;
 import java.io.InputStream;
 import java.net.URL;
+import java.util.Base64;
 
 public class ImageHandlingExample {
 
-    public static void main(String[] args) throws IOException, InterruptedException {
-        // For base64-encoded images
-        String image1Url = &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;;
-        String image1MediaType = &#34;image/jpeg&#34;;
-        String image1Data = downloadAndEncodeImage(image1Url);
-
-        String image2Url = &#34;https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg&#34;;
-        String image2MediaType = &#34;image/jpeg&#34;;
-        String image2Data = downloadAndEncodeImage(image2Url);
-
-        // For URL-based images, you can use the URLs directly in your requests
+  public static void main(String[] args) throws IOException, InterruptedException {
+    // For base64-encoded images
+    String image1Url =
+      &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;;
+    String image1MediaType = &#34;image/jpeg&#34;;
+    String image1Data = downloadAndEncodeImage(image1Url);
+
+    String image2Url =
+      &#34;https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg&#34;;
+    String image2MediaType = &#34;image/jpeg&#34;;
+    String image2Data = downloadAndEncodeImage(image2Url);
+
+    // For URL-based images, you can use the URLs directly in your requests
+  }
+
+  private static String downloadAndEncodeImage(String imageUrl) throws IOException {
+    try (InputStream inputStream = new URL(imageUrl).openStream()) {
+      return Base64.getEncoder().encodeToString(inputStream.readAllBytes());
     }
-
-    private static String downloadAndEncodeImage(String imageUrl) throws IOException {
-        try (InputStream inputStream = new URL(imageUrl).openStream()) {
-            return Base64.getEncoder().encodeToString(inputStream.readAllBytes());
-        }
-    }
-
+  }
 }
 ```
 
@@ -178,24 +179,24 @@
 package main
 
 import (
-    &#34;encoding/base64&#34;
-    &#34;io&#34;
-    &#34;net/http&#34;
+	&#34;encoding/base64&#34;
+	&#34;io&#34;
+	&#34;net/http&#34;
 )
 
 func downloadAndEncodeImage(url string) (string, error) {
-    resp, err := http.Get(url)
-    if err != nil {
-        return &#34;&#34;, err
-    }
-    defer resp.Body.Close()
-
-    data, err := io.ReadAll(resp.Body)
-    if err != nil {
-        return &#34;&#34;, err
-    }
-
-    return base64.StdEncoding.EncodeToString(data), nil
+	resp, err := http.Get(url)
+	if err != nil {
+		return &#34;&#34;, err
+	}
+	defer resp.Body.Close()
+
+	data, err := io.ReadAll(resp.Body)
+	if err != nil {
+		return &#34;&#34;, err
+	}
+
+	return base64.StdEncoding.EncodeToString(data), nil
 }
 
 // Usage:
@@ -309,10 +310,7 @@
                             &#34;data&#34;: image1_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Describe this image.&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Describe this image.&#34;},
                 ],
             }
         ],
@@ -320,10 +318,10 @@
     print(message)
     ```
     ```typescript TypeScript
-    import Anthropic from &#39;@anthropic-ai/sdk&#39;;
+    import Anthropic from &#34;@anthropic-ai/sdk&#34;;
 
     const anthropic = new Anthropic({
-      apiKey: process.env.ANTHROPIC_API_KEY,
+      apiKey: process.env.ANTHROPIC_API_KEY
     });
 
     async function main() {
@@ -339,7 +337,7 @@
                 source: {
                   type: &#34;base64&#34;,
                   media_type: &#34;image/jpeg&#34;,
-                  data: imageData, // Base64-encoded image data as string
+                  data: imageData // Base64-encoded image data as string
                 }
               },
               {
@@ -350,7 +348,7 @@
           }
         ]
       });
-      
+
       console.log(message);
     }
 
@@ -358,40 +356,38 @@
     ```
 
     ```java Java
-    import java.io.IOException;
-    import java.util.List;
-
     import com.anthropic.client.AnthropicClient;
     import com.anthropic.client.okhttp.AnthropicOkHttpClient;
     import com.anthropic.models.messages.*;
+    import java.io.IOException;
+    import java.util.List;
 
     public class VisionExample {
-        public static void main(String[] args) throws IOException, InterruptedException {
-            AnthropicClient client = AnthropicOkHttpClient.fromEnv();
-            String imageData = &#34;&#34;; // // Base64-encoded image data as string
-
-            List&lt;ContentBlockParam&gt; contentBlockParams = List.of(
-                    ContentBlockParam.ofImage(
-                            ImageBlockParam.builder()
-                                    .source(Base64ImageSource.builder()
-                                            .data(imageData)
-                                            .build())
-                                    .build()
-                    ),
-                    ContentBlockParam.ofText(TextBlockParam.builder()
-                            .text(&#34;Describe this image.&#34;)
-                            .build())
-            );
-            Message message = client.messages().create(
-                    MessageCreateParams.builder()
-                            .model(Model.CLAUDE_OPUS_4_6)
-                            .maxTokens(1024)
-                            .addUserMessageOfBlockParams(contentBlockParams)
-                            .build()
-            );
-
-            System.out.println(message);
-        }
+
+      public static void main(String[] args) throws IOException, InterruptedException {
+        AnthropicClient client = AnthropicOkHttpClient.fromEnv();
+        String imageData = &#34;&#34;; // // Base64-encoded image data as string
+
+        List&lt;ContentBlockParam&gt; contentBlockParams = List.of(
+          ContentBlockParam.ofImage(
+            ImageBlockParam.builder()
+              .source(Base64ImageSource.builder().data(imageData).build())
+              .build()
+          ),
+          ContentBlockParam.ofText(TextBlockParam.builder().text(&#34;Describe this image.&#34;).build())
+        );
+        Message message = client
+          .messages()
+          .create(
+            MessageCreateParams.builder()
+              .model(Model.CLAUDE_OPUS_4_6)
+              .maxTokens(1024)
+              .addUserMessageOfBlockParams(contentBlockParams)
+              .build()
+          );
+
+        System.out.println(message);
+      }
     }
     ```
 &lt;/CodeGroup&gt;
@@ -445,10 +441,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Describe this image.&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Describe this image.&#34;},
                 ],
             }
         ],
@@ -456,10 +449,10 @@
     print(message)
     ```
     ```typescript TypeScript
-    import Anthropic from &#39;@anthropic-ai/sdk&#39;;
+    import Anthropic from &#34;@anthropic-ai/sdk&#34;;
 
     const anthropic = new Anthropic({
-      apiKey: process.env.ANTHROPIC_API_KEY,
+      apiKey: process.env.ANTHROPIC_API_KEY
     });
 
     async function main() {
@@ -485,46 +478,49 @@
           }
         ]
       });
-      
+
       console.log(message);
     }
 
     main();
     ```
     ```java Java
-    import java.io.IOException;
-    import java.util.List;
-
     import com.anthropic.client.AnthropicClient;
     import com.anthropic.client.okhttp.AnthropicOkHttpClient;
     import com.anthropic.models.messages.*;
+    import java.io.IOException;
+    import java.util.List;
 
     public class VisionExample {
 
-        public static void main(String[] args) throws IOException, InterruptedException {
-            AnthropicClient client = AnthropicOkHttpClient.fromEnv();
-
-            List&lt;ContentBlockParam&gt; contentBlockParams = List.of(
-                    ContentBlockParam.ofImage(
-                            ImageBlockParam.builder()
-                                    .source(UrlImageSource.builder()
-                                            .url(&#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;)
-                                            .build())
-                                    .build()
-                    ),
-                    ContentBlockParam.ofText(TextBlockParam.builder()
-                            .text(&#34;Describe this image.&#34;)
-                            .build())
-            );
-            Message message = client.messages().create(
-                    MessageCreateParams.builder()
-                            .model(Model.CLAUDE_OPUS_4_6)
-                            .maxTokens(1024)
-                            .addUserMessageOfBlockParams(contentBlockParams)
-                            .build()
-            );
-            System.out.println(message);
-        }
+      public static void main(String[] args) throws IOException, InterruptedException {
+        AnthropicClient client = AnthropicOkHttpClient.fromEnv();
+
+        List&lt;ContentBlockParam&gt; contentBlockParams = List.of(
+          ContentBlockParam.ofImage(
+            ImageBlockParam.builder()
+              .source(
+                UrlImageSource.builder()
+                  .url(
+                    &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;
+                  )
+                  .build()
+              )
+              .build()
+          ),
+          ContentBlockParam.ofText(TextBlockParam.builder().text(&#34;Describe this image.&#34;).build())
+        );
+        Message message = client
+          .messages()
+          .create(
+            MessageCreateParams.builder()
+              .model(Model.CLAUDE_OPUS_4_6)
+              .maxTokens(1024)
+              .addUserMessageOfBlockParams(contentBlockParams)
+              .build()
+          );
+        System.out.println(message);
+      }
     }
     ```
 &lt;/CodeGroup&gt;
@@ -592,16 +588,10 @@
             &#34;content&#34;: [
                 {
                     &#34;type&#34;: &#34;image&#34;,
-                    &#34;source&#34;: {
-                        &#34;type&#34;: &#34;file&#34;,
-                        &#34;file_id&#34;: file_upload.id
-                    }
+                    &#34;source&#34;: {&#34;type&#34;: &#34;file&#34;, &#34;file_id&#34;: file_upload.id},
                 },
-                {
-                    &#34;type&#34;: &#34;text&#34;,
-                    &#34;text&#34;: &#34;Describe this image.&#34;
-                }
-            ]
+                {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Describe this image.&#34;},
+            ],
         }
     ],
 )
@@ -610,38 +600,38 @@
 ```
 
 ```typescript TypeScript
-import { Anthropic, toFile } from &#39;@anthropic-ai/sdk&#39;;
-import fs from &#39;fs&#39;;
+import { Anthropic, toFile } from &#34;@anthropic-ai/sdk&#34;;
+import fs from &#34;fs&#34;;
 
 const anthropic = new Anthropic();
 
 async function main() {
   // Upload the image file
   const fileUpload = await anthropic.beta.files.upload({
-    file: toFile(fs.createReadStream(&#39;image.jpg&#39;), undefined, { type: &#34;image/jpeg&#34; })
+    file: toFile(fs.createReadStream(&#34;image.jpg&#34;), undefined, { type: &#34;image/jpeg&#34; })
   }, {
-    betas: [&#39;files-api-2025-04-14&#39;]
+    betas: [&#34;files-api-2025-04-14&#34;]
   });
 
   // Use the uploaded file in a message
   const response = await anthropic.beta.messages.create({
-    model: &#39;claude-opus-4-6&#39;,
+    model: &#34;claude-opus-4-6&#34;,
     max_tokens: 1024,
-    betas: [&#39;files-api-2025-04-14&#39;],
+    betas: [&#34;files-api-2025-04-14&#34;],
     messages: [
       {
-        role: &#39;user&#39;,
+        role: &#34;user&#34;,
         content: [
           {
-            type: &#39;image&#39;,
+            type: &#34;image&#34;,
             source: {
-              type: &#39;file&#39;,
+              type: &#34;file&#34;,
               file_id: fileUpload.id
             }
           },
           {
-            type: &#39;text&#39;,
-            text: &#39;Describe this image.&#39;
+            type: &#34;text&#34;,
+            text: &#34;Describe this image.&#34;
           }
         ]
       }
@@ -655,49 +645,48 @@
 ```
 
 ```java Java
-import java.io.IOException;
-import java.nio.file.Files;
-import java.nio.file.Path;
-import java.util.List;
-
 import com.anthropic.client.AnthropicClient;
 import com.anthropic.client.okhttp.AnthropicOkHttpClient;
 import com.anthropic.models.File;
 import com.anthropic.models.files.FileUploadParams;
 import com.anthropic.models.messages.*;
+import java.io.IOException;
+import java.nio.file.Files;
+import java.nio.file.Path;
+import java.util.List;
 
 public class ImageFilesExample {
-    public static void main(String[] args) throws IOException {
-        AnthropicClient client = AnthropicOkHttpClient.fromEnv();
-
-        // Upload the image file
-        File file = client.beta().files().upload(FileUploadParams.builder()
-                .file(Files.newInputStream(Path.of(&#34;image.jpg&#34;)))
-                .build());
-
-        // Use the uploaded file in a message
-        ImageBlockParam imageParam = ImageBlockParam.builder()
-                .fileSource(file.id())
-                .build();
-
-        MessageCreateParams params = MessageCreateParams.builder()
-                .model(Model.CLAUDE_OPUS_4_6)
-                .maxTokens(1024)
-                .addUserMessageOfBlockParams(
-                        List.of(
-                                ContentBlockParam.ofImage(imageParam),
-                                ContentBlockParam.ofText(
-                                        TextBlockParam.builder()
-                                                .text(&#34;Describe this image.&#34;)
-                                                .build()
-                                )
-                        )
-                )
-                .build();
-
-        Message message = client.messages().create(params);
-        System.out.println(message.content());
-    }
+
+  public static void main(String[] args) throws IOException {
+    AnthropicClient client = AnthropicOkHttpClient.fromEnv();
+
+    // Upload the image file
+    File file = client
+      .beta()
+      .files()
+      .upload(
+        FileUploadParams.builder().file(Files.newInputStream(Path.of(&#34;image.jpg&#34;))).build()
+      );
+
+    // Use the uploaded file in a message
+    ImageBlockParam imageParam = ImageBlockParam.builder().fileSource(file.id()).build();
+
+    MessageCreateParams params = MessageCreateParams.builder()
+      .model(Model.CLAUDE_OPUS_4_6)
+      .maxTokens(1024)
+      .addUserMessageOfBlockParams(
+        List.of(
+          ContentBlockParam.ofImage(imageParam),
+          ContentBlockParam.ofText(
+            TextBlockParam.builder().text(&#34;Describe this image.&#34;).build()
+          )
+        )
+      )
+      .build();
+
+    Message message = client.messages().create(params);
+    System.out.println(message.content());
+  }
 }
 ```
 &lt;/CodeGroup&gt;
@@ -732,10 +721,7 @@
                             &#34;data&#34;: image1_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Describe this image.&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Describe this image.&#34;},
                 ],
             }
         ],
@@ -758,10 +744,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Describe this image.&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Describe this image.&#34;},
                 ],
             }
         ],
@@ -790,10 +773,7 @@
             {
                 &#34;role&#34;: &#34;user&#34;,
                 &#34;content&#34;: [
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 1:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 1:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -802,10 +782,7 @@
                             &#34;data&#34;: image1_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 2:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 2:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -814,10 +791,7 @@
                             &#34;data&#34;: image2_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;How are these images different?&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;How are these images different?&#34;},
                 ],
             }
         ],
@@ -833,10 +807,7 @@
             {
                 &#34;role&#34;: &#34;user&#34;,
                 &#34;content&#34;: [
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 1:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 1:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -844,10 +815,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 2:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 2:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -855,10 +823,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;How are these images different?&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;How are these images different?&#34;},
                 ],
             }
         ],
@@ -888,10 +853,7 @@
             {
                 &#34;role&#34;: &#34;user&#34;,
                 &#34;content&#34;: [
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 1:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 1:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -900,10 +862,7 @@
                             &#34;data&#34;: image1_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 2:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 2:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -912,10 +871,7 @@
                             &#34;data&#34;: image2_data,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;How are these images different?&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;How are these images different?&#34;},
                 ],
             }
         ],
@@ -932,10 +888,7 @@
             {
                 &#34;role&#34;: &#34;user&#34;,
                 &#34;content&#34;: [
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 1:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 1:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -943,10 +896,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;Image 2:&#34;
-                    },
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;Image 2:&#34;},
                     {
                         &#34;type&#34;: &#34;image&#34;,
                         &#34;source&#34;: {
@@ -954,10 +904,7 @@
                             &#34;url&#34;: &#34;https://upload.wikimedia.org/wikipedia/commons/b/b5/Iridescent.green.sweat.bee1.jpg&#34;,
                         },
                     },
-                    {
-                        &#34;type&#34;: &#34;text&#34;,
-                        &#34;text&#34;: &#34;How are these images different?&#34;
-                    }
+                    {&#34;type&#34;: &#34;text&#34;, &#34;text&#34;: &#34;How are these images different?&#34;},
                 ],
             }
         ],
@@ -1018,7 +965,7 @@
 &lt;section title=&#34;Can Claude read image URLs?&#34;&gt;
 
   Yes, Claude can process images from URLs with URL image source blocks in the API.
-  Simply use the &#34;url&#34; source type instead of &#34;base64&#34; in your API requests. 
+  Simply use the &#34;url&#34; source type instead of &#34;base64&#34; in your API requests.
   Example:
   ```json
   {
</code></pre>
    </div>
</body>
</html>