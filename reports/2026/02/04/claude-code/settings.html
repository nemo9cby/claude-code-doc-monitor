<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>settings - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>settings.md</h1>
            <p class="meta">Changed on 2026-02-04 13:41:38 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+1</span> lines added
            </div>
            <div class="stat removed">
                <span>-0</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><span>&gt; ## Documentation Index&para;<br>&gt; Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt&para;<br>&gt; Use this file to discover all available pages before exploring further.&para;<br>&para;<br># Claude Code settings&para;<br>&para;<br>&gt; Configure Claude Code with global and project-level settings, and environment variables.&para;<br>&para;<br>Claude Code offers a variety of settings to configure its behavior to meet your needs. You can configure Claude Code by running the `/config` command when using the interactive REPL, which opens a tabbed Settings interface where you can view status information and modify configuration options.&para;<br>&para;<br>## Configuration scopes&para;<br>&para;<br>Claude Code uses a **scope system** to determine where configurations apply and who they're shared with. Understanding scopes helps you decide how to configure Claude Code for personal use, team collaboration, or enterprise deployment.&para;<br>&para;<br>### Available scopes&para;<br>&para;<br>| Scope       | Location                             | Who it affects                       | Shared with team?      |&para;<br>| :---------- | :----------------------------------- | :----------------------------------- | :--------------------- |&para;<br>| **Managed** | System-level `managed-settings.json` | All users on the machine             | Yes (deployed by IT)   |&para;<br>| **User**    | `~/.claude/` directory               | You, across all projects             | No                     |&para;<br>| **Project** | `.claude/` in repository             | All collaborators on this repository | Yes (committed to git) |&para;<br>| **Local**   | `.claude/*.local.*` files            | You, in this repository only         | No (gitignored)        |&para;<br>&para;<br>### When to use each scope&para;<br>&para;<br>**Managed scope** is for:&para;<br>&para;<br>* Security policies that must be enforced organization-wide&para;<br>* Compliance requirements that can't be overridden&para;<br>* Standardized configurations deployed by IT/DevOps&para;<br>&para;<br>**User scope** is best for:&para;<br>&para;<br>* Personal preferences you want everywhere (themes, editor settings)&para;<br>* Tools and plugins you use across all projects&para;<br>* API keys and authentication (stored securely)&para;<br>&para;<br>**Project scope** is best for:&para;<br>&para;<br>* Team-shared settings (permissions, hooks, MCP servers)&para;<br>* Plugins the whole team should have&para;<br>* Standardizing tooling across collaborators&para;<br>&para;<br>**Local scope** is best for:&para;<br>&para;<br>* Personal overrides for a specific project&para;<br>* Testing configurations before sharing with the team&para;<br>* Machine-specific settings that won't work for others&para;<br>&para;<br>### How scopes interact&para;<br>&para;<br>When the same setting is configured in multiple scopes, more specific scopes take precedence:&para;<br>&para;<br>1. **Managed** (highest) - can't be overridden by anything&para;<br>2. **Command line arguments** - temporary session overrides&para;<br>3. **Local** - overrides project and user settings&para;<br>4. **Project** - overrides user settings&para;<br>5. **User** (lowest) - applies when nothing else specifies the setting&para;<br>&para;<br>For example, if a permission is allowed in user settings but denied in project settings, the project setting takes precedence and the permission is blocked.&para;<br>&para;<br>### What uses scopes&para;<br>&para;<br>Scopes apply to many Claude Code features:&para;<br>&para;<br>| Feature         | User location             | Project location                   | Local location                 |&para;<br>| :-------------- | :------------------------ | :--------------------------------- | :----------------------------- |&para;<br>| **Settings**    | `~/.claude/settings.json` | `.claude/settings.json`            | `.claude/settings.local.json`  |&para;<br>| **Subagents**   | `~/.claude/agents/`       | `.claude/agents/`                  | â€”                              |&para;<br>| **MCP servers** | `~/.claude.json`          | `.mcp.json`                        | `~/.claude.json` (per-project) |&para;<br>| **Plugins**     | `~/.claude/settings.json` | `.claude/settings.json`            | `.claude/settings.local.json`  |&para;<br>| **CLAUDE.md**   | `~/.claude/CLAUDE.md`     | `CLAUDE.md` or `.claude/CLAUDE.md` | `CLAUDE.local.md`              |&para;<br>&para;<br>***&para;<br>&para;<br>## Settings files&para;<br>&para;<br>The `settings.json` file is our official mechanism for configuring Claude&para;<br>Code through hierarchical settings:&para;<br>&para;<br>* **User settings** are defined in `~/.claude/settings.json` and apply to all&para;<br>  projects.&para;<br>* **Project settings** are saved in your project directory:&para;<br>  * `.claude/settings.json` for settings that are checked into source control and shared with your team&para;<br>  * `.claude/settings.local.json` for settings that are not checked in, useful for personal preferences and experimentation. Claude Code will configure git to ignore `.claude/settings.local.json` when it is created.&para;<br>* **Managed settings**: For organizations that need centralized control, Claude Code supports `managed-settings.json` and `managed-mcp.json` files that can be deployed to system directories:&para;<br>&para;<br>  * macOS: `/Library/Application Support/ClaudeCode/`&para;<br>  * Linux and WSL: `/etc/claude-code/`&para;<br>  * Windows: `C:\Program Files\ClaudeCode\`&para;<br>&para;<br>  &lt;Note&gt;&para;<br>    These are system-wide paths (not user home directories like `~/Library/...`) that require administrator privileges. They are designed to be deployed by IT administrators.&para;<br>  &lt;/Note&gt;&para;<br>&para;<br>  See [Managed settings](/en/permissions#managed-settings) and [Managed MCP configuration](/en/mcp#managed-mcp-configuration) for details.&para;<br>&para;<br>  &lt;Note&gt;&para;<br>    Managed deployments can also restrict **plugin marketplace additions** using&para;<br>    `strictKnownMarketplaces`. For more information, see [Managed marketplace restrictions](/en/plugin-marketplaces#managed-marketplace-restrictions).&para;<br>  &lt;/Note&gt;&para;<br>* **Other configuration** is stored in `~/.claude.json`. This file contains your preferences (theme, notification settings, editor mode), OAuth session, [MCP server](/en/mcp) configurations for user and local scopes, per-project state (allowed tools, trust settings), and various caches. Project-scoped MCP servers are stored separately in `.mcp.json`.&para;<br>&para;<br>&lt;Note&gt;&para;<br>  Claude Code automatically creates timestamped backups of configuration files and retains the five most recent backups to prevent data loss.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>```JSON Example settings.json theme={null}&para;<br>{&para;<br>  "$schema": "https://json.schemastore.org/claude-code-settings.json",&para;<br>  "permissions": {&para;<br>    "allow": [&para;<br>      "Bash(npm run lint)",&para;<br>      "Bash(npm run test *)",&para;<br>      "Read(~/.zshrc)"&para;<br>    ],&para;<br>    "deny": [&para;<br>      "Bash(curl *)",&para;<br>      "Read(./.env)",&para;<br>      "Read(./.env.*)",&para;<br>      "Read(./secrets/**)"&para;<br>    ]&para;<br>  },&para;<br>  "env": {&para;<br>    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",&para;<br>    "OTEL_METRICS_EXPORTER": "otlp"&para;<br>  },&para;<br>  "companyAnnouncements": [&para;<br>    "Welcome to Acme Corp! Review our code guidelines at docs.acme.com",&para;<br>    "Reminder: Code reviews required for all PRs",&para;<br>    "New security policy in effect"&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>The `$schema` line in the example above points to the [official JSON schema](https://json.schemastore.org/claude-code-settings.json) for Claude Code settings. Adding it to your `settings.json` enables autocomplete and inline validation in VS Code, Cursor, and any other editor that supports JSON schema validation.&para;<br>&para;<br>### Available settings&para;<br>&para;<br>`settings.json` supports a number of options:&para;<br>&para;<br>| Key                               | Description                                                                                                                                                                                                                                                                     | Example                                                                 |&para;<br>| :-------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------- |&para;<br>| `apiKeyHelper`                    | Custom script, to be executed in `/bin/sh`, to generate an auth value. This value will be sent as `X-Api-Key` and `Authorization: Bearer` headers for model requests                                                                                                            | `/bin/generate_temp_api_key.sh`                                         |&para;<br>| `cleanupPeriodDays`               | Sessions inactive for longer than this period are deleted at startup. Setting to `0` immediately deletes all sessions. (default: 30 days)                                                                                                                                       | `20`                                                                    |&para;<br>| `companyAnnouncements`            | Announcement to display to users at startup. If multiple announcements are provided, they will be cycled through at random.                                                                                                                                                     | `["Welcome to Acme Corp! Review our code guidelines at docs.acme.com"]` |&para;<br>| `env`                             | Environment variables that will be applied to every session                                                                                                                                                                                                                     | `{"FOO": "bar"}`                                                        |&para;<br>| `attribution`                     | Customize attribution for git commits and pull requests. See [Attribution settings](#attribution-settings)                                                                                                                                                                      | `{"commit": "ðŸ¤– Generated with Claude Code", "pr": ""}`                 |&para;<br>| `includeCoAuthoredBy`             | **Deprecated**: Use `attribution` instead. Whether to include the `co-authored-by Claude` byline in git commits and pull requests (default: `true`)                                                                                                                             | `false`                                                                 |&para;<br>| `permissions`                     | See table below for structure of permissions.                                                                                                                                                                                                                                   |                                                                         |&para;<br>| `hooks`                           | Configure custom commands to run at lifecycle events. See [hooks documentation](/en/hooks) for format                                                                                                                                                                           | See [hooks](/en/hooks)                                                  |&para;<br>| `disableAllHooks`                 | Disable all [hooks](/en/hooks)                                                                                                                                                                                                                                                  | `true`                                                                  |&para;<br>| `allowManagedHooksOnly`           | (Managed settings only) Prevent loading of user, project, and plugin hooks. Only allows managed hooks and SDK hooks. See [Hook configuration](#hook-configuration)                                                                                                              | `true`                                                                  |&para;<br>| `allowManagedPermissionRulesOnly` | (Managed settings only) Prevent user and project settings from defining `allow`, `ask`, or `deny` permission rules. Only rules in managed settings apply. See [Managed-only settings](/en/permissions#managed-only-settings)                                                    | `true`                                                                  |&para;<br>| `model`                           | Override the default model to use for Claude Code                                                                                                                                                                                                                               | `"claude-sonnet-4-5-20250929"`                                          |&para;<br>| `otelHeadersHelper`               | Script to generate dynamic OpenTelemetry headers. Runs at startup and periodically (see [Dynamic headers](/en/monitoring-usage#dynamic-headers))                                                                                                                                | `/bin/generate_otel_headers.sh`                                         |&para;<br>| `statusLine`                      | Configure a custom status line to display context. See [`statusLine` documentation](/en/statusline)                                                                                                                                                                             | `{"type": "command", "command": "~/.claude/statusline.sh"}`             |&para;<br>| `fileSuggestion`                  | Configure a custom script for `@` file autocomplete. See [File suggestion settings](#file-suggestion-settings)                                                                                                                                                                  | `{"type": "command", "command": "~/.claude/file-suggestion.sh"}`        |&para;<br>| `respectGitignore`                | Control whether the `@` file picker respects `.gitignore` patterns. When `true` (default), files matching `.gitignore` patterns are excluded from suggestions                                                                                                                   | `false`                                                                 |&para;<br>| `outputStyle`                     | Configure an output style to adjust the system prompt. See [output styles documentation](/en/output-styles)                                                                                                                                                                     | `"Explanatory"`                                                         |&para;<br>| `forceLoginMethod`                | Use `claudeai` to restrict login to Claude.ai accounts, `console` to restrict login to Claude Console (API usage billing) accounts                                                                                                                                              | `claudeai`                                                              |&para;<br>| `forceLoginOrgUUID`               | Specify the UUID of an organization to automatically select it during login, bypassing the organization selection step. Requires `forceLoginMethod` to be set                                                                                                                   | `"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"`                                |&para;<br>| `enableAllProjectMcpServers`      | Automatically approve all MCP servers defined in project `.mcp.json` files                                                                                                                                                                                                      | `true`                                                                  |&para;<br>| `enabledMcpjsonServers`           | List of specific MCP servers from `.mcp.json` files to approve                                                                                                                                                                                                                  | `["memory", "github"]`                                                  |&para;<br>| `disabledMcpjsonServers`          | List of specific MCP servers from `.mcp.json` files to reject                                                                                                                                                                                                                   | `["filesystem"]`                                                        |&para;<br>| `allowedMcpServers`               | When set in managed-settings.json, allowlist of MCP servers users can configure. Undefined = no restrictions, empty array = lockdown. Applies to all scopes. Denylist takes precedence. See [Managed MCP configuration](/en/mcp#managed-mcp-configuration)                      | `[{ "serverName": "github" }]`                                          |&para;<br>| `deniedMcpServers`                | When set in managed-settings.json, denylist of MCP servers that are explicitly blocked. Applies to all scopes including managed servers. Denylist takes precedence over allowlist. See [Managed MCP configuration](/en/mcp#managed-mcp-configuration)                           | `[{ "serverName": "filesystem" }]`                                      |&para;<br>| `strictKnownMarketplaces`         | When set in managed-settings.json, allowlist of plugin marketplaces users can add. Undefined = no restrictions, empty array = lockdown. Applies to marketplace additions only. See [Managed marketplace restrictions](/en/plugin-marketplaces#managed-marketplace-restrictions) | `[{ "source": "github", "repo": "acme-corp/plugins" }]`                 |&para;<br>| `awsAuthRefresh`                  | Custom script that modifies the `.aws` directory (see [advanced credential configuration](/en/amazon-bedrock#advanced-credential-configuration))                                                                                                                                | `aws sso login --profile myprofile`                                     |&para;<br>| `awsCredentialExport`             | Custom script that outputs JSON with AWS credentials (see [advanced credential configuration](/en/amazon-bedrock#advanced-credential-configuration))                                                                                                                            | `/bin/generate_aws_grant.sh`                                            |&para;<br>| `alwaysThinkingEnabled`           | Enable [extended thinking](/en/common-workflows#use-extended-thinking-thinking-mode) by default for all sessions. Typically configured via the `/config` command rather than editing directly                                                                                   | `true`                                                                  |&para;<br>| `plansDirectory`                  | Customize where plan files are stored. Path is relative to project root. Default: `~/.claude/plans`                                                                                                                                                                             | `"./plans"`                                                             |&para;<br>| `showTurnDuration`                | Show turn duration messages after responses (e.g., "Cooked for 1m 6s"). Set to `false` to hide these messages                                                                                                                                                                   | `true`                                                                  |&para;<br>| `spinnerVerbs`                    | Customize the action verbs shown in the spinner and turn duration messages. Set `mode` to `"replace"` to use only your verbs, or `"append"` to add them to the defaults                                                                                                         | `{"mode": "append", "verbs": ["Pondering", "Crafting"]}`                |&para;<br>| `language`                        | Configure Claude's preferred response language (e.g., `"japanese"`, `"spanish"`, `"french"`). Claude will respond in this language by default                                                                                                                                   | `"japanese"`                                                            |&para;<br>| `autoUpdatesChannel`              | Release channel to follow for updates. Use `"stable"` for a version that is typically about one week old and skips versions with major regressions, or `"latest"` (default) for the most recent release                                                                         | `"stable"`                                                              |&para;<br>| `spinnerTipsEnabled`              | Show tips in the spinner while Claude is working. Set to `false` to disable tips (default: `true`)                                                                                                                                                                              | `false`                                                                 |&para;<br>| `terminalProgressBarEnabled`      | Enable the terminal progress bar that shows progress in supported terminals like Windows Terminal and iTerm2 (default: `true`)                                                                                                                                                  | `false`                                                                 |</span><ins style="background:#e6ffe6;">&para;<br>| `prefersReducedMotion`            | Reduce or disable UI animations (spinners, shimmer, flash effects) for accessibility                                                                                                                                                                                            | `true`                                                                  |</ins><span>&para;<br>&para;<br>### Permission settings&para;<br>&para;<br>| Keys                           | Description                                                                                                                                                                                                                                      | Example                                                                |&para;<br>| :----------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------- |&para;<br>| `allow`                        | Array of permission rules to allow tool use. See [Permission rule syntax](#permission-rule-syntax) below for pattern matching details                                                                                                            | `[ "Bash(git diff *)" ]`                                               |&para;<br>| `ask`                          | Array of permission rules to ask for confirmation upon tool use. See [Permission rule syntax](#permission-rule-syntax) below                                                                                                                     | `[ "Bash(git push *)" ]`                                               |&para;<br>| `deny`                         | Array of permission rules to deny tool use. Use this to exclude sensitive files from Claude Code access. See [Permission rule syntax](#permission-rule-syntax) and [Bash permission limitations](/en/permissions#tool-specific-permission-rules) | `[ "WebFetch", "Bash(curl *)", "Read(./.env)", "Read(./secrets/**)" ]` |&para;<br>| `additionalDirectories`        | Additional [working directories](/en/permissions#working-directories) that Claude has access to                                                                                                                                                  | `[ "../docs/" ]`                                                       |&para;<br>| `defaultMode`                  | Default [permission mode](/en/permissions#permission-modes) when opening Claude Code                                                                                                                                                             | `"acceptEdits"`                                                        |&para;<br>| `disableBypassPermissionsMode` | Set to `"disable"` to prevent `bypassPermissions` mode from being activated. This disables the `--dangerously-skip-permissions` command-line flag. See [managed settings](/en/permissions#managed-settings)                                      | `"disable"`                                                            |&para;<br>&para;<br>### Permission rule syntax&para;<br>&para;<br>Permission rules follow the format `Tool` or `Tool(specifier)`. Rules are evaluated in order: deny rules first, then ask, then allow. The first matching rule wins.&para;<br>&para;<br>Quick examples:&para;<br>&para;<br>| Rule                           | Effect                                   |&para;<br>| :----------------------------- | :--------------------------------------- |&para;<br>| `Bash`                         | Matches all Bash commands                |&para;<br>| `Bash(npm run *)`              | Matches commands starting with `npm run` |&para;<br>| `Read(./.env)`                 | Matches reading the `.env` file          |&para;<br>| `WebFetch(domain:example.com)` | Matches fetch requests to example.com    |&para;<br>&para;<br>For the complete rule syntax reference, including wildcard behavior, tool-specific patterns for Read, Edit, WebFetch, MCP, and Task rules, and security limitations of Bash patterns, see [Permission rule syntax](/en/permissions#permission-rule-syntax).&para;<br>&para;<br>### Sandbox settings&para;<br>&para;<br>Configure advanced sandboxing behavior. Sandboxing isolates bash commands from your filesystem and network. See [Sandboxing](/en/sandboxing) for details.&para;<br>&para;<br>**Filesystem and network restrictions** are configured via Read, Edit, and WebFetch permission rules, not via these sandbox settings.&para;<br>&para;<br>| Keys                          | Description                                                                                                                                                                                                                                                                                                                       | Example                         |&para;<br>| :---------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------ |&para;<br>| `enabled`                     | Enable bash sandboxing (macOS, Linux, and WSL2). Default: false                                                                                                                                                                                                                                                                   | `true`                          |&para;<br>| `autoAllowBashIfSandboxed`    | Auto-approve bash commands when sandboxed. Default: true                                                                                                                                                                                                                                                                          | `true`                          |&para;<br>| `excludedCommands`            | Commands that should run outside of the sandbox                                                                                                                                                                                                                                                                                   | `["git", "docker"]`             |&para;<br>| `allowUnsandboxedCommands`    | Allow commands to run outside the sandbox via the `dangerouslyDisableSandbox` parameter. When set to `false`, the `dangerouslyDisableSandbox` escape hatch is completely disabled and all commands must run sandboxed (or be in `excludedCommands`). Useful for enterprise policies that require strict sandboxing. Default: true | `false`                         |&para;<br>| `network.allowUnixSockets`    | Unix socket paths accessible in sandbox (for SSH agents, etc.)                                                                                                                                                                                                                                                                    | `["~/.ssh/agent-socket"]`       |&para;<br>| `network.allowAllUnixSockets` | Allow all Unix socket connections in sandbox. Default: false                                                                                                                                                                                                                                                                      | `true`                          |&para;<br>| `network.allowLocalBinding`   | Allow binding to localhost ports (macOS only). Default: false                                                                                                                                                                                                                                                                     | `true`                          |&para;<br>| `network.allowedDomains`      | Array of domains to allow for outbound network traffic. Supports wildcards (e.g., `*.example.com`).                                                                                                                                                                                                                               | `["github.com", "*.npmjs.org"]` |&para;<br>| `network.httpProxyPort`       | HTTP proxy port used if you wish to bring your own proxy. If not specified, Claude will run its own proxy.                                                                                                                                                                                                                        | `8080`                          |&para;<br>| `network.socksProxyPort`      | SOCKS5 proxy port used if you wish to bring your own proxy. If not specified, Claude will run its own proxy.                                                                                                                                                                                                                      | `8081`                          |&para;<br>| `enableWeakerNestedSandbox`   | Enable weaker sandbox for unprivileged Docker environments (Linux and WSL2 only). **Reduces security.** Default: false                                                                                                                                                                                                            | `true`                          |&para;<br>&para;<br>**Configuration example:**&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "sandbox": {&para;<br>    "enabled": true,&para;<br>    "autoAllowBashIfSandboxed": true,&para;<br>    "excludedCommands": ["docker"],&para;<br>    "network": {&para;<br>      "allowedDomains": ["github.com", "*.npmjs.org", "registry.yarnpkg.com"],&para;<br>      "allowUnixSockets": [&para;<br>        "/var/run/docker.sock"&para;<br>      ],&para;<br>      "allowLocalBinding": true&para;<br>    }&para;<br>  },&para;<br>  "permissions": {&para;<br>    "deny": [&para;<br>      "Read(.envrc)",&para;<br>      "Read(~/.aws/**)"&para;<br>    ]&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>**Filesystem and network restrictions** use standard permission rules:&para;<br>&para;<br>* Use `Read` deny rules to block Claude from reading specific files or directories&para;<br>* Use `Edit` allow rules to let Claude write to directories beyond the current working directory&para;<br>* Use `Edit` deny rules to block writes to specific paths&para;<br>* Use `WebFetch` allow/deny rules to control which network domains Claude can access&para;<br>&para;<br>### Attribution settings&para;<br>&para;<br>Claude Code adds attribution to git commits and pull requests. These are configured separately:&para;<br>&para;<br>* Commits use [git trailers](https://git-scm.com/docs/git-interpret-trailers) (like `Co-Authored-By`) by default,  which can be customized or disabled&para;<br>* Pull request descriptions are plain text&para;<br>&para;<br>| Keys     | Description                                                                                |&para;<br>| :------- | :----------------------------------------------------------------------------------------- |&para;<br>| `commit` | Attribution for git commits, including any trailers. Empty string hides commit attribution |&para;<br>| `pr`     | Attribution for pull request descriptions. Empty string hides pull request attribution     |&para;<br>&para;<br>**Default commit attribution:**&para;<br>&para;<br>```&para;<br>ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)&para;<br>&para;<br>   Co-Authored-By: Claude Sonnet 4.5 &lt;noreply@anthropic.com&gt;&para;<br>```&para;<br>&para;<br>**Default pull request attribution:**&para;<br>&para;<br>```&para;<br>ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)&para;<br>```&para;<br>&para;<br>**Example:**&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "attribution": {&para;<br>    "commit": "Generated with AI\n\nCo-Authored-By: AI &lt;ai@example.com&gt;",&para;<br>    "pr": ""&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>&lt;Note&gt;&para;<br>  The `attribution` setting takes precedence over the deprecated `includeCoAuthoredBy` setting. To hide all attribution, set `commit` and `pr` to empty strings.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>### File suggestion settings&para;<br>&para;<br>Configure a custom command for `@` file path autocomplete. The built-in file suggestion uses fast filesystem traversal, but large monorepos may benefit from project-specific indexing such as a pre-built file index or custom tooling.&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "fileSuggestion": {&para;<br>    "type": "command",&para;<br>    "command": "~/.claude/file-suggestion.sh"&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>The command runs with the same environment variables as [hooks](/en/hooks), including `CLAUDE_PROJECT_DIR`. It receives JSON via stdin with a `query` field:&para;<br>&para;<br>```json  theme={null}&para;<br>{"query": "src/comp"}&para;<br>```&para;<br>&para;<br>Output newline-separated file paths to stdout (currently limited to 15):&para;<br>&para;<br>```&para;<br>src/components/Button.tsx&para;<br>src/components/Modal.tsx&para;<br>src/components/Form.tsx&para;<br>```&para;<br>&para;<br>**Example:**&para;<br>&para;<br>```bash  theme={null}&para;<br>#!/bin/bash&para;<br>query=$(cat | jq -r '.query')&para;<br>your-repo-file-index --query "$query" | head -20&para;<br>```&para;<br>&para;<br>### Hook configuration&para;<br>&para;<br>**Managed settings only**: Controls which hooks are allowed to run. This setting can only be configured in [managed settings](#settings-files) and provides administrators with strict control over hook execution.&para;<br>&para;<br>**Behavior when `allowManagedHooksOnly` is `true`:**&para;<br>&para;<br>* Managed hooks and SDK hooks are loaded&para;<br>* User hooks, project hooks, and plugin hooks are blocked&para;<br>&para;<br>**Configuration:**&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "allowManagedHooksOnly": true&para;<br>}&para;<br>```&para;<br>&para;<br>### Settings precedence&para;<br>&para;<br>Settings apply in order of precedence. From highest to lowest:&para;<br>&para;<br>1. **Managed settings** (`managed-settings.json`)&para;<br>   * Policies deployed by IT/DevOps to system directories&para;<br>   * Cannot be overridden by user or project settings&para;<br>&para;<br>2. **Command line arguments**&para;<br>   * Temporary overrides for a specific session&para;<br>&para;<br>3. **Local project settings** (`.claude/settings.local.json`)&para;<br>   * Personal project-specific settings&para;<br>&para;<br>4. **Shared project settings** (`.claude/settings.json`)&para;<br>   * Team-shared project settings in source control&para;<br>&para;<br>5. **User settings** (`~/.claude/settings.json`)&para;<br>   * Personal global settings&para;<br>&para;<br>This hierarchy ensures that organizational policies are always enforced while still allowing teams and individuals to customize their experience.&para;<br>&para;<br>For example, if your user settings allow `Bash(npm run *)` but a project's shared settings deny it, the project setting takes precedence and the command is blocked.&para;<br>&para;<br>### Key points about the configuration system&para;<br>&para;<br>* **Memory files (`CLAUDE.md`)**: Contain instructions and context that Claude loads at startup&para;<br>* **Settings files (JSON)**: Configure permissions, environment variables, and tool behavior&para;<br>* **Skills**: Custom prompts that can be invoked with `/skill-name` or loaded by Claude automatically&para;<br>* **MCP servers**: Extend Claude Code with additional tools and integrations&para;<br>* **Precedence**: Higher-level configurations (Managed) override lower-level ones (User/Project)&para;<br>* **Inheritance**: Settings are merged, with more specific settings adding to or overriding broader ones&para;<br>&para;<br>### System prompt&para;<br>&para;<br>Claude Code's internal system prompt is not published. To add custom instructions, use `CLAUDE.md` files or the `--append-system-prompt` flag.&para;<br>&para;<br>### Excluding sensitive files&para;<br>&para;<br>To prevent Claude Code from accessing files containing sensitive information like API keys, secrets, and environment files, use the `permissions.deny` setting in your `.claude/settings.json` file:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "permissions": {&para;<br>    "deny": [&para;<br>      "Read(./.env)",&para;<br>      "Read(./.env.*)",&para;<br>      "Read(./secrets/**)",&para;<br>      "Read(./config/credentials.json)",&para;<br>      "Read(./build)"&para;<br>    ]&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>This replaces the deprecated `ignorePatterns` configuration. Files matching these patterns are excluded from file discovery and search results, and read operations on these files are denied.&para;<br>&para;<br>## Subagent configuration&para;<br>&para;<br>Claude Code supports custom AI subagents that can be configured at both user and project levels. These subagents are stored as Markdown files with YAML frontmatter:&para;<br>&para;<br>* **User subagents**: `~/.claude/agents/` - Available across all your projects&para;<br>* **Project subagents**: `.claude/agents/` - Specific to your project and can be shared with your team&para;<br>&para;<br>Subagent files define specialized AI assistants with custom prompts and tool permissions. Learn more about creating and using subagents in the [subagents documentation](/en/sub-agents).&para;<br>&para;<br>## Plugin configuration&para;<br>&para;<br>Claude Code supports a plugin system that lets you extend functionality with skills, agents, hooks, and MCP servers. Plugins are distributed through marketplaces and can be configured at both user and repository levels.&para;<br>&para;<br>### Plugin settings&para;<br>&para;<br>Plugin-related settings in `settings.json`:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "enabledPlugins": {&para;<br>    "formatter@acme-tools": true,&para;<br>    "deployer@acme-tools": true,&para;<br>    "analyzer@security-plugins": false&para;<br>  },&para;<br>  "extraKnownMarketplaces": {&para;<br>    "acme-tools": {&para;<br>      "source": "github",&para;<br>      "repo": "acme-corp/claude-plugins"&para;<br>    }&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>#### `enabledPlugins`&para;<br>&para;<br>Controls which plugins are enabled. Format: `"plugin-name@marketplace-name": true/false`&para;<br>&para;<br>**Scopes**:&para;<br>&para;<br>* **User settings** (`~/.claude/settings.json`): Personal plugin preferences&para;<br>* **Project settings** (`.claude/settings.json`): Project-specific plugins shared with team&para;<br>* **Local settings** (`.claude/settings.local.json`): Per-machine overrides (not committed)&para;<br>&para;<br>**Example**:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "enabledPlugins": {&para;<br>    "code-formatter@team-tools": true,&para;<br>    "deployment-tools@team-tools": true,&para;<br>    "experimental-features@personal": false&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>#### `extraKnownMarketplaces`&para;<br>&para;<br>Defines additional marketplaces that should be made available for the repository. Typically used in repository-level settings to ensure team members have access to required plugin sources.&para;<br>&para;<br>**When a repository includes `extraKnownMarketplaces`**:&para;<br>&para;<br>1. Team members are prompted to install the marketplace when they trust the folder&para;<br>2. Team members are then prompted to install plugins from that marketplace&para;<br>3. Users can skip unwanted marketplaces or plugins (stored in user settings)&para;<br>4. Installation respects trust boundaries and requires explicit consent&para;<br>&para;<br>**Example**:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "extraKnownMarketplaces": {&para;<br>    "acme-tools": {&para;<br>      "source": {&para;<br>        "source": "github",&para;<br>        "repo": "acme-corp/claude-plugins"&para;<br>      }&para;<br>    },&para;<br>    "security-plugins": {&para;<br>      "source": {&para;<br>        "source": "git",&para;<br>        "url": "https://git.example.com/security/plugins.git"&para;<br>      }&para;<br>    }&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>**Marketplace source types**:&para;<br>&para;<br>* `github`: GitHub repository (uses `repo`)&para;<br>* `git`: Any git URL (uses `url`)&para;<br>* `directory`: Local filesystem path (uses `path`, for development only)&para;<br>* `hostPattern`: regex pattern to match marketplace hosts (uses `hostPattern`)&para;<br>&para;<br>#### `strictKnownMarketplaces`&para;<br>&para;<br>**Managed settings only**: Controls which plugin marketplaces users are allowed to add. This setting can only be configured in [`managed-settings.json`](/en/permissions#managed-settings) and provides administrators with strict control over marketplace sources.&para;<br>&para;<br>**Managed settings file locations**:&para;<br>&para;<br>* **macOS**: `/Library/Application Support/ClaudeCode/managed-settings.json`&para;<br>* **Linux and WSL**: `/etc/claude-code/managed-settings.json`&para;<br>* **Windows**: `C:\Program Files\ClaudeCode\managed-settings.json`&para;<br>&para;<br>**Key characteristics**:&para;<br>&para;<br>* Only available in managed settings (`managed-settings.json`)&para;<br>* Cannot be overridden by user or project settings (highest precedence)&para;<br>* Enforced BEFORE network/filesystem operations (blocked sources never execute)&para;<br>* Uses exact matching for source specifications (including `ref`, `path` for git sources), except `hostPattern`, which uses regex matching&para;<br>&para;<br>**Allowlist behavior**:&para;<br>&para;<br>* `undefined` (default): No restrictions - users can add any marketplace&para;<br>* Empty array `[]`: Complete lockdown - users cannot add any new marketplaces&para;<br>* List of sources: Users can only add marketplaces that match exactly&para;<br>&para;<br>**All supported source types**:&para;<br>&para;<br>The allowlist supports seven marketplace source types. Most sources use exact matching, while `hostPattern` uses regex matching against the marketplace host.&para;<br>&para;<br>1. **GitHub repositories**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "github", "repo": "acme-corp/approved-plugins" }&para;<br>{ "source": "github", "repo": "acme-corp/security-tools", "ref": "v2.0" }&para;<br>{ "source": "github", "repo": "acme-corp/plugins", "ref": "main", "path": "marketplace" }&para;<br>```&para;<br>&para;<br>Fields: `repo` (required), `ref` (optional: branch/tag/SHA), `path` (optional: subdirectory)&para;<br>&para;<br>2. **Git repositories**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "git", "url": "https://gitlab.example.com/tools/plugins.git" }&para;<br>{ "source": "git", "url": "https://bitbucket.org/acme-corp/plugins.git", "ref": "production" }&para;<br>{ "source": "git", "url": "ssh://git@git.example.com/plugins.git", "ref": "v3.1", "path": "approved" }&para;<br>```&para;<br>&para;<br>Fields: `url` (required), `ref` (optional: branch/tag/SHA), `path` (optional: subdirectory)&para;<br>&para;<br>3. **URL-based marketplaces**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "url", "url": "https://plugins.example.com/marketplace.json" }&para;<br>{ "source": "url", "url": "https://cdn.example.com/marketplace.json", "headers": { "Authorization": "Bearer ${TOKEN}" } }&para;<br>```&para;<br>&para;<br>Fields: `url` (required), `headers` (optional: HTTP headers for authenticated access)&para;<br>&para;<br>&lt;Note&gt;&para;<br>  URL-based marketplaces only download the `marketplace.json` file. They do not download plugin files from the server. Plugins in URL-based marketplaces must use external sources (GitHub, npm, or git URLs) rather than relative paths. For plugins with relative paths, use a Git-based marketplace instead. See [Troubleshooting](/en/plugin-marketplaces#plugins-with-relative-paths-fail-in-url-based-marketplaces) for details.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>4. **NPM packages**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "npm", "package": "@acme-corp/claude-plugins" }&para;<br>{ "source": "npm", "package": "@acme-corp/approved-marketplace" }&para;<br>```&para;<br>&para;<br>Fields: `package` (required, supports scoped packages)&para;<br>&para;<br>5. **File paths**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "file", "path": "/usr/local/share/claude/acme-marketplace.json" }&para;<br>{ "source": "file", "path": "/opt/acme-corp/plugins/marketplace.json" }&para;<br>```&para;<br>&para;<br>Fields: `path` (required: absolute path to marketplace.json file)&para;<br>&para;<br>6. **Directory paths**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "directory", "path": "/usr/local/share/claude/acme-plugins" }&para;<br>{ "source": "directory", "path": "/opt/acme-corp/approved-marketplaces" }&para;<br>```&para;<br>&para;<br>Fields: `path` (required: absolute path to directory containing `.claude-plugin/marketplace.json`)&para;<br>&para;<br>7. **Host pattern matching**:&para;<br>&para;<br>```json  theme={null}&para;<br>{ "source": "hostPattern", "hostPattern": "^github\\.example\\.com$" }&para;<br>{ "source": "hostPattern", "hostPattern": "^gitlab\\.internal\\.example\\.com$" }&para;<br>```&para;<br>&para;<br>Fields: `hostPattern` (required: regex pattern to match against the marketplace host)&para;<br>&para;<br>Use host pattern matching when you want to allow all marketplaces from a specific host without enumerating each repository individually. This is useful for organizations with internal GitHub Enterprise or GitLab servers where developers create their own marketplaces.&para;<br>&para;<br>Host extraction by source type:&para;<br>&para;<br>* `github`: always matches against `github.com`&para;<br>* `git`: extracts hostname from the URL (supports both HTTPS and SSH formats)&para;<br>* `url`: extracts hostname from the URL&para;<br>* `npm`, `file`, `directory`: not supported for host pattern matching&para;<br>&para;<br>**Configuration examples**:&para;<br>&para;<br>Example: allow specific marketplaces only:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "strictKnownMarketplaces": [&para;<br>    {&para;<br>      "source": "github",&para;<br>      "repo": "acme-corp/approved-plugins"&para;<br>    },&para;<br>    {&para;<br>      "source": "github",&para;<br>      "repo": "acme-corp/security-tools",&para;<br>      "ref": "v2.0"&para;<br>    },&para;<br>    {&para;<br>      "source": "url",&para;<br>      "url": "https://plugins.example.com/marketplace.json"&para;<br>    },&para;<br>    {&para;<br>      "source": "npm",&para;<br>      "package": "@acme-corp/compliance-plugins"&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>Example - Disable all marketplace additions:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "strictKnownMarketplaces": []&para;<br>}&para;<br>```&para;<br>&para;<br>Example: allow all marketplaces from an internal git server:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "strictKnownMarketplaces": [&para;<br>    {&para;<br>      "source": "hostPattern",&para;<br>      "hostPattern": "^github\\.example\\.com$"&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>**Exact matching requirements**:&para;<br>&para;<br>Marketplace sources must match **exactly** for a user's addition to be allowed. For git-based sources (`github` and `git`), this includes all optional fields:&para;<br>&para;<br>* The `repo` or `url` must match exactly&para;<br>* The `ref` field must match exactly (or both be undefined)&para;<br>* The `path` field must match exactly (or both be undefined)&para;<br>&para;<br>Examples of sources that **do NOT match**:&para;<br>&para;<br>```json  theme={null}&para;<br>// These are DIFFERENT sources:&para;<br>{ "source": "github", "repo": "acme-corp/plugins" }&para;<br>{ "source": "github", "repo": "acme-corp/plugins", "ref": "main" }&para;<br>&para;<br>// These are also DIFFERENT:&para;<br>{ "source": "github", "repo": "acme-corp/plugins", "path": "marketplace" }&para;<br>{ "source": "github", "repo": "acme-corp/plugins" }&para;<br>```&para;<br>&para;<br>**Comparison with `extraKnownMarketplaces`**:&para;<br>&para;<br>| Aspect                | `strictKnownMarketplaces`            | `extraKnownMarketplaces`             |&para;<br>| --------------------- | ------------------------------------ | ------------------------------------ |&para;<br>| **Purpose**           | Organizational policy enforcement    | Team convenience                     |&para;<br>| **Settings file**     | `managed-settings.json` only         | Any settings file                    |&para;<br>| **Behavior**          | Blocks non-allowlisted additions     | Auto-installs missing marketplaces   |&para;<br>| **When enforced**     | Before network/filesystem operations | After user trust prompt              |&para;<br>| **Can be overridden** | No (highest precedence)              | Yes (by higher precedence settings)  |&para;<br>| **Source format**     | Direct source object                 | Named marketplace with nested source |&para;<br>| **Use case**          | Compliance, security restrictions    | Onboarding, standardization          |&para;<br>&para;<br>**Format difference**:&para;<br>&para;<br>`strictKnownMarketplaces` uses direct source objects:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "strictKnownMarketplaces": [&para;<br>    { "source": "github", "repo": "acme-corp/plugins" }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>`extraKnownMarketplaces` requires named marketplaces:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "extraKnownMarketplaces": {&para;<br>    "acme-tools": {&para;<br>      "source": { "source": "github", "repo": "acme-corp/plugins" }&para;<br>    }&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>**Important notes**:&para;<br>&para;<br>* Restrictions are checked BEFORE any network requests or filesystem operations&para;<br>* When blocked, users see clear error messages indicating the source is blocked by managed policy&para;<br>* The restriction applies only to adding NEW marketplaces; previously installed marketplaces remain accessible&para;<br>* Managed settings have the highest precedence and cannot be overridden&para;<br>&para;<br>See [Managed marketplace restrictions](/en/plugin-marketplaces#managed-marketplace-restrictions) for user-facing documentation.&para;<br>&para;<br>### Managing plugins&para;<br>&para;<br>Use the `/plugin` command to manage plugins interactively:&para;<br>&para;<br>* Browse available plugins from marketplaces&para;<br>* Install/uninstall plugins&para;<br>* Enable/disable plugins&para;<br>* View plugin details (commands, agents, hooks provided)&para;<br>* Add/remove marketplaces&para;<br>&para;<br>Learn more about the plugin system in the [plugins documentation](/en/plugins).&para;<br>&para;<br>## Environment variables&para;<br>&para;<br>Claude Code supports the following environment variables to control its behavior:&para;<br>&para;<br>&lt;Note&gt;&para;<br>  All environment variables can also be configured in [`settings.json`](#available-settings). This is useful as a way to automatically set environment variables for each session, or to roll out a set of environment variables for your whole team or organization.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>| Variable                                       | Purpose                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |     |&para;<br>| :--------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |&para;<br>| `ANTHROPIC_API_KEY`                            | API key sent as `X-Api-Key` header, typically for the Claude SDK (for interactive usage, run `/login`)                                                                                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `ANTHROPIC_AUTH_TOKEN`                         | Custom value for the `Authorization` header (the value you set here will be prefixed with `Bearer `)                                                                                                                                                                                                                                                                                                                                                                                                                                           |     |&para;<br>| `ANTHROPIC_CUSTOM_HEADERS`                     | Custom headers to add to requests (`Name: Value` format, newline-separated for multiple headers)                                                                                                                                                                                                                                                                                                                                                                                                                                               |     |&para;<br>| `ANTHROPIC_DEFAULT_HAIKU_MODEL`                | See [Model configuration](/en/model-config#environment-variables)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `ANTHROPIC_DEFAULT_OPUS_MODEL`                 | See [Model configuration](/en/model-config#environment-variables)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `ANTHROPIC_DEFAULT_SONNET_MODEL`               | See [Model configuration](/en/model-config#environment-variables)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `ANTHROPIC_FOUNDRY_API_KEY`                    | API key for Microsoft Foundry authentication (see [Microsoft Foundry](/en/microsoft-foundry))                                                                                                                                                                                                                                                                                                                                                                                                                                                  |     |&para;<br>| `ANTHROPIC_FOUNDRY_BASE_URL`                   | Full base URL for the Foundry resource (for example, `https://my-resource.services.ai.azure.com/anthropic`). Alternative to `ANTHROPIC_FOUNDRY_RESOURCE` (see [Microsoft Foundry](/en/microsoft-foundry))                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `ANTHROPIC_FOUNDRY_RESOURCE`                   | Foundry resource name (for example, `my-resource`). Required if `ANTHROPIC_FOUNDRY_BASE_URL` is not set (see [Microsoft Foundry](/en/microsoft-foundry))                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `ANTHROPIC_MODEL`                              | Name of the model setting to use (see [Model Configuration](/en/model-config#environment-variables))                                                                                                                                                                                                                                                                                                                                                                                                                                           |     |&para;<br>| `ANTHROPIC_SMALL_FAST_MODEL`                   | \[DEPRECATED] Name of [Haiku-class model for background tasks](/en/costs)                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION`        | Override AWS region for the Haiku-class model when using Bedrock                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |     |&para;<br>| `AWS_BEARER_TOKEN_BEDROCK`                     | Bedrock API key for authentication (see [Bedrock API keys](https://aws.amazon.com/blogs/machine-learning/accelerate-ai-development-with-amazon-bedrock-api-keys/))                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `BASH_DEFAULT_TIMEOUT_MS`                      | Default timeout for long-running bash commands                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `BASH_MAX_OUTPUT_LENGTH`                       | Maximum number of characters in bash outputs before they are middle-truncated                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |     |&para;<br>| `BASH_MAX_TIMEOUT_MS`                          | Maximum timeout the model can set for long-running bash commands                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |     |&para;<br>| `CLAUDE_AUTOCOMPACT_PCT_OVERRIDE`              | Set the percentage of context capacity (1-100) at which auto-compaction triggers. By default, auto-compaction triggers at approximately 95% capacity. Use lower values like `50` to compact earlier. Values above the default threshold have no effect. Applies to both main conversations and subagents. This percentage aligns with the `context_window.used_percentage` field available in [status line](/en/statusline)                                                                                                                    |     |&para;<br>| `CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR`     | Return to the original working directory after each Bash command                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |     |&para;<br>| `CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD` | Set to `1` to load CLAUDE.md files from directories specified with `--add-dir`. By default, additional directories do not load memory files                                                                                                                                                                                                                                                                                                                                                                                                    | `1` |&para;<br>| `CLAUDE_CODE_API_KEY_HELPER_TTL_MS`            | Interval in milliseconds at which credentials should be refreshed (when using `apiKeyHelper`)                                                                                                                                                                                                                                                                                                                                                                                                                                                  |     |&para;<br>| `CLAUDE_CODE_CLIENT_CERT`                      | Path to client certificate file for mTLS authentication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |     |&para;<br>| `CLAUDE_CODE_CLIENT_KEY_PASSPHRASE`            | Passphrase for encrypted CLAUDE\_CODE\_CLIENT\_KEY (optional)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |     |&para;<br>| `CLAUDE_CODE_CLIENT_KEY`                       | Path to client private key file for mTLS authentication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |     |&para;<br>| `CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS`       | Set to `1` to disable Anthropic API-specific `anthropic-beta` headers. Use this if experiencing issues like "Unexpected value(s) for the `anthropic-beta` header" when using an LLM gateway with third-party providers                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `CLAUDE_CODE_DISABLE_BACKGROUND_TASKS`         | Set to `1` to disable all background task functionality, including the `run_in_background` parameter on Bash and subagent tools, auto-backgrounding, and the Ctrl+B shortcut                                                                                                                                                                                                                                                                                                                                                                   |     |&para;<br>| `CLAUDE_CODE_DISABLE_FEEDBACK_SURVEY`          | Set to `1` to disable the "How is Claude doing?" session quality surveys. Also disabled when using third-party providers or when telemetry is disabled. See [Session quality surveys](/en/data-usage#session-quality-surveys)                                                                                                                                                                                                                                                                                                                  |     |&para;<br>| `CLAUDE_CODE_EXIT_AFTER_STOP_DELAY`            | Time in milliseconds to wait after the query loop becomes idle before automatically exiting. Useful for automated workflows and scripts using SDK mode                                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `CLAUDE_CODE_PROXY_RESOLVES_HOSTS`             | Set to `true` to allow the proxy to perform DNS resolution instead of the caller. Opt-in for environments where the proxy should handle hostname resolution                                                                                                                                                                                                                                                                                                                                                                                    |     |&para;<br>| `CLAUDE_CODE_TASK_LIST_ID`                     | Share a task list across sessions. Set the same ID in multiple Claude Code instances to coordinate on a shared task list. See [Task list](/en/interactive-mode#task-list)                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `CLAUDE_CODE_TMPDIR`                           | Override the temp directory used for internal temp files. Claude Code appends `/claude/` to this path. Default: `/tmp` on Unix/macOS, `os.tmpdir()` on Windows                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC`     | Equivalent of setting `DISABLE_AUTOUPDATER`, `DISABLE_BUG_COMMAND`, `DISABLE_ERROR_REPORTING`, and `DISABLE_TELEMETRY`                                                                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `CLAUDE_CODE_DISABLE_TERMINAL_TITLE`           | Set to `1` to disable automatic terminal title updates based on conversation context                                                                                                                                                                                                                                                                                                                                                                                                                                                           |     |&para;<br>| `CLAUDE_CODE_ENABLE_PROMPT_SUGGESTION`         | Set to `false` to disable prompt suggestions (the "Prompt suggestions" toggle in `/config`). These are the grayed-out predictions that appear in your prompt input after Claude responds. See [Prompt suggestions](/en/interactive-mode#prompt-suggestions)                                                                                                                                                                                                                                                                                    |     |&para;<br>| `CLAUDE_CODE_ENABLE_TASKS`                     | Set to `false` to temporarily revert to the previous TODO list instead of the task tracking system. Default: `true`. See [Task list](/en/interactive-mode#task-list)                                                                                                                                                                                                                                                                                                                                                                           |     |&para;<br>| `CLAUDE_CODE_ENABLE_TELEMETRY`                 | Set to `1` to enable OpenTelemetry data collection for metrics and logging. Required before configuring OTel exporters. See [Monitoring](/en/monitoring-usage)                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS`      | Override the default token limit for file reads. Useful when you need to read larger files in full                                                                                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `CLAUDE_CODE_HIDE_ACCOUNT_INFO`                | Set to `1` to hide your email address and organization name from the Claude Code UI. Useful when streaming or recording                                                                                                                                                                                                                                                                                                                                                                                                                        |     |&para;<br>| `CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL`            | Skip auto-installation of IDE extensions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `CLAUDE_CODE_MAX_OUTPUT_TOKENS`                | Set the maximum number of output tokens for most requests. Default: 32,000. Maximum: 64,000. Increasing this value reduces the effective context window available before [auto-compaction](/en/costs#reduce-token-usage) triggers.                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `CLAUDE_CODE_OTEL_HEADERS_HELPER_DEBOUNCE_MS`  | Interval for refreshing dynamic OpenTelemetry headers in milliseconds (default: 1740000 / 29 minutes). See [Dynamic headers](/en/monitoring-usage#dynamic-headers)                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `CLAUDE_CODE_SHELL`                            | Override automatic shell detection. Useful when your login shell differs from your preferred working shell (for example, `bash` vs `zsh`)                                                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `CLAUDE_CODE_SHELL_PREFIX`                     | Command prefix to wrap all bash commands (for example, for logging or auditing). Example: `/path/to/logger.sh` will execute `/path/to/logger.sh &lt;command&gt;`                                                                                                                                                                                                                                                                                                                                                                                     |     |&para;<br>| `CLAUDE_CODE_SKIP_BEDROCK_AUTH`                | Skip AWS authentication for Bedrock (for example, when using an LLM gateway)                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |     |&para;<br>| `CLAUDE_CODE_SKIP_FOUNDRY_AUTH`                | Skip Azure authentication for Microsoft Foundry (for example, when using an LLM gateway)                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `CLAUDE_CODE_SKIP_VERTEX_AUTH`                 | Skip Google authentication for Vertex (for example, when using an LLM gateway)                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `CLAUDE_CODE_SUBAGENT_MODEL`                   | See [Model configuration](/en/model-config)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |     |&para;<br>| `CLAUDE_CODE_USE_BEDROCK`                      | Use [Bedrock](/en/amazon-bedrock)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `CLAUDE_CODE_USE_FOUNDRY`                      | Use [Microsoft Foundry](/en/microsoft-foundry)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `CLAUDE_CODE_USE_VERTEX`                       | Use [Vertex](/en/google-vertex-ai)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `CLAUDE_CONFIG_DIR`                            | Customize where Claude Code stores its configuration and data files                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |     |&para;<br>| `DISABLE_AUTOUPDATER`                          | Set to `1` to disable automatic updates.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `DISABLE_BUG_COMMAND`                          | Set to `1` to disable the `/bug` command                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `DISABLE_COST_WARNINGS`                        | Set to `1` to disable cost warning messages                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |     |&para;<br>| `DISABLE_ERROR_REPORTING`                      | Set to `1` to opt out of Sentry error reporting                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |     |&para;<br>| `DISABLE_INSTALLATION_CHECKS`                  | Set to `1` to disable installation warnings. Use only when manually managing the installation location, as this can mask issues with standard installations                                                                                                                                                                                                                                                                                                                                                                                    |     |&para;<br>| `DISABLE_NON_ESSENTIAL_MODEL_CALLS`            | Set to `1` to disable model calls for non-critical paths like flavor text                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `DISABLE_PROMPT_CACHING`                       | Set to `1` to disable prompt caching for all models (takes precedence over per-model settings)                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `DISABLE_PROMPT_CACHING_HAIKU`                 | Set to `1` to disable prompt caching for Haiku models                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |     |&para;<br>| `DISABLE_PROMPT_CACHING_OPUS`                  | Set to `1` to disable prompt caching for Opus models                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |     |&para;<br>| `DISABLE_PROMPT_CACHING_SONNET`                | Set to `1` to disable prompt caching for Sonnet models                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `DISABLE_TELEMETRY`                            | Set to `1` to opt out of Statsig telemetry (note that Statsig events do not include user data like code, file paths, or bash commands)                                                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `ENABLE_TOOL_SEARCH`                           | Controls [MCP tool search](/en/mcp#scale-with-mcp-tool-search). Values: `auto` (default, enables at 10% context), `auto:N` (custom threshold, e.g., `auto:5` for 5%), `true` (always on), `false` (disabled)                                                                                                                                                                                                                                                                                                                                   |     |&para;<br>| `FORCE_AUTOUPDATE_PLUGINS`                     | Set to `true` to force plugin auto-updates even when the main auto-updater is disabled via `DISABLE_AUTOUPDATER`                                                                                                                                                                                                                                                                                                                                                                                                                               |     |&para;<br>| `HTTP_PROXY`                                   | Specify HTTP proxy server for network connections                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `HTTPS_PROXY`                                  | Specify HTTPS proxy server for network connections                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `IS_DEMO`                                      | Set to `true` to enable demo mode: hides email and organization from the UI, skips onboarding, and hides internal commands. Useful for streaming or recording sessions                                                                                                                                                                                                                                                                                                                                                                         |     |&para;<br>| `MAX_MCP_OUTPUT_TOKENS`                        | Maximum number of tokens allowed in MCP tool responses. Claude Code displays a warning when output exceeds 10,000 tokens (default: 25000)                                                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `MAX_THINKING_TOKENS`                          | Override the [extended thinking](https://platform.claude.com/docs/en/build-with-claude/extended-thinking) token budget. Thinking is enabled at max budget (31,999 tokens) by default. Use this to limit the budget (for example, `MAX_THINKING_TOKENS=10000`) or disable thinking entirely (`MAX_THINKING_TOKENS=0`). Extended thinking improves performance on complex reasoning and coding tasks but impacts [prompt caching efficiency](https://platform.claude.com/docs/en/build-with-claude/prompt-caching#caching-with-thinking-blocks). |     |&para;<br>| `MCP_TIMEOUT`                                  | Timeout in milliseconds for MCP server startup                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `MCP_TOOL_TIMEOUT`                             | Timeout in milliseconds for MCP tool execution                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |     |&para;<br>| `NO_PROXY`                                     | List of domains and IPs to which requests will be directly issued, bypassing proxy                                                                                                                                                                                                                                                                                                                                                                                                                                                             |     |&para;<br>| `SLASH_COMMAND_TOOL_CHAR_BUDGET`               | Maximum number of characters for skill metadata shown to the [Skill tool](/en/skills#control-who-invokes-a-skill) (default: 15000). Legacy name kept for backwards compatibility.                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `USE_BUILTIN_RIPGREP`                          | Set to `0` to use system-installed `rg` instead of `rg` included with Claude Code                                                                                                                                                                                                                                                                                                                                                                                                                                                              |     |&para;<br>| `VERTEX_REGION_CLAUDE_3_5_HAIKU`               | Override region for Claude 3.5 Haiku when using Vertex AI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |     |&para;<br>| `VERTEX_REGION_CLAUDE_3_7_SONNET`              | Override region for Claude 3.7 Sonnet when using Vertex AI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |     |&para;<br>| `VERTEX_REGION_CLAUDE_4_0_OPUS`                | Override region for Claude 4.0 Opus when using Vertex AI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>| `VERTEX_REGION_CLAUDE_4_0_SONNET`              | Override region for Claude 4.0 Sonnet when using Vertex AI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |     |&para;<br>| `VERTEX_REGION_CLAUDE_4_1_OPUS`                | Override region for Claude 4.1 Opus when using Vertex AI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     |&para;<br>&para;<br>## Tools available to Claude&para;<br>&para;<br>Claude Code has access to a set of powerful tools that help it understand and modify your codebase:&para;<br>&para;<br>| Tool                | Description                                                                                                                                                                                                                                                                                                                                                                 | Permission Required |&para;<br>| :------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------ |&para;<br>| **AskUserQuestion** | Asks multiple-choice questions to gather requirements or clarify ambiguity                                                                                                                                                                                                                                                                                                  | No                  |&para;<br>| **Bash**            | Executes shell commands in your environment (see [Bash tool behavior](#bash-tool-behavior) below)                                                                                                                                                                                                                                                                           | Yes                 |&para;<br>| **TaskOutput**      | Retrieves output from a background task (bash shell or subagent)                                                                                                                                                                                                                                                                                                            | No                  |&para;<br>| **Edit**            | Makes targeted edits to specific files                                                                                                                                                                                                                                                                                                                                      | Yes                 |&para;<br>| **ExitPlanMode**    | Prompts the user to exit plan mode and start coding                                                                                                                                                                                                                                                                                                                         | Yes                 |&para;<br>| **Glob**            | Finds files based on pattern matching                                                                                                                                                                                                                                                                                                                                       | No                  |&para;<br>| **Grep**            | Searches for patterns in file contents                                                                                                                                                                                                                                                                                                                                      | No                  |&para;<br>| **KillShell**       | Kills a running background bash shell by its ID                                                                                                                                                                                                                                                                                                                             | No                  |&para;<br>| **MCPSearch**       | Searches for and loads MCP tools when [tool search](/en/mcp#scale-with-mcp-tool-search) is enabled                                                                                                                                                                                                                                                                          | No                  |&para;<br>| **NotebookEdit**    | Modifies Jupyter notebook cells                                                                                                                                                                                                                                                                                                                                             | Yes                 |&para;<br>| **Read**            | Reads the contents of files                                                                                                                                                                                                                                                                                                                                                 | No                  |&para;<br>| **Skill**           | Executes a [skill](/en/skills#control-who-invokes-a-skill) within the main conversation                                                                                                                                                                                                                                                                                     | Yes                 |&para;<br>| **Task**            | Runs a sub-agent to handle complex, multi-step tasks                                                                                                                                                                                                                                                                                                                        | No                  |&para;<br>| **TaskCreate**      | Creates a new task in the task list                                                                                                                                                                                                                                                                                                                                         | No                  |&para;<br>| **TaskGet**         | Retrieves full details for a specific task                                                                                                                                                                                                                                                                                                                                  | No                  |&para;<br>| **TaskList**        | Lists all tasks with their current status                                                                                                                                                                                                                                                                                                                                   | No                  |&para;<br>| **TaskUpdate**      | Updates task status, dependencies, details, or deletes tasks                                                                                                                                                                                                                                                                                                                | No                  |&para;<br>| **WebFetch**        | Fetches content from a specified URL                                                                                                                                                                                                                                                                                                                                        | Yes                 |&para;<br>| **WebSearch**       | Performs web searches with domain filtering                                                                                                                                                                                                                                                                                                                                 | Yes                 |&para;<br>| **Write**           | Creates or overwrites files                                                                                                                                                                                                                                                                                                                                                 | Yes                 |&para;<br>| **LSP**             | Code intelligence via language servers. Reports type errors and warnings automatically after file edits. Also supports navigation operations: jump to definitions, find references, get type info, list symbols, find implementations, trace call hierarchies. Requires a [code intelligence plugin](/en/discover-plugins#code-intelligence) and its language server binary | No                  |&para;<br>&para;<br>Permission rules can be configured using `/allowed-tools` or in [permission settings](/en/settings#available-settings). Also see [Tool-specific permission rules](/en/permissions#tool-specific-permission-rules).&para;<br>&para;<br>### Bash tool behavior&para;<br>&para;<br>The Bash tool executes shell commands with the following persistence behavior:&para;<br>&para;<br>* **Working directory persists**: When Claude changes the working directory (for example, `cd /path/to/dir`), subsequent Bash commands will execute in that directory. You can use `CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR=1` to reset to the project directory after each command.&para;<br>* **Environment variables do NOT persist**: Environment variables set in one Bash command (for example, `export MY_VAR=value`) are **not** available in subsequent Bash commands. Each Bash command runs in a fresh shell environment.&para;<br>&para;<br>To make environment variables available in Bash commands, you have **three options**:&para;<br>&para;<br>**Option 1: Activate environment before starting Claude Code** (simplest approach)&para;<br>&para;<br>Activate your virtual environment in your terminal before launching Claude Code:&para;<br>&para;<br>```bash  theme={null}&para;<br>conda activate myenv&para;<br># or: source /path/to/venv/bin/activate&para;<br>claude&para;<br>```&para;<br>&para;<br>This works for shell environments but environment variables set within Claude's Bash commands will not persist between commands.&para;<br>&para;<br>**Option 2: Set CLAUDE\_ENV\_FILE before starting Claude Code** (persistent environment setup)&para;<br>&para;<br>Export the path to a shell script containing your environment setup:&para;<br>&para;<br>```bash  theme={null}&para;<br>export CLAUDE_ENV_FILE=/path/to/env-setup.sh&para;<br>claude&para;<br>```&para;<br>&para;<br>Where `/path/to/env-setup.sh` contains:&para;<br>&para;<br>```bash  theme={null}&para;<br>conda activate myenv&para;<br># or: source /path/to/venv/bin/activate&para;<br># or: export MY_VAR=value&para;<br>```&para;<br>&para;<br>Claude Code will source this file before each Bash command, making the environment persistent across all commands.&para;<br>&para;<br>**Option 3: Use a SessionStart hook** (project-specific configuration)&para;<br>&para;<br>Configure in `.claude/settings.json`:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "hooks": {&para;<br>    "SessionStart": [{&para;<br>      "matcher": "startup",&para;<br>      "hooks": [{&para;<br>        "type": "command",&para;<br>        "command": "echo 'conda activate myenv' &gt;&gt; \"$CLAUDE_ENV_FILE\""&para;<br>      }]&para;<br>    }]&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>The hook writes to `$CLAUDE_ENV_FILE`, which is then sourced before each Bash command. This is ideal for team-shared project configurations.&para;<br>&para;<br>See [SessionStart hooks](/en/hooks#persist-environment-variables) for more details on Option 3.&para;<br>&para;<br>### Extending tools with hooks&para;<br>&para;<br>You can run custom commands before or after any tool executes using&para;<br>[Claude Code hooks](/en/hooks-guide).&para;<br>&para;<br>For example, you could automatically run a Python formatter after Claude&para;<br>modifies Python files, or prevent modifications to production configuration&para;<br>files by blocking Write operations to certain paths.&para;<br>&para;<br>## See also&para;<br>&para;<br>* [Permissions](/en/permissions): permission system, rule syntax, tool-specific patterns, and managed policies&para;<br>* [Authentication](/en/authentication): set up user access to Claude Code&para;<br>* [Troubleshooting](/en/troubleshooting): solutions for common configuration issues&para;<br></span></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/settings.md
+++ b/settings.md
@@ -176,6 +176,7 @@
 | `autoUpdatesChannel`              | Release channel to follow for updates. Use `&#34;stable&#34;` for a version that is typically about one week old and skips versions with major regressions, or `&#34;latest&#34;` (default) for the most recent release                                                                         | `&#34;stable&#34;`                                                              |
 | `spinnerTipsEnabled`              | Show tips in the spinner while Claude is working. Set to `false` to disable tips (default: `true`)                                                                                                                                                                              | `false`                                                                 |
 | `terminalProgressBarEnabled`      | Enable the terminal progress bar that shows progress in supported terminals like Windows Terminal and iTerm2 (default: `true`)                                                                                                                                                  | `false`                                                                 |
+| `prefersReducedMotion`            | Reduce or disable UI animations (spinners, shimmer, flash effects) for accessibility                                                                                                                                                                                            | `true`                                                                  |
 
 ### Permission settings
 
</code></pre>
    </div>
</body>
</html>