<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iam - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>iam.md</h1>
            <p class="meta">Changed on 2026-01-20 09:26:17 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+1</span> lines added
            </div>
            <div class="stat removed">
                <span>-0</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><span># Identity and Access Management&para;<br>&para;<br>&gt; Learn how to configure user authentication, authorization, and access controls for Claude Code in your organization.&para;<br>&para;<br>## Authentication methods&para;<br>&para;<br>Setting up Claude Code requires access to Anthropic models. For teams, you can set up Claude Code access in one of these ways:&para;<br>&para;<br>* [Claude for Teams or Enterprise](/en/setup#for-teams-and-organizations) (recommended)&para;<br>* [Claude Console with team billing](/en/setup#for-teams-and-organizations)&para;<br>* [Amazon Bedrock](/en/amazon-bedrock)&para;<br>* [Google Vertex AI](/en/google-vertex-ai)&para;<br>* [Microsoft Foundry](/en/microsoft-foundry)&para;<br>&para;<br>### Claude for Teams or Enterprise (recommended)&para;<br>&para;<br>[Claude for Teams](https://claude.com/pricing#team-&amp;-enterprise) and [Claude for Enterprise](https://anthropic.com/contact-sales) provide the best experience for organizations using Claude Code. Team members get access to both Claude Code and Claude on the web with centralized billing and team management.&para;<br>&para;<br>* **Claude for Teams**: Self-service plan with collaboration features, admin tools, and billing management. Best for smaller teams.&para;<br>* **Claude for Enterprise**: Adds SSO, domain capture, role-based permissions, compliance API, and managed policy settings for organization-wide Claude Code configurations. Best for larger organizations with security and compliance requirements.&para;<br>&para;<br>**To set up Claude Code access:**&para;<br>&para;<br>1. Subscribe to [Claude for Teams](https://claude.com/pricing#team-&amp;-enterprise) or contact sales for [Claude for Enterprise](https://anthropic.com/contact-sales)&para;<br>2. Invite team members from the admin dashboard&para;<br>3. Team members install Claude Code and log in with their Claude.ai accounts&para;<br>&para;<br>### Claude Console authentication&para;<br>&para;<br>For organizations that prefer API-based billing, you can set up access through the Claude Console.&para;<br>&para;<br>**To set up Claude Code access for your team via Claude Console:**&para;<br>&para;<br>1. Use your existing Claude Console account or create a new Claude Console account&para;<br>2. You can add users through either method below:&para;<br>   * Bulk invite users from within the Console (Console -&gt; Settings -&gt; Members -&gt; Invite)&para;<br>   * [Set up SSO](https://support.claude.com/en/articles/13132885-setting-up-single-sign-on-sso)&para;<br>3. When inviting users, they need one of the following roles:&para;<br>   * "Claude Code" role means users can only create Claude Code API keys&para;<br>   * "Developer" role means users can create any kind of API key&para;<br>4. Each invited user needs to complete these steps:&para;<br>   * Accept the Console invite&para;<br>   * [Check system requirements](/en/setup#system-requirements)&para;<br>   * [Install Claude Code](/en/setup#installation)&para;<br>   * Login with Console account credentials&para;<br>&para;<br>### Cloud provider authentication&para;<br>&para;<br>**To set up Claude Code access for your team via Bedrock, Vertex, or Azure:**&para;<br>&para;<br>1. Follow the [Bedrock docs](/en/amazon-bedrock), [Vertex docs](/en/google-vertex-ai), or [Microsoft Foundry docs](/en/microsoft-foundry)&para;<br>2. Distribute the environment variables and instructions for generating cloud credentials to your users. Read more about how to [manage configuration here](/en/settings).&para;<br>3. Users can [install Claude Code](/en/setup#installation)&para;<br>&para;<br>## Access control and permissions&para;<br>&para;<br>We support fine-grained permissions so that you're able to specify exactly what the agent is allowed to do (e.g. run tests, run linter) and what it is not allowed to do (e.g. update cloud infrastructure). These permission settings can be checked into version control and distributed to all developers in your organization, as well as customized by individual developers.&para;<br>&para;<br>### Permission system&para;<br>&para;<br>Claude Code uses a tiered permission system to balance power and safety:&para;<br>&para;<br>| Tool Type         | Example          | Approval Required | "Yes, don't ask again" Behavior               |&para;<br>| :---------------- | :--------------- | :---------------- | :-------------------------------------------- |&para;<br>| Read-only         | File reads, Grep | No                | N/A                                           |&para;<br>| Bash Commands     | Shell execution  | Yes               | Permanently per project directory and command |&para;<br>| File Modification | Edit/write files | Yes               | Until session end                             |&para;<br>&para;<br>### Configuring permissions&para;<br>&para;<br>You can view &amp; manage Claude Code's tool permissions with `/permissions`. This UI lists all permission rules and the settings.json file they are sourced from.&para;<br>&para;<br>* **Allow** rules let Claude Code use the specified tool without manual approval.&para;<br>* **Ask** rules prompt for confirmation whenever Claude Code tries to use the specified tool.&para;<br>* **Deny** rules prevent Claude Code from using the specified tool.&para;<br>&para;<br>Rules are evaluated in order: **deny → ask → allow**. The first matching rule wins, so deny rules always take precedence.&para;<br>&para;<br>* **Additional directories** extend Claude's file access to directories beyond the initial working directory.&para;<br>* **Default mode** controls Claude's permission behavior when encountering new requests.&para;<br>&para;<br>Permission rules use the format: `Tool` or `Tool(optional-specifier)`&para;<br>&para;<br>A rule that is just the tool name matches any use of that tool. For example, adding `Bash` to the allow list allows Claude Code to use the Bash tool without requiring user approval. Note that `Bash(*)` does **not** match all Bash commands. Use `Bash` without parentheses to match all uses.&para;<br>&para;<br>&lt;Note&gt;&para;<br>  For a quick reference on permission rule syntax including wildcards, see [Permission rule syntax](/en/settings#permission-rule-syntax) in the settings documentation.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>#### Permission modes&para;<br>&para;<br>Claude Code supports several permission modes that can be set as the `defaultMode` in [settings files](/en/settings#settings-files):&para;<br>&para;<br>| Mode                | Description                                                                                                               |&para;<br>| :------------------ | :------------------------------------------------------------------------------------------------------------------------ |&para;<br>| `default`           | Standard behavior - prompts for permission on first use of each tool                                                      |&para;<br>| `acceptEdits`       | Automatically accepts file edit permissions for the session                                                               |&para;<br>| `plan`              | Plan Mode - Claude can analyze but not modify files or execute commands                                                   |&para;<br>| `dontAsk`           | Auto-denies tools unless pre-approved via `/permissions` or [`permissions.allow`](/en/settings#permission-settings) rules |&para;<br>| `bypassPermissions` | Skips all permission prompts (requires safe environment - see warning below)                                              |&para;<br>&para;<br>#### Working directories&para;<br>&para;<br>By default, Claude has access to files in the directory where it was launched. You can extend this access:&para;<br>&para;<br>* **During startup**: Use `--add-dir &lt;path&gt;` CLI argument&para;<br>* **During session**: Use `/add-dir` slash command&para;<br>* **Persistent configuration**: Add to `additionalDirectories` in [settings files](/en/settings#settings-files)&para;<br>&para;<br>Files in additional directories follow the same permission rules as the original working directory - they become readable without prompts, and file editing permissions follow the current permission mode.&para;<br>&para;<br>#### Tool-specific permission rules&para;<br>&para;<br>Some tools support more fine-grained permission controls:&para;<br>&para;<br>**Bash**&para;<br>&para;<br>Bash permission rules support both prefix matching with `:*` and wildcard matching with `*`:&para;<br>&para;<br>* `Bash(npm run build)` Matches the exact Bash command `npm run build`&para;<br>* `Bash(npm run test:*)` Matches Bash commands starting with `npm run test`&para;<br>* `Bash(npm *)` Matches any command starting with `npm ` (e.g., `npm install`, `npm run build`)&para;<br>* `Bash(* install)` Matches any command ending with ` install` (e.g., `npm install`, `yarn install`)&para;<br>* `Bash(git * main)` Matches commands like `git checkout main`, `git merge main`&para;<br>&para;<br></span><ins style="background:#e6ffe6;">The key difference between `:*` and `*`: the `:*` suffix enforces a word boundary, requiring the prefix to be followed by a space or end-of-string. For example, `Bash(ls:*)` matches `ls -la` but not `lsof`. In contrast, `Bash(ls*)` with a bare `*` matches both `ls -la` and `lsof` because `*` has no word boundary constraint.&para;<br>&para;<br></ins><span>&lt;Tip&gt;&para;<br>  Claude Code is aware of shell operators (like `&amp;&amp;`) so a prefix match rule like `Bash(safe-cmd:*)` won't give it permission to run the command `safe-cmd &amp;&amp; other-cmd`&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>&lt;Warning&gt;&para;<br>  Important limitations of Bash permission patterns:&para;<br>&para;<br>  1. The `:*` wildcard only works at the end of a pattern for prefix matching&para;<br>  2. The `*` wildcard can appear at any position and matches any sequence of characters&para;<br>  3. Patterns like `Bash(curl http://github.com/:*)` can be bypassed in many ways:&para;<br>     * Options before URL: `curl -X GET http://github.com/...` won't match&para;<br>     * Different protocol: `curl https://github.com/...` won't match&para;<br>     * Redirects: `curl -L http://bit.ly/xyz` (redirects to github)&para;<br>     * Variables: `URL=http://github.com &amp;&amp; curl $URL` won't match&para;<br>     * Extra spaces: `curl  http://github.com` won't match&para;<br>&para;<br>  For more reliable URL filtering, consider:&para;<br>&para;<br>  * **Restrict Bash network tools**: Use deny rules to block `curl`, `wget`, and similar commands, then use the WebFetch tool with `WebFetch(domain:github.com)` permission for allowed domains&para;<br>  * **Use PreToolUse hooks**: Implement a hook that validates URLs in Bash commands and blocks disallowed domains&para;<br>  * Instructing Claude Code about your allowed curl patterns via CLAUDE.md&para;<br>&para;<br>  Note that using WebFetch alone does not prevent network access. If Bash is allowed, Claude can still use `curl`, `wget`, or other tools to reach any URL.&para;<br>&lt;/Warning&gt;&para;<br>&para;<br>**Read &amp; Edit**&para;<br>&para;<br>`Edit` rules apply to all built-in tools that edit files. Claude will make a best-effort attempt to apply `Read` rules to all built-in tools that read files like Grep and Glob.&para;<br>&para;<br>Read &amp; Edit rules both follow the [gitignore](https://git-scm.com/docs/gitignore) specification with four distinct pattern types:&para;<br>&para;<br>| Pattern            | Meaning                                | Example                          | Matches                            |&para;<br>| ------------------ | -------------------------------------- | -------------------------------- | ---------------------------------- |&para;<br>| `//path`           | **Absolute** path from filesystem root | `Read(//Users/alice/secrets/**)` | `/Users/alice/secrets/**`          |&para;<br>| `~/path`           | Path from **home** directory           | `Read(~/Documents/*.pdf)`        | `/Users/alice/Documents/*.pdf`     |&para;<br>| `/path`            | Path **relative to settings file**     | `Edit(/src/**/*.ts)`             | `&lt;settings file path&gt;/src/**/*.ts` |&para;<br>| `path` or `./path` | Path **relative to current directory** | `Read(*.env)`                    | `&lt;cwd&gt;/*.env`                      |&para;<br>&para;<br>&lt;Warning&gt;&para;<br>  A pattern like `/Users/alice/file` is NOT an absolute path - it's relative to your settings file! Use `//Users/alice/file` for absolute paths.&para;<br>&lt;/Warning&gt;&para;<br>&para;<br>* `Edit(/docs/**)` - Edits in `&lt;project&gt;/docs/` (NOT `/docs/`!)&para;<br>* `Read(~/.zshrc)` - Reads your home directory's `.zshrc`&para;<br>* `Edit(//tmp/scratch.txt)` - Edits the absolute path `/tmp/scratch.txt`&para;<br>* `Read(src/**)` - Reads from `&lt;current-directory&gt;/src/`&para;<br>&para;<br>**WebFetch**&para;<br>&para;<br>* `WebFetch(domain:example.com)` Matches fetch requests to example.com&para;<br>&para;<br>**MCP**&para;<br>&para;<br>* `mcp__puppeteer` Matches any tool provided by the `puppeteer` server (name configured in Claude Code)&para;<br>* `mcp__puppeteer__*` Wildcard syntax that also matches all tools from the `puppeteer` server&para;<br>* `mcp__puppeteer__puppeteer_navigate` Matches the `puppeteer_navigate` tool provided by the `puppeteer` server&para;<br>&para;<br>**Task (Subagents)**&para;<br>&para;<br>Use `Task(AgentName)` rules to control which [subagents](/en/sub-agents) Claude can use:&para;<br>&para;<br>* `Task(Explore)` Matches the Explore subagent&para;<br>* `Task(Plan)` Matches the Plan subagent&para;<br>* `Task(Verify)` Matches the Verify subagent&para;<br>&para;<br>Add these rules to the `deny` array in your [settings](/en/settings#permission-settings) or use the `--disallowedTools` CLI flag to disable specific agents. For example, to disable the Explore agent:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "permissions": {&para;<br>    "deny": ["Task(Explore)"]&para;<br>  }&para;<br>}&para;<br>```&para;<br>&para;<br>### Additional permission control with hooks&para;<br>&para;<br>[Claude Code hooks](/en/hooks-guide) provide a way to register custom shell commands to perform permission evaluation at runtime. When Claude Code makes a tool call, PreToolUse hooks run before the permission system runs, and the hook output can determine whether to approve or deny the tool call in place of the permission system.&para;<br>&para;<br>### Managed settings&para;<br>&para;<br>For organizations that need centralized control over Claude Code configuration, administrators can deploy `managed-settings.json` files to [system directories](/en/settings#settings-files). These policy files follow the same format as regular settings files and cannot be overridden by user or project settings.&para;<br>&para;<br>### Settings precedence&para;<br>&para;<br>When multiple settings sources exist, they are applied in the following order (highest to lowest precedence):&para;<br>&para;<br>1. Managed settings (`managed-settings.json`)&para;<br>2. Command line arguments&para;<br>3. Local project settings (`.claude/settings.local.json`)&para;<br>4. Shared project settings (`.claude/settings.json`)&para;<br>5. User settings (`~/.claude/settings.json`)&para;<br>&para;<br>This hierarchy ensures that organizational policies are always enforced while still allowing flexibility at the project and user levels where appropriate.&para;<br>&para;<br>## Credential management&para;<br>&para;<br>Claude Code securely manages your authentication credentials:&para;<br>&para;<br>* **Storage location**: On macOS, API keys, OAuth tokens, and other credentials are stored in the encrypted macOS Keychain.&para;<br>* **Supported authentication types**: Claude.ai credentials, Claude API credentials, Azure Auth, Bedrock Auth, and Vertex Auth.&para;<br>* **Custom credential scripts**: The [`apiKeyHelper`](/en/settings#available-settings) setting can be configured to run a shell script that returns an API key.&para;<br>* **Refresh intervals**: By default, `apiKeyHelper` is called after 5 minutes or on HTTP 401 response. Set `CLAUDE_CODE_API_KEY_HELPER_TTL_MS` environment variable for custom refresh intervals.&para;<br>&para;<br>&para;<br>---&para;<br>&para;<br>&gt; To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt</span></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/iam.md
+++ b/iam.md
@@ -123,6 +123,8 @@
 * `Bash(* install)` Matches any command ending with ` install` (e.g., `npm install`, `yarn install`)
 * `Bash(git * main)` Matches commands like `git checkout main`, `git merge main`
 
+The key difference between `:*` and `*`: the `:*` suffix enforces a word boundary, requiring the prefix to be followed by a space or end-of-string. For example, `Bash(ls:*)` matches `ls -la` but not `lsof`. In contrast, `Bash(ls*)` with a bare `*` matches both `ls -la` and `lsof` because `*` has no word boundary constraint.
+
 &lt;Tip&gt;
   Claude Code is aware of shell operators (like `&amp;&amp;`) so a prefix match rule like `Bash(safe-cmd:*)` won&#39;t give it permission to run the command `safe-cmd &amp;&amp; other-cmd`
 &lt;/Tip&gt;
</code></pre>
    </div>
</body>
</html>