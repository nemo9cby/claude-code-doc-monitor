<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>microsoft-foundry - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>microsoft-foundry.md</h1>
            <p class="meta">Changed on 2026-01-23 22:23:14 EST</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+3</span> lines added
            </div>
            <div class="stat removed">
                <span>-2</span> lines removed
            </div>
        </div>

        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><ins style="background:#e6ffe6;">&gt; ## Documentation Index&para;<br>&gt; Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt&para;<br>&gt; Use this file to discover all available pages before exploring further.&para;<br>&para;<br></ins><span># Claude Code on Microsoft Foundry&para;<br>&para;<br>&gt; Learn about configuring Claude Code through Microsoft Foundry, including setup, configuration, and troubleshooting.&para;<br>&para;<br>## Prerequisites&para;<br>&para;<br>Before configuring Claude Code with Microsoft Foundry, ensure you have:&para;<br>&para;<br>* An Azure subscription with access to Microsoft Foundry&para;<br>* RBAC permissions to create Microsoft Foundry resources and deployments&para;<br>* Azure CLI installed and configured (optional - only needed if you don't have another mechanism for getting credentials)&para;<br>&para;<br>## Setup&para;<br>&para;<br>### 1. Provision Microsoft Foundry resource&para;<br>&para;<br>First, create a Claude resource in Azure:&para;<br>&para;<br>1. Navigate to the [Microsoft Foundry portal](https://ai.azure.com/)&para;<br>2. Create a new resource, noting your resource name&para;<br>3. Create deployments for the Claude models:&para;<br>   * Claude Opus&para;<br>   * Claude Sonnet&para;<br>   * Claude Haiku&para;<br>&para;<br>### 2. Configure Azure credentials&para;<br>&para;<br>Claude Code supports two authentication methods for Microsoft Foundry. Choose the method that best fits your security requirements.&para;<br>&para;<br>**Option A: API key authentication**&para;<br>&para;<br>1. Navigate to your resource in the Microsoft Foundry portal&para;<br>2. Go to the **Endpoints and keys** section&para;<br>3. Copy **API Key**&para;<br>4. Set the environment variable:&para;<br>&para;<br>```bash  theme={null}&para;<br>export ANTHROPIC_FOUNDRY_API_KEY=your-azure-api-key&para;<br>```&para;<br>&para;<br>**Option B: Microsoft Entra ID authentication**&para;<br>&para;<br>When `ANTHROPIC_FOUNDRY_API_KEY` is not set, Claude Code automatically uses the Azure SDK [default credential chain](https://learn.microsoft.com/en-us/azure/developer/javascript/sdk/authentication/credential-chains#defaultazurecredential-overview).&para;<br>This supports a variety of methods for authenticating local and remote workloads.&para;<br>&para;<br>On local environments, you commonly may use the Azure CLI:&para;<br>&para;<br>```bash  theme={null}&para;<br>az login&para;<br>```&para;<br>&para;<br>&lt;Note&gt;&para;<br>  When using Microsoft Foundry, the `/login` and `/logout` commands are disabled since authentication is handled through Azure credentials.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>### 3. Configure Claude Code&para;<br>&para;<br>Set the following environment variables to enable Microsoft Foundry. Note that your deployments' names are set as the model identifiers in Claude Code (may be optional if using suggested deployment names).&para;<br>&para;<br>```bash  theme={null}&para;<br># Enable Microsoft Foundry integration&para;<br>export CLAUDE_CODE_USE_FOUNDRY=1&para;<br>&para;<br># Azure resource name (replace {resource} with your resource name)&para;<br>export ANTHROPIC_FOUNDRY_RESOURCE={resource}&para;<br># Or provide the full base URL:&para;<br># export ANTHROPIC_FOUNDRY_BASE_URL=https://{resource}.services.ai.azure.com/anthropic&para;<br>&para;<br># Set models to your resource's deployment names&para;<br>export ANTHROPIC_DEFAULT_SONNET_MODEL='claude-sonnet-4-5'&para;<br>export ANTHROPIC_DEFAULT_HAIKU_MODEL='claude-haiku-4-5'&para;<br>export ANTHROPIC_DEFAULT_OPUS_MODEL='claude-opus-4-1'&para;<br>```&para;<br>&para;<br>For more details on model configuration options, see [Model configuration](/en/model-config).&para;<br>&para;<br>## Azure RBAC configuration&para;<br>&para;<br>The `Azure AI User` and `Cognitive Services User` default roles include all required permissions for invoking Claude models.&para;<br>&para;<br>For more restrictive permissions, create a custom role with the following:&para;<br>&para;<br>```json  theme={null}&para;<br>{&para;<br>  "permissions": [&para;<br>    {&para;<br>      "dataActions": [&para;<br>        "Microsoft.CognitiveServices/accounts/providers/*"&para;<br>      ]&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>For details, see [Microsoft Foundry RBAC documentation](https://learn.microsoft.com/en-us/azure/ai-foundry/concepts/rbac-azure-ai-foundry).&para;<br>&para;<br>## Troubleshooting&para;<br>&para;<br>If you receive an error "Failed to get token from azureADTokenProvider: ChainedTokenCredential authentication failed":&para;<br>&para;<br>* Configure Entra ID on the environment, or set `ANTHROPIC_FOUNDRY_API_KEY`.&para;<br>&para;<br>## Additional resources&para;<br>&para;<br>* [Microsoft Foundry documentation](https://learn.microsoft.com/en-us/azure/ai-foundry/what-is-azure-ai-foundry)&para;<br>* [Microsoft Foundry models](https://ai.azure.com/explore/models)&para;<br>* [Microsoft Foundry pricing](https://azure.microsoft.com/en-us/pricing/details/ai-foundry/)&para;<br></span><del style="background:#ffe6e6;">&para;<br>&para;<br>---&para;<br>&para;<br>&gt; To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt</del></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/microsoft-foundry.md
+++ b/microsoft-foundry.md
@@ -1,3 +1,7 @@
+&gt; ## Documentation Index
+&gt; Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt
+&gt; Use this file to discover all available pages before exploring further.
+
 # Claude Code on Microsoft Foundry
 
 &gt; Learn about configuring Claude Code through Microsoft Foundry, including setup, configuration, and troubleshooting.
@@ -105,8 +109,3 @@
 * [Microsoft Foundry documentation](https://learn.microsoft.com/en-us/azure/ai-foundry/what-is-azure-ai-foundry)
 * [Microsoft Foundry models](https://ai.azure.com/explore/models)
 * [Microsoft Foundry pricing](https://azure.microsoft.com/en-us/pricing/details/ai-foundry/)
-
-
----
-
-&gt; To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt</code></pre>
    </div>
</body>
</html>