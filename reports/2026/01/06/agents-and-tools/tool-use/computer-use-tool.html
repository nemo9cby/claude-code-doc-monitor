<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>agents-and-tools/tool-use/computer-use-tool - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>agents-and-tools/tool-use/computer-use-tool.md</h1>
            <p class="meta">Changed on 2026-01-06 14:35:17 UTC</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+615</span> lines added
            </div>
            <div class="stat removed">
                <span>-0</span> lines removed
            </div>
        </div>

        
        <div class="analysis">
            <div class="analysis-header">ðŸ¤– AI Analysis</div>
            <div class="analysis-content"># Documentation Change Analysis

## Summary
The documentation for the &#34;Computer Use Tool&#34; has been significantly expanded, introducing a comprehensive overview of its capabilities, security considerations, implementation guidelines, and examples for developers. This change marks the tool&#39;s transition to a more user-friendly and informative format.

## Key Changes
- **Introduction of Capabilities**: Detailed descriptions of features such as screenshot capture, mouse control, keyboard input, and desktop automation.
- **Model Compatibility**: Clear specifications of which Claude models support the computer use tool and their respective beta flags.
- **Security Considerations**: Extensive warnings and best practices to mitigate risks associated with using the tool, especially regarding sensitive data and prompt injections.
- **Implementation Guidelines**: Step-by-step instructions for setting up the tool, including code examples in multiple programming languages.
- **Agent Loop Explanation**: A detailed breakdown of the interaction cycle between Claude and the computing environment, emphasizing the importance of a sandboxed setup.

## Impact
**High**: The introduction of the Computer Use Tool with extensive documentation not only enhances the functionality available to developers but also provides critical guidance on security and implementation. This empowers developers to effectively utilize the tool while being aware of potential risks, thus facilitating more robust and secure applications.</div>
        </div>
        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><ins style="background:#e6ffe6;"># Computer use tool&para;<br>&para;<br>---&para;<br>&para;<br>Claude can interact with computer environments through the computer use tool, which provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.&para;<br>&para;<br>&lt;Note&gt;&para;<br>Computer use is currently in beta and requires a [beta header](/docs/en/api/beta-headers):&para;<br>- `"computer-use-2025-11-24"` for Claude Opus 4.5&para;<br>- `"computer-use-2025-01-24"` for Claude Sonnet 4.5, Haiku 4.5, Opus 4.1, Sonnet 4, Opus 4, and Sonnet 3.7 ([deprecated](/docs/en/about-claude/model-deprecations))&para;<br>&para;<br>Please reach out through our [feedback form](https://forms.gle/H6UFuXaaLywri9hz6) to share your feedback on this feature.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>## Overview&para;<br>&para;<br>Computer use is a beta feature that enables Claude to interact with desktop environments. This tool provides:&para;<br>&para;<br>- **Screenshot capture**: See what's currently displayed on screen&para;<br>- **Mouse control**: Click, drag, and move the cursor&para;<br>- **Keyboard input**: Type text and use keyboard shortcuts&para;<br>- **Desktop automation**: Interact with any application or interface&para;<br>&para;<br>While computer use can be augmented with other tools like bash and text editor for more comprehensive automation workflows, computer use specifically refers to the computer use tool's capability to see and control desktop environments.&para;<br>&para;<br>## Model compatibility&para;<br>&para;<br>Computer use is available for the following Claude models:&para;<br>&para;<br>| Model | Tool Version | Beta Flag |&para;<br>|-------|--------------|-----------|&para;<br>| Claude Opus 4.5 | `computer_20251124` | `computer-use-2025-11-24` |&para;<br>| All other supported models | `computer_20250124` | `computer-use-2025-01-24` |&para;<br>&para;<br>&lt;Note&gt;&para;<br>Claude Opus 4.5 introduces the `computer_20251124` tool version with new capabilities including the zoom action for detailed screen region inspection. All other models (Sonnet 4.5, Haiku 4.5, Sonnet 4, Opus 4, Opus 4.1, and Sonnet 3.7) use the `computer_20250124` tool version.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>&lt;Warning&gt;&para;<br>Older tool versions are not guaranteed to be backwards-compatible with newer models. Always use the tool version that corresponds to your model version.&para;<br>&lt;/Warning&gt;&para;<br>&para;<br>## Security considerations&para;<br>&para;<br>&lt;Warning&gt;&para;<br>Computer use is a beta feature with unique risks distinct from standard API features. These risks are heightened when interacting with the internet. To minimize risks, consider taking precautions such as:&para;<br>&para;<br>1. Use a dedicated virtual machine or container with minimal privileges to prevent direct system attacks or accidents.&para;<br>2. Avoid giving the model access to sensitive data, such as account login information, to prevent information theft.&para;<br>3. Limit internet access to an allowlist of domains to reduce exposure to malicious content.&para;<br>4. Ask a human to confirm decisions that may result in meaningful real-world consequences as well as any tasks requiring affirmative consent, such as accepting cookies, executing financial transactions, or agreeing to terms of service.&para;<br>&para;<br>In some circumstances, Claude will follow commands found in content even if it conflicts with the user's instructions. For example, Claude instructions on webpages or contained in images may override instructions or cause Claude to make mistakes. We suggest taking precautions to isolate Claude from sensitive data and actions to avoid risks related to prompt injection.&para;<br>&para;<br>We've trained the model to resist these prompt injections and have added an extra layer of defense. If you use our computer use tools, we'll automatically run classifiers on your prompts to flag potential instances of prompt injections. When these classifiers identify potential prompt injections in screenshots, they will automatically steer the model to ask for user confirmation before proceeding with the next action. We recognize that this extra protection won't be ideal for every use case (for example, use cases without a human in the loop), so if you'd like to opt out and turn it off, please [contact us](https://support.claude.com/en/).&para;<br>&para;<br>We still suggest taking precautions to isolate Claude from sensitive data and actions to avoid risks related to prompt injection.&para;<br>&para;<br>Finally, please inform end users of relevant risks and obtain their consent prior to enabling computer use in your own products.&para;<br>&para;<br>&lt;/Warning&gt;&para;<br>&para;<br>&lt;Card&para;<br>  title="Computer use reference implementation"&para;<br>  icon="computer"&para;<br>  href="https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo"&para;<br>&gt;&para;<br>&para;<br>Get started quickly with our computer use reference implementation that includes a web interface, Docker container, example tool implementations, and an agent loop.&para;<br>&para;<br>**Note:** The implementation has been updated to include new tools for both Claude 4 models and Claude Sonnet 3.7. Be sure to pull the latest version of the repo to access these new features.&para;<br>&para;<br>&lt;/Card&gt;&para;<br>&para;<br>&lt;Tip&gt;&para;<br>  Please use [this form](https://forms.gle/BT1hpBrqDPDUrCqo7) to provide&para;<br>  feedback on the quality of the model responses, the API itself, or the quality&para;<br>  of the documentation - we cannot wait to hear from you!&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>## Quick start&para;<br>&para;<br>Here's how to get started with computer use:&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```python Python&para;<br>import anthropic&para;<br>&para;<br>client = anthropic.Anthropic()&para;<br>&para;<br>response = client.beta.messages.create(&para;<br>    model="claude-sonnet-4-5",  # or another compatible model&para;<br>    max_tokens=1024,&para;<br>    tools=[&para;<br>        {&para;<br>          "type": "computer_20250124",&para;<br>          "name": "computer",&para;<br>          "display_width_px": 1024,&para;<br>          "display_height_px": 768,&para;<br>          "display_number": 1,&para;<br>        },&para;<br>        {&para;<br>          "type": "text_editor_20250728",&para;<br>          "name": "str_replace_based_edit_tool"&para;<br>        },&para;<br>        {&para;<br>          "type": "bash_20250124",&para;<br>          "name": "bash"&para;<br>        }&para;<br>    ],&para;<br>    messages=[{"role": "user", "content": "Save a picture of a cat to my desktop."}],&para;<br>    betas=["computer-use-2025-01-24"]&para;<br>)&para;<br>print(response)&para;<br>```&para;<br>&para;<br>```bash Shell&para;<br>curl https://api.anthropic.com/v1/messages \&para;<br>  -H "content-type: application/json" \&para;<br>  -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>  -H "anthropic-version: 2023-06-01" \&para;<br>  -H "anthropic-beta: computer-use-2025-01-24" \&para;<br>  -d '{&para;<br>    "model": "claude-sonnet-4-5",&para;<br>    "max_tokens": 1024,&para;<br>    "tools": [&para;<br>      {&para;<br>        "type": "computer_20250124",&para;<br>        "name": "computer",&para;<br>        "display_width_px": 1024,&para;<br>        "display_height_px": 768,&para;<br>        "display_number": 1&para;<br>      },&para;<br>      {&para;<br>        "type": "text_editor_20250728",&para;<br>        "name": "str_replace_based_edit_tool"&para;<br>      },&para;<br>      {&para;<br>        "type": "bash_20250124",&para;<br>        "name": "bash"&para;<br>      }&para;<br>    ],&para;<br>    "messages": [&para;<br>      {&para;<br>        "role": "user",&para;<br>        "content": "Save a picture of a cat to my desktop."&para;<br>      }&para;<br>    ]&para;<br>  }'&para;<br>```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>&lt;Note&gt;&para;<br>A beta header is only required for the computer use tool.&para;<br>&para;<br>The example above shows all three tools being used together, which requires the beta header because it includes the computer use tool.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>---&para;<br>&para;<br>## How computer use works&para;<br>&para;<br>&lt;Steps&gt;&para;<br>  &lt;Step&para;<br>    title="1. Provide Claude with the computer use tool and a user prompt"&para;<br>    icon="tool"&para;<br>  &gt;&para;<br>    - Add the computer use tool (and optionally other tools) to your API request.&para;<br>    - Include a user prompt that requires desktop interaction, e.g., "Save a picture of a cat to my desktop."&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step title="2. Claude decides to use the computer use tool" icon="wrench"&gt;&para;<br>    - Claude assesses if the computer use tool can help with the user's query.&para;<br>    - If yes, Claude constructs a properly formatted tool use request.&para;<br>    - The API response has a `stop_reason` of `tool_use`, signaling Claude's intent.&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step&para;<br>    title="3. Extract tool input, evaluate the tool on a computer, and return results"&para;<br>    icon="computer"&para;<br>  &gt;&para;<br>    - On your end, extract the tool name and input from Claude's request.&para;<br>    - Use the tool on a container or Virtual Machine.&para;<br>    - Continue the conversation with a new `user` message containing a `tool_result` content block.&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step&para;<br>    title="4. Claude continues calling computer use tools until it's completed the task"&para;<br>    icon="arrows-clockwise"&para;<br>  &gt;&para;<br>    - Claude analyzes the tool results to determine if more tool use is needed or the task has been completed.&para;<br>    - If Claude decides it needs another tool, it responds with another `tool_use` `stop_reason` and you should return to step 3.&para;<br>    - Otherwise, it crafts a text response to the user.&para;<br>  &lt;/Step&gt;&para;<br>&lt;/Steps&gt;&para;<br>&para;<br>We refer to the repetition of steps 3 and 4 without user input as the "agent loop" - i.e., Claude responding with a tool use request and your application responding to Claude with the results of evaluating that request.&para;<br>&para;<br>### The computing environment&para;<br>&para;<br>Computer use requires a sandboxed computing environment where Claude can safely interact with applications and the web. This environment includes:&para;<br>&para;<br>1. **Virtual display**: A virtual X11 display server (using Xvfb) that renders the desktop interface Claude will see through screenshots and control with mouse/keyboard actions.&para;<br>&para;<br>2. **Desktop environment**: A lightweight UI with window manager (Mutter) and panel (Tint2) running on Linux, which provides a consistent graphical interface for Claude to interact with.&para;<br>&para;<br>3. **Applications**: Pre-installed Linux applications like Firefox, LibreOffice, text editors, and file managers that Claude can use to complete tasks.&para;<br>&para;<br>4. **Tool implementations**: Integration code that translates Claude's abstract tool requests (like "move mouse" or "take screenshot") into actual operations in the virtual environment.&para;<br>&para;<br>5. **Agent loop**: A program that handles communication between Claude and the environment, sending Claude's actions to the environment and returning the results (screenshots, command outputs) back to Claude.&para;<br>&para;<br>When you use computer use, Claude doesn't directly connect to this environment. Instead, your application:&para;<br>&para;<br>1. Receives Claude's tool use requests&para;<br>2. Translates them into actions in your computing environment&para;<br>3. Captures the results (screenshots, command outputs, etc.)&para;<br>4. Returns these results to Claude&para;<br>&para;<br>For security and isolation, the reference implementation runs all of this inside a Docker container with appropriate port mappings for viewing and interacting with the environment.&para;<br>&para;<br>---&para;<br>&para;<br>## How to implement computer use&para;<br>&para;<br>### Start with our reference implementation&para;<br>&para;<br>We have built a [reference implementation](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo) that includes everything you need to get started quickly with computer use:&para;<br>&para;<br>- A [containerized environment](https://github.com/anthropics/anthropic-quickstarts/blob/main/computer-use-demo/Dockerfile) suitable for computer use with Claude&para;<br>- Implementations of [the computer use tools](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo/computer_use_demo/tools)&para;<br>- An [agent loop](https://github.com/anthropics/anthropic-quickstarts/blob/main/computer-use-demo/computer_use_demo/loop.py) that interacts with the Claude API and executes the computer use tools&para;<br>- A web interface to interact with the container, agent loop, and tools.&para;<br>&para;<br>### Understanding the multi-agent loop&para;<br>&para;<br>The core of computer use is the "agent loop" - a cycle where Claude requests tool actions, your application executes them, and returns results to Claude. Here's a simplified example:&para;<br>&para;<br>```python&para;<br>async def sampling_loop(&para;<br>    *,&para;<br>    model: str,&para;<br>    messages: list[dict],&para;<br>    api_key: str,&para;<br>    max_tokens: int = 4096,&para;<br>    tool_version: str,&para;<br>    thinking_budget: int | None = None,&para;<br>    max_iterations: int = 10,  # Add iteration limit to prevent infinite loops&para;<br>):&para;<br>    """&para;<br>    A simple agent loop for Claude computer use interactions.&para;<br>&para;<br>    This function handles the back-and-forth between:&para;<br>    1. Sending user messages to Claude&para;<br>    2. Claude requesting to use tools&para;<br>    3. Your app executing those tools&para;<br>    4. Sending tool results back to Claude&para;<br>    """&para;<br>    # Set up tools and API parameters&para;<br>    client = Anthropic(api_key=api_key)&para;<br>    beta_flag = "computer-use-2025-01-24" if "20250124" in tool_version else "computer-use-2024-10-22"&para;<br>&para;<br>    # Configure tools - you should already have these initialized elsewhere&para;<br>    tools = [&para;<br>        {"type": f"computer_{tool_version}", "name": "computer", "display_width_px": 1024, "display_height_px": 768},&para;<br>        {"type": f"text_editor_{tool_version}", "name": "str_replace_editor"},&para;<br>        {"type": f"bash_{tool_version}", "name": "bash"}&para;<br>    ]&para;<br>&para;<br>    # Main agent loop (with iteration limit to prevent runaway API costs)&para;<br>    iterations = 0&para;<br>    while True and iterations &lt; max_iterations:&para;<br>        iterations += 1&para;<br>        # Set up optional thinking parameter (for Claude Sonnet 3.7)&para;<br>        thinking = None&para;<br>        if thinking_budget:&para;<br>            thinking = {"type": "enabled", "budget_tokens": thinking_budget}&para;<br>&para;<br>        # Call the Claude API&para;<br>        response = client.beta.messages.create(&para;<br>            model=model,&para;<br>            max_tokens=max_tokens,&para;<br>            messages=messages,&para;<br>            tools=tools,&para;<br>            betas=[beta_flag],&para;<br>            thinking=thinking&para;<br>        )&para;<br>&para;<br>        # Add Claude's response to the conversation history&para;<br>        response_content = response.content&para;<br>        messages.append({"role": "assistant", "content": response_content})&para;<br>&para;<br>        # Check if Claude used any tools&para;<br>        tool_results = []&para;<br>        for block in response_content:&para;<br>            if block.type == "tool_use":&para;<br>                # In a real app, you would execute the tool here&para;<br>                # For example: result = run_tool(block.name, block.input)&para;<br>                result = {"result": "Tool executed successfully"}&para;<br>&para;<br>                # Format the result for Claude&para;<br>                tool_results.append({&para;<br>                    "type": "tool_result",&para;<br>                    "tool_use_id": block.id,&para;<br>                    "content": result&para;<br>                })&para;<br>&para;<br>        # If no tools were used, Claude is done - return the final messages&para;<br>        if not tool_results:&para;<br>            return messages&para;<br>&para;<br>        # Add tool results to messages for the next iteration with Claude&para;<br>        messages.append({"role": "user", "content": tool_results})&para;<br>```&para;<br>&para;<br>The loop continues until either Claude responds without requesting any tools (task completion) or the maximum iteration limit is reached. This safeguard prevents potential infinite loops that could result in unexpected API costs.&para;<br>&para;<br>We recommend trying the reference implementation out before reading the rest of this documentation.&para;<br>&para;<br>### Optimize model performance with prompting&para;<br>&para;<br>Here are some tips on how to get the best quality outputs:&para;<br>&para;<br>1. Specify simple, well-defined tasks and provide explicit instructions for each step.&para;<br>2. Claude sometimes assumes outcomes of its actions without explicitly checking their results. To prevent this you can prompt Claude with `After each step, take a screenshot and carefully evaluate if you have achieved the right outcome. Explicitly show your thinking: "I have evaluated step X..." If not correct, try again. Only when you confirm a step was executed correctly should you move on to the next one.`&para;<br>3. Some UI elements (like dropdowns and scrollbars) might be tricky for Claude to manipulate using mouse movements. If you experience this, try prompting the model to use keyboard shortcuts.&para;<br>4. For repeatable tasks or UI interactions, include example screenshots and tool calls of successful outcomes in your prompt.&para;<br>5. If you need the model to log in, provide it with the username and password in your prompt inside xml tags like `&lt;robot_credentials&gt;`. Using computer use within applications that require login increases the risk of bad outcomes as a result of prompt injection. Please review our [guide on mitigating prompt injections](/docs/en/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks) before providing the model with login credentials.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>  If you repeatedly encounter a clear set of issues or know in advance the tasks&para;<br>  Claude will need to complete, use the system prompt to provide Claude with&para;<br>  explicit tips or instructions on how to do the tasks successfully.&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>### System prompts&para;<br>&para;<br>When one of the Anthropic-defined tools is requested via the Claude API, a computer use-specific system prompt is generated. It's similar to the [tool use system prompt](/docs/en/agents-and-tools/tool-use/implement-tool-use#tool-use-system-prompt) but starts with:&para;<br>&para;<br>&gt; You have access to a set of functions you can use to answer the user's question. This includes access to a sandboxed computing environment. You do NOT currently have the ability to inspect files or interact with external resources, except by invoking the below functions.&para;<br>&para;<br>As with regular tool use, the user-provided `system_prompt` field is still respected and used in the construction of the combined system prompt.&para;<br>&para;<br>### Available actions&para;<br>&para;<br>The computer use tool supports these actions:&para;<br>&para;<br>**Basic actions (all versions)**&para;<br>- **screenshot** - Capture the current display&para;<br>- **left_click** - Click at coordinates `[x, y]`&para;<br>- **type** - Type text string&para;<br>- **key** - Press key or key combination (e.g., "ctrl+s")&para;<br>- **mouse_move** - Move cursor to coordinates&para;<br>&para;<br>**Enhanced actions (`computer_20250124`)**&para;<br>Available in Claude 4 models and Claude Sonnet 3.7:&para;<br>- **scroll** - Scroll in any direction with amount control&para;<br>- **left_click_drag** - Click and drag between coordinates&para;<br>- **right_click**, **middle_click** - Additional mouse buttons&para;<br>- **double_click**, **triple_click** - Multiple clicks&para;<br>- **left_mouse_down**, **left_mouse_up** - Fine-grained click control&para;<br>- **hold_key** - Hold a key while performing other actions&para;<br>- **wait** - Pause between actions&para;<br>&para;<br>**Enhanced actions (`computer_20251124`)**&para;<br>Available in Claude Opus 4.5:&para;<br>- All actions from `computer_20250124`&para;<br>- **zoom** - View a specific region of the screen at full resolution. Requires `enable_zoom: true` in tool definition. Takes a `region` parameter with coordinates `[x1, y1, x2, y2]` defining top-left and bottom-right corners of the area to inspect.&para;<br>&para;<br>&lt;section title="Example actions"&gt;&para;<br>&para;<br>```json&para;<br>// Take a screenshot&para;<br>{&para;<br>  "action": "screenshot"&para;<br>}&para;<br>&para;<br>// Click at position&para;<br>{&para;<br>  "action": "left_click",&para;<br>  "coordinate": [500, 300]&para;<br>}&para;<br>&para;<br>// Type text&para;<br>{&para;<br>  "action": "type",&para;<br>  "text": "Hello, world!"&para;<br>}&para;<br>&para;<br>// Scroll down (Claude 4/3.7)&para;<br>{&para;<br>  "action": "scroll",&para;<br>  "coordinate": [500, 400],&para;<br>  "scroll_direction": "down",&para;<br>  "scroll_amount": 3&para;<br>}&para;<br>&para;<br>// Zoom to view region in detail (Opus 4.5)&para;<br>{&para;<br>  "action": "zoom",&para;<br>  "region": [100, 200, 400, 350]&para;<br>}&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>### Tool parameters&para;<br>&para;<br>| Parameter | Required | Description |&para;<br>|-----------|----------|-------------|&para;<br>| `type` | Yes | Tool version (`computer_20251124`, `computer_20250124`, or `computer_20241022`) |&para;<br>| `name` | Yes | Must be "computer" |&para;<br>| `display_width_px` | Yes | Display width in pixels |&para;<br>| `display_height_px` | Yes | Display height in pixels |&para;<br>| `display_number` | No | Display number for X11 environments |&para;<br>| `enable_zoom` | No | Enable zoom action (`computer_20251124` only). Set to `true` to allow Claude to zoom into specific screen regions. Default: `false` |&para;<br>&para;<br>&lt;Note&gt;&para;<br>**Important**: The computer use tool must be explicitly executed by your application - Claude cannot execute it directly. You are responsible for implementing the screenshot capture, mouse movements, keyboard inputs, and other actions based on Claude's requests.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>### Enable thinking capability in Claude 4 models and Claude Sonnet 3.7&para;<br>&para;<br>Claude Sonnet 3.7 introduced a new "thinking" capability that allows you to see the model's reasoning process as it works through complex tasks. This feature helps you understand how Claude is approaching a problem and can be particularly valuable for debugging or educational purposes.&para;<br>&para;<br>To enable thinking, add a `thinking` parameter to your API request:&para;<br>&para;<br>```json&para;<br>"thinking": {&para;<br>  "type": "enabled",&para;<br>  "budget_tokens": 1024&para;<br>}&para;<br>```&para;<br>&para;<br>The `budget_tokens` parameter specifies how many tokens Claude can use for thinking. This is subtracted from your overall `max_tokens` budget.&para;<br>&para;<br>When thinking is enabled, Claude will return its reasoning process as part of the response, which can help you:&para;<br>&para;<br>1. Understand the model's decision-making process&para;<br>2. Identify potential issues or misconceptions&para;<br>3. Learn from Claude's approach to problem-solving&para;<br>4. Get more visibility into complex multi-step operations&para;<br>&para;<br>Here's an example of what thinking output might look like:&para;<br>&para;<br>```&para;<br>[Thinking]&para;<br>I need to save a picture of a cat to the desktop. Let me break this down into steps:&para;<br>&para;<br>1. First, I'll take a screenshot to see what's on the desktop&para;<br>2. Then I'll look for a web browser to search for cat images&para;<br>3. After finding a suitable image, I'll need to save it to the desktop&para;<br>&para;<br>Let me start by taking a screenshot to see what's available...&para;<br>```&para;<br>&para;<br>### Augmenting computer use with other tools&para;<br>&para;<br>The computer use tool can be combined with other tools to create more powerful automation workflows. This is particularly useful when you need to:&para;<br>- Execute system commands ([bash tool](/docs/en/agents-and-tools/tool-use/bash-tool))&para;<br>- Edit configuration files or scripts ([text editor tool](/docs/en/agents-and-tools/tool-use/text-editor-tool))&para;<br>- Integrate with custom APIs or services (custom tools)&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>  ```bash Shell&para;<br>  curl https://api.anthropic.com/v1/messages \&para;<br>    -H "content-type: application/json" \&para;<br>    -H "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>    -H "anthropic-version: 2023-06-01" \&para;<br>    -H "anthropic-beta: computer-use-2025-01-24" \&para;<br>    -d '{&para;<br>      "model": "claude-sonnet-4-5",&para;<br>      "max_tokens": 2000,&para;<br>      "tools": [&para;<br>        {&para;<br>          "type": "computer_20250124",&para;<br>          "name": "computer",&para;<br>          "display_width_px": 1024,&para;<br>          "display_height_px": 768,&para;<br>          "display_number": 1&para;<br>        },&para;<br>        {&para;<br>          "type": "text_editor_20250728",&para;<br>          "name": "str_replace_based_edit_tool"&para;<br>        },&para;<br>        {&para;<br>          "type": "bash_20250124",&para;<br>          "name": "bash"&para;<br>        },&para;<br>        {&para;<br>          "name": "get_weather",&para;<br>          "description": "Get the current weather in a given location",&para;<br>          "input_schema": {&para;<br>            "type": "object",&para;<br>            "properties": {&para;<br>              "location": {&para;<br>                "type": "string",&para;<br>                "description": "The city and state, e.g. San Francisco, CA"&para;<br>              },&para;<br>              "unit": {&para;<br>                "type": "string",&para;<br>                "enum": ["celsius", "fahrenheit"],&para;<br>                "description": "The unit of temperature, either 'celsius' or 'fahrenheit'"&para;<br>              }&para;<br>            },&para;<br>            "required": ["location"]&para;<br>          }&para;<br>        }&para;<br>      ],&para;<br>      "messages": [&para;<br>        {&para;<br>          "role": "user",&para;<br>          "content": "Find flights from San Francisco to a place with warmer weather."&para;<br>        }&para;<br>      ],&para;<br>      "thinking": {&para;<br>        "type": "enabled",&para;<br>        "budget_tokens": 1024&para;<br>      }&para;<br>    }'&para;<br>  ```&para;<br>&para;<br>```python Python&para;<br>import anthropic&para;<br>&para;<br>client = anthropic.Anthropic()&para;<br>&para;<br>response = client.beta.messages.create(&para;<br>    model="claude-sonnet-4-5",&para;<br>    max_tokens=1024,&para;<br>    tools=[&para;<br>        {&para;<br>          "type": "computer_20250124",&para;<br>          "name": "computer",&para;<br>          "display_width_px": 1024,&para;<br>          "display_height_px": 768,&para;<br>          "display_number": 1,&para;<br>        },&para;<br>        {&para;<br>          "type": "text_editor_20250728",&para;<br>          "name": "str_replace_based_edit_tool"&para;<br>        },&para;<br>        {&para;<br>          "type": "bash_20250124",&para;<br>          "name": "bash"&para;<br>        },&para;<br>        {&para;<br>          "name": "get_weather",&para;<br>          "description": "Get the current weather in a given location",&para;<br>          "input_schema": {&para;<br>            "type": "object",&para;<br>            "properties": {&para;<br>              "location": {&para;<br>                "type": "string",&para;<br>                "description": "The city and state, e.g. San Francisco, CA"&para;<br>              },&para;<br>              "unit": {&para;<br>                "type": "string",&para;<br>                "enum": ["celsius", "fahrenheit"],&para;<br>                "description": "The unit of temperature, either 'celsius' or 'fahrenheit'"&para;<br>              }&para;<br>            },&para;<br>            "required": ["location"]&para;<br>          }&para;<br>        },&para;<br>    ],&para;<br>    messages=[{"role": "user", "content": "Find flights from San Francisco to a place with warmer weather."}],&para;<br>    betas=["computer-use-2025-01-24"],&para;<br>    thinking={"type": "enabled", "budget_tokens": 1024},&para;<br>)&para;<br>print(response)&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>import Anthropic from '@anthropic-ai/sdk';&para;<br>&para;<br>const anthropic = new Anthropic();&para;<br>&para;<br>const message = await anthropic.beta.messages.create({&para;<br>  model: "claude-sonnet-4-5",&para;<br>  max_tokens: 1024,&para;<br>  tools: [&para;<br>      {&para;<br>        type: "computer_20250124",&para;<br>        name: "computer",&para;<br>        display_width_px: 1024,&para;<br>        display_height_px: 768,&para;<br>        display_number: 1,&para;<br>      },&para;<br>      {&para;<br>        type: "text_editor_20250728",&para;<br>        name: "str_replace_based_edit_tool"&para;<br>      },&para;<br>      {&para;<br>        type: "bash_20250124",&para;<br>        name: "bash"&para;<br>      },&para;<br>      {&para;<br>        name: "get_weather",&para;<br>        description: "Get the current weather in a given location",&para;<br>        input_schema: {&para;<br>          type: "object",&para;<br>          properties: {&para;<br>            location: {&para;<br>              type: "string",&para;<br>              description: "The city and state, e.g. San Francisco, CA"&para;<br>            },&para;<br>            unit: {&para;<br>              type: "string",&para;<br>              enum: ["celsius", "fahrenheit"],&para;<br>              description: "The unit of temperature, either 'celsius' or 'fahrenheit'"&para;<br>            }&para;<br>          },&para;<br>          required: ["location"]&para;<br>        }&para;<br>      },&para;<br>  ],&para;<br>  messages: [{ role: "user", content: "Find flights from San Francisco to a place with warmer weather." }],&para;<br>  betas: ["computer-use-2025-01-24"],&para;<br>  thinking: { type: "enabled", budget_tokens: 1024 },&para;<br>});&para;<br>console.log(message);&para;<br>```&para;<br>```java Java&para;<br>import java.util.List;&para;<br>import java.util.Map;&para;<br>&para;<br>import com.anthropic.client.AnthropicClient;&para;<br>import com.anthropic.client.okhttp.AnthropicOkHttpClient;&para;<br>import com.anthropic.core.JsonValue;&para;<br>import com.anthropic.models.beta.messages.BetaMessage;&para;<br>import com.anthropic.models.beta.messages.MessageCreateParams;&para;<br>import com.anthropic.models.beta.messages.BetaToolBash20250124;&para;<br>import com.anthropic.models.beta.messages.BetaToolComputerUse20250124;&para;<br>import com.anthropic.models.beta.messages.BetaToolTextEditor20250124;&para;<br>import com.anthropic.models.beta.messages.BetaThinkingConfigEnabled;&para;<br>import com.anthropic.models.beta.messages.BetaThinkingConfigParam;&para;<br>import com.anthropic.models.beta.messages.BetaTool;&para;<br>&para;<br>public class MultipleToolsExample {&para;<br>&para;<br>    public static void main(String[] args) {&para;<br>        AnthropicClient client = AnthropicOkHttpClient.fromEnv();&para;<br>&para;<br>        MessageCreateParams params = MessageCreateParams.builder()&para;<br>                .model("claude-sonnet-4-5")&para;<br>                .maxTokens(1024)&para;<br>                .addTool(BetaToolComputerUse20250124.builder()&para;<br>                        .displayWidthPx(1024)&para;<br>                        .displayHeightPx(768)&para;<br>                        .displayNumber(1)&para;<br>                        .build())&para;<br>                .addTool(BetaToolTextEditor20250124.builder()&para;<br>                        .build())&para;<br>                .addTool(BetaToolBash20250124.builder()&para;<br>                        .build())&para;<br>                .addTool(BetaTool.builder()&para;<br>                        .name("get_weather")&para;<br>                        .description("Get the current weather in a given location")&para;<br>                        .inputSchema(BetaTool.InputSchema.builder()&para;<br>                                .properties(&para;<br>                                        JsonValue.from(&para;<br>                                                Map.of(&para;<br>                                                        "location", Map.of(&para;<br>                                                                "type", "string",&para;<br>                                                                "description", "The city and state, e.g. San Francisco, CA"&para;<br>                                                        ),&para;<br>                                                        "unit", Map.of(&para;<br>                                                                "type", "string",&para;<br>                                                                "enum", List.of("celsius", "fahrenheit"),&para;<br>                                                                "description", "The unit of temperature, either 'celsius' or 'fahrenheit'"&para;<br>                                                        )&para;<br>                                                )&para;<br>                                        ))&para;<br>                                .build()&para;<br>                        )&para;<br>                        .build())&para;<br>                .thinking(BetaThinkingConfigParam.ofEnabled(&para;<br>                        BetaThinkingConfigEnabled.builder()&para;<br>                                .budgetTokens(1024)&para;<br>                                .build()&para;<br>                ))&para;<br>                .addUserMessage("Find flights from San Francisco to a place with warmer weather.")&para;<br>                .addBeta("computer-use-2025-01-24")&para;<br>                .build();&para;<br>&para;<br>        BetaMessage message = client.beta().messages().create(params);&para;<br>        System.out.println(message);&para;<br>    }&para;<br>}&para;<br>```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>### Build a custom computer use environment&para;<br>&para;<br>The [reference implementation](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo) is meant to help you get started with computer use. It includes all of the components needed have Claude use a computer. However, you can build your own environment for computer use to suit your needs. You'll need:&para;<br>&para;<br>- A virtualized or containerized environment suitable for computer use with Claude&para;<br>- An implementation of at least one of the Anthropic-defined computer use tools&para;<br>- An agent loop that interacts with the Claude API and executes the `tool_use` results using your tool implementations&para;<br>- An API or UI that allows user input to start the agent loop&para;<br>&para;<br>#### Implement the computer use tool&para;<br>&para;<br>The computer use tool is implemented as a schema-less tool. When using this tool, you don't need to provide an input schema as with other tools; the schema is built into Claude's model and can't be modified.&para;<br>&para;<br>&lt;Steps&gt;&para;<br>  &lt;Step title="Set up your computing environment"&gt;&para;<br>    Create a virtual display or connect to an existing display that Claude will interact with. This typically involves setting up Xvfb (X Virtual Framebuffer) or similar technology.&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step title="Implement action handlers"&gt;&para;<br>    Create functions to handle each action type that Claude might request:&para;<br>    ```python&para;<br>    def handle_computer_action(action_type, params):&para;<br>        if action_type == "screenshot":&para;<br>            return capture_screenshot()&para;<br>        elif action_type == "left_click":&para;<br>            x, y = params["coordinate"]&para;<br>            return click_at(x, y)&para;<br>        elif action_type == "type":&para;<br>            return type_text(params["text"])&para;<br>        # ... handle other actions&para;<br>    ```&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step title="Process Claude's tool calls"&gt;&para;<br>    Extract and execute tool calls from Claude's responses:&para;<br>    ```python&para;<br>    for content in response.content:&para;<br>        if content.type == "tool_use":&para;<br>            action = content.input["action"]&para;<br>            result = handle_computer_action(action, content.input)&para;<br>            &para;<br>            # Return result to Claude&para;<br>            tool_result = {&para;<br>                "type": "tool_result",&para;<br>                "tool_use_id": content.id,&para;<br>                "content": result&para;<br>            }&para;<br>    ```&para;<br>  &lt;/Step&gt;&para;<br>  &lt;Step title="Implement the agent loop"&gt;&para;<br>    Create a loop that continues until Claude completes the task:&para;<br>    ```python&para;<br>    while True:&para;<br>        response = client.beta.messages.create(...)&para;<br>        &para;<br>        # Check if Claude used any tools&para;<br>        tool_results = process_tool_calls(response)&para;<br>        &para;<br>        if not tool_results:&para;<br>            # No more tool use, task complete&para;<br>            break&para;<br>            &para;<br>        # Continue conversation with tool results&para;<br>        messages.append({"role": "user", "content": tool_results})&para;<br>    ```&para;<br>  &lt;/Step&gt;&para;<br>&lt;/Steps&gt;&para;<br>&para;<br>#### Handle errors&para;<br>&para;<br>When implementing the computer use tool, various errors may occur. Here's how to handle them:&para;<br>&para;<br>&lt;section title="Screenshot capture failure"&gt;&para;<br>&para;<br>If screenshot capture fails, return an appropriate error message:&para;<br>&para;<br>```json&para;<br>{&para;<br>  "role": "user",&para;<br>  "content": [&para;<br>    {&para;<br>      "type": "tool_result",&para;<br>      "tool_use_id": "toolu_01A09q90qw90lq917835lq9",&para;<br>      "content": "Error: Failed to capture screenshot. Display may be locked or unavailable.",&para;<br>      "is_error": true&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Invalid coordinates"&gt;&para;<br>&para;<br>If Claude provides coordinates outside the display bounds:&para;<br>&para;<br>```json&para;<br>{&para;<br>  "role": "user",&para;<br>  "content": [&para;<br>    {&para;<br>      "type": "tool_result",&para;<br>      "tool_use_id": "toolu_01A09q90qw90lq917835lq9",&para;<br>      "content": "Error: Coordinates (1200, 900) are outside display bounds (1024x768).",&para;<br>      "is_error": true&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Action execution failure"&gt;&para;<br>&para;<br>If an action fails to execute:&para;<br>&para;<br>```json&para;<br>{&para;<br>  "role": "user",&para;<br>  "content": [&para;<br>    {&para;<br>      "type": "tool_result",&para;<br>      "tool_use_id": "toolu_01A09q90qw90lq917835lq9",&para;<br>      "content": "Error: Failed to perform click action. The application may be unresponsive.",&para;<br>      "is_error": true&para;<br>    }&para;<br>  ]&para;<br>}&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>#### Handle coordinate scaling for higher resolutions&para;<br>&para;<br>The API constrains images to a maximum of 1568 pixels on the longest edge and approximately 1.15 megapixels total (see [image resizing](/docs/en/build-with-claude/vision#evaluate-image-size) for details). For example, a 1512x982 screen gets downsampled to approximately 1330x864. Claude analyzes this smaller image and returns coordinates in that space, but your tool executes clicks in the original screen space.&para;<br>&para;<br>This can cause Claude's click coordinates to miss their targets unless you handle the coordinate transformation.&para;<br>&para;<br>To fix this, resize screenshots yourself and scale Claude's coordinates back up:&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```python Python&para;<br>import math&para;<br>&para;<br>def get_scale_factor(width, height):&para;<br>    """Calculate scale factor to meet API constraints."""&para;<br>    long_edge = max(width, height)&para;<br>    total_pixels = width * height&para;<br>&para;<br>    long_edge_scale = 1568 / long_edge&para;<br>    total_pixels_scale = math.sqrt(1_150_000 / total_pixels)&para;<br>&para;<br>    return min(1.0, long_edge_scale, total_pixels_scale)&para;<br>&para;<br># When capturing screenshot&para;<br>scale = get_scale_factor(screen_width, screen_height)&para;<br>scaled_width = int(screen_width * scale)&para;<br>scaled_height = int(screen_height * scale)&para;<br>&para;<br># Resize image to scaled dimensions before sending to Claude&para;<br>screenshot = capture_and_resize(scaled_width, scaled_height)&para;<br>&para;<br># When handling Claude's coordinates, scale them back up&para;<br>def execute_click(x, y):&para;<br>    screen_x = x / scale&para;<br>    screen_y = y / scale&para;<br>    perform_click(screen_x, screen_y)&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>const MAX_LONG_EDGE = 1568;&para;<br>const MAX_PIXELS = 1_150_000;&para;<br>&para;<br>function getScaleFactor(width: number, height: number): number {&para;<br>  const longEdge = Math.max(width, height);&para;<br>  const totalPixels = width * height;&para;<br>&para;<br>  const longEdgeScale = MAX_LONG_EDGE / longEdge;&para;<br>  const totalPixelsScale = Math.sqrt(MAX_PIXELS / totalPixels);&para;<br>&para;<br>  return Math.min(1.0, longEdgeScale, totalPixelsScale);&para;<br>}&para;<br>&para;<br>// When capturing screenshot&para;<br>const scale = getScaleFactor(screenWidth, screenHeight);&para;<br>const scaledWidth = Math.floor(screenWidth * scale);&para;<br>const scaledHeight = Math.floor(screenHeight * scale);&para;<br>&para;<br>// Resize image to scaled dimensions before sending to Claude&para;<br>const screenshot = captureAndResize(scaledWidth, scaledHeight);&para;<br>&para;<br>// When handling Claude's coordinates, scale them back up&para;<br>function executeClick(x: number, y: number): void {&para;<br>  const screenX = x / scale;&para;<br>  const screenY = y / scale;&para;<br>  performClick(screenX, screenY);&para;<br>}&para;<br>```&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>#### Follow implementation best practices&para;<br>&para;<br>&lt;section title="Use appropriate display resolution"&gt;&para;<br>&para;<br>Set display dimensions that match your use case while staying within recommended limits:&para;<br>- For general desktop tasks: 1024x768 or 1280x720&para;<br>- For web applications: 1280x800 or 1366x768&para;<br>- Avoid resolutions above 1920x1080 to prevent performance issues&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Implement proper screenshot handling"&gt;&para;<br>&para;<br>When returning screenshots to Claude:&para;<br>- Encode screenshots as base64 PNG or JPEG&para;<br>- Consider compressing large screenshots to improve performance&para;<br>- Include relevant metadata like timestamp or display state&para;<br>- If using higher resolutions, ensure coordinates are accurately scaled&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Add action delays"&gt;&para;<br>&para;<br>Some applications need time to respond to actions:&para;<br>```python&para;<br>def click_and_wait(x, y, wait_time=0.5):&para;<br>    click_at(x, y)&para;<br>    time.sleep(wait_time)  # Allow UI to update&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Validate actions before execution"&gt;&para;<br>&para;<br>Check that requested actions are safe and valid:&para;<br>```python&para;<br>def validate_action(action_type, params):&para;<br>    if action_type == "left_click":&para;<br>        x, y = params.get("coordinate", (0, 0))&para;<br>        if not (0 &lt;= x &lt; display_width and 0 &lt;= y &lt; display_height):&para;<br>            return False, "Coordinates out of bounds"&para;<br>    return True, None&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>&lt;section title="Log actions for debugging"&gt;&para;<br>&para;<br>Keep a log of all actions for troubleshooting:&para;<br>```python&para;<br>import logging&para;<br>&para;<br>def log_action(action_type, params, result):&para;<br>    logging.info(f"Action: {action_type}, Params: {params}, Result: {result}")&para;<br>```&para;<br>&para;<br>&lt;/section&gt;&para;<br>&para;<br>---&para;<br>&para;<br>## Understand computer use limitations&para;<br>&para;<br>The computer use functionality is in beta. While Claude's capabilities are cutting edge, developers should be aware of its limitations:&para;<br>&para;<br>1. **Latency**: the current computer use latency for human-AI interactions may be too slow compared to regular human-directed computer actions. We recommend focusing on use cases where speed isn't critical (e.g., background information gathering, automated software testing) in trusted environments.&para;<br>2. **Computer vision accuracy and reliability**: Claude may make mistakes or hallucinate when outputting specific coordinates while generating actions. Claude Sonnet 3.7 introduces the thinking capability that can help you understand the model's reasoning and identify potential issues.&para;<br>3. **Tool selection accuracy and reliability**: Claude may make mistakes or hallucinate when selecting tools while generating actions or take unexpected actions to solve problems. Additionally, reliability may be lower when interacting with niche applications or multiple applications at once. We recommend that users prompt the model carefully when requesting complex tasks.&para;<br>4. **Scrolling reliability**: Claude Sonnet 3.7 introduced dedicated scroll actions with direction control that improves reliability. The model can now explicitly scroll in any direction (up/down/left/right) by a specified amount.&para;<br>5. **Spreadsheet interaction**: Mouse clicks for spreadsheet interaction have improved in Claude Sonnet 3.7 with the addition of more precise mouse control actions like `left_mouse_down`, `left_mouse_up`, and new modifier key support. Cell selection can be more reliable by using these fine-grained controls and combining modifier keys with clicks.&para;<br>6. **Account creation and content generation on social and communications platforms**: While Claude will visit websites, we are limiting its ability to create accounts or generate and share content or otherwise engage in human impersonation across social media websites and platforms. We may update this capability in the future.&para;<br>7. **Vulnerabilities**: Vulnerabilities like jailbreaking or prompt injection may persist across frontier AI systems, including the beta computer use API. In some circumstances, Claude will follow commands found in content, sometimes even in conflict with the user's instructions. For example, Claude instructions on webpages or contained in images may override instructions or cause Claude to make mistakes. We recommend:&para;<br>   a. Limiting computer use to trusted environments such as virtual machines or containers with minimal privileges&para;<br>   b. Avoiding giving computer use access to sensitive accounts or data without strict oversight&para;<br>   c. Informing end users of relevant risks and obtaining their consent before enabling or requesting permissions necessary for computer use features in your applications&para;<br>8. **Inappropriate or illegal actions**: Per Anthropic's terms of service, you must not employ computer use to violate any laws or our Acceptable Use Policy.&para;<br>&para;<br>Always carefully review and verify Claude's computer use actions and logs. Do not use Claude for tasks requiring perfect precision or sensitive user information without human oversight.&para;<br>&para;<br>---&para;<br>&para;<br>## Pricing&para;<br>&para;<br>Computer use follows the standard [tool use pricing](/docs/en/agents-and-tools/tool-use/overview#pricing). When using the computer use tool:&para;<br>&para;<br>**System prompt overhead**: The computer use beta adds 466-499 tokens to the system prompt&para;<br>&para;<br>**Computer use tool token usage**:&para;<br>| Model | Input tokens per tool definition |&para;<br>| ----- | -------------------------------- |&para;<br>| Claude 4.x models | 735 tokens |&para;<br>| Claude Sonnet 3.7 ([deprecated](/docs/en/about-claude/model-deprecations)) | 735 tokens |&para;<br>&para;<br>**Additional token consumption**:&para;<br>- Screenshot images (see [Vision pricing](/docs/en/build-with-claude/vision))&para;<br>- Tool execution results returned to Claude&para;<br>&para;<br>&lt;Note&gt;&para;<br>If you're also using bash or text editor tools alongside computer use, those tools have their own token costs as documented in their respective pages.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>## Next steps&para;<br>&para;<br>&lt;CardGroup cols={2}&gt;&para;<br>  &lt;Card&para;<br>    title="Reference implementation"&para;<br>    icon="github-logo"&para;<br>    href="https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo"&para;<br>  &gt;&para;<br>    Get started quickly with our complete Docker-based implementation&para;<br>  &lt;/Card&gt;&para;<br>  &lt;Card&para;<br>    title="Tool documentation"&para;<br>    icon="tool"&para;<br>    href="/docs/en/agents-and-tools/tool-use/overview"&para;<br>  &gt;&para;<br>    Learn more about tool use and creating custom tools&para;<br>  &lt;/Card&gt;&para;<br>&lt;/CardGroup&gt;</ins></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/agents-and-tools/tool-use/computer-use-tool.md
+++ b/agents-and-tools/tool-use/computer-use-tool.md
@@ -0,0 +1,1006 @@
+# Computer use tool
+
+---
+
+Claude can interact with computer environments through the computer use tool, which provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.
+
+&lt;Note&gt;
+Computer use is currently in beta and requires a [beta header](/docs/en/api/beta-headers):
+- `&#34;computer-use-2025-11-24&#34;` for Claude Opus 4.5
+- `&#34;computer-use-2025-01-24&#34;` for Claude Sonnet 4.5, Haiku 4.5, Opus 4.1, Sonnet 4, Opus 4, and Sonnet 3.7 ([deprecated](/docs/en/about-claude/model-deprecations))
+
+Please reach out through our [feedback form](https://forms.gle/H6UFuXaaLywri9hz6) to share your feedback on this feature.
+&lt;/Note&gt;
+
+## Overview
+
+Computer use is a beta feature that enables Claude to interact with desktop environments. This tool provides:
+
+- **Screenshot capture**: See what&#39;s currently displayed on screen
+- **Mouse control**: Click, drag, and move the cursor
+- **Keyboard input**: Type text and use keyboard shortcuts
+- **Desktop automation**: Interact with any application or interface
+
+While computer use can be augmented with other tools like bash and text editor for more comprehensive automation workflows, computer use specifically refers to the computer use tool&#39;s capability to see and control desktop environments.
+
+## Model compatibility
+
+Computer use is available for the following Claude models:
+
+| Model | Tool Version | Beta Flag |
+|-------|--------------|-----------|
+| Claude Opus 4.5 | `computer_20251124` | `computer-use-2025-11-24` |
+| All other supported models | `computer_20250124` | `computer-use-2025-01-24` |
+
+&lt;Note&gt;
+Claude Opus 4.5 introduces the `computer_20251124` tool version with new capabilities including the zoom action for detailed screen region inspection. All other models (Sonnet 4.5, Haiku 4.5, Sonnet 4, Opus 4, Opus 4.1, and Sonnet 3.7) use the `computer_20250124` tool version.
+&lt;/Note&gt;
+
+&lt;Warning&gt;
+Older tool versions are not guaranteed to be backwards-compatible with newer models. Always use the tool version that corresponds to your model version.
+&lt;/Warning&gt;
+
+## Security considerations
+
+&lt;Warning&gt;
+Computer use is a beta feature with unique risks distinct from standard API features. These risks are heightened when interacting with the internet. To minimize risks, consider taking precautions such as:
+
+1. Use a dedicated virtual machine or container with minimal privileges to prevent direct system attacks or accidents.
+2. Avoid giving the model access to sensitive data, such as account login information, to prevent information theft.
+3. Limit internet access to an allowlist of domains to reduce exposure to malicious content.
+4. Ask a human to confirm decisions that may result in meaningful real-world consequences as well as any tasks requiring affirmative consent, such as accepting cookies, executing financial transactions, or agreeing to terms of service.
+
+In some circumstances, Claude will follow commands found in content even if it conflicts with the user&#39;s instructions. For example, Claude instructions on webpages or contained in images may override instructions or cause Claude to make mistakes. We suggest taking precautions to isolate Claude from sensitive data and actions to avoid risks related to prompt injection.
+
+We&#39;ve trained the model to resist these prompt injections and have added an extra layer of defense. If you use our computer use tools, we&#39;ll automatically run classifiers on your prompts to flag potential instances of prompt injections. When these classifiers identify potential prompt injections in screenshots, they will automatically steer the model to ask for user confirmation before proceeding with the next action. We recognize that this extra protection won&#39;t be ideal for every use case (for example, use cases without a human in the loop), so if you&#39;d like to opt out and turn it off, please [contact us](https://support.claude.com/en/).
+
+We still suggest taking precautions to isolate Claude from sensitive data and actions to avoid risks related to prompt injection.
+
+Finally, please inform end users of relevant risks and obtain their consent prior to enabling computer use in your own products.
+
+&lt;/Warning&gt;
+
+&lt;Card
+  title=&#34;Computer use reference implementation&#34;
+  icon=&#34;computer&#34;
+  href=&#34;https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo&#34;
+&gt;
+
+Get started quickly with our computer use reference implementation that includes a web interface, Docker container, example tool implementations, and an agent loop.
+
+**Note:** The implementation has been updated to include new tools for both Claude 4 models and Claude Sonnet 3.7. Be sure to pull the latest version of the repo to access these new features.
+
+&lt;/Card&gt;
+
+&lt;Tip&gt;
+  Please use [this form](https://forms.gle/BT1hpBrqDPDUrCqo7) to provide
+  feedback on the quality of the model responses, the API itself, or the quality
+  of the documentation - we cannot wait to hear from you!
+&lt;/Tip&gt;
+
+## Quick start
+
+Here&#39;s how to get started with computer use:
+
+&lt;CodeGroup&gt;
+```python Python
+import anthropic
+
+client = anthropic.Anthropic()
+
+response = client.beta.messages.create(
+    model=&#34;claude-sonnet-4-5&#34;,  # or another compatible model
+    max_tokens=1024,
+    tools=[
+        {
+          &#34;type&#34;: &#34;computer_20250124&#34;,
+          &#34;name&#34;: &#34;computer&#34;,
+          &#34;display_width_px&#34;: 1024,
+          &#34;display_height_px&#34;: 768,
+          &#34;display_number&#34;: 1,
+        },
+        {
+          &#34;type&#34;: &#34;text_editor_20250728&#34;,
+          &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;
+        },
+        {
+          &#34;type&#34;: &#34;bash_20250124&#34;,
+          &#34;name&#34;: &#34;bash&#34;
+        }
+    ],
+    messages=[{&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Save a picture of a cat to my desktop.&#34;}],
+    betas=[&#34;computer-use-2025-01-24&#34;]
+)
+print(response)
+```
+
+```bash Shell
+curl https://api.anthropic.com/v1/messages \
+  -H &#34;content-type: application/json&#34; \
+  -H &#34;x-api-key: $ANTHROPIC_API_KEY&#34; \
+  -H &#34;anthropic-version: 2023-06-01&#34; \
+  -H &#34;anthropic-beta: computer-use-2025-01-24&#34; \
+  -d &#39;{
+    &#34;model&#34;: &#34;claude-sonnet-4-5&#34;,
+    &#34;max_tokens&#34;: 1024,
+    &#34;tools&#34;: [
+      {
+        &#34;type&#34;: &#34;computer_20250124&#34;,
+        &#34;name&#34;: &#34;computer&#34;,
+        &#34;display_width_px&#34;: 1024,
+        &#34;display_height_px&#34;: 768,
+        &#34;display_number&#34;: 1
+      },
+      {
+        &#34;type&#34;: &#34;text_editor_20250728&#34;,
+        &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;
+      },
+      {
+        &#34;type&#34;: &#34;bash_20250124&#34;,
+        &#34;name&#34;: &#34;bash&#34;
+      }
+    ],
+    &#34;messages&#34;: [
+      {
+        &#34;role&#34;: &#34;user&#34;,
+        &#34;content&#34;: &#34;Save a picture of a cat to my desktop.&#34;
+      }
+    ]
+  }&#39;
+```
+&lt;/CodeGroup&gt;
+
+&lt;Note&gt;
+A beta header is only required for the computer use tool.
+
+The example above shows all three tools being used together, which requires the beta header because it includes the computer use tool.
+&lt;/Note&gt;
+
+---
+
+## How computer use works
+
+&lt;Steps&gt;
+  &lt;Step
+    title=&#34;1. Provide Claude with the computer use tool and a user prompt&#34;
+    icon=&#34;tool&#34;
+  &gt;
+    - Add the computer use tool (and optionally other tools) to your API request.
+    - Include a user prompt that requires desktop interaction, e.g., &#34;Save a picture of a cat to my desktop.&#34;
+  &lt;/Step&gt;
+  &lt;Step title=&#34;2. Claude decides to use the computer use tool&#34; icon=&#34;wrench&#34;&gt;
+    - Claude assesses if the computer use tool can help with the user&#39;s query.
+    - If yes, Claude constructs a properly formatted tool use request.
+    - The API response has a `stop_reason` of `tool_use`, signaling Claude&#39;s intent.
+  &lt;/Step&gt;
+  &lt;Step
+    title=&#34;3. Extract tool input, evaluate the tool on a computer, and return results&#34;
+    icon=&#34;computer&#34;
+  &gt;
+    - On your end, extract the tool name and input from Claude&#39;s request.
+    - Use the tool on a container or Virtual Machine.
+    - Continue the conversation with a new `user` message containing a `tool_result` content block.
+  &lt;/Step&gt;
+  &lt;Step
+    title=&#34;4. Claude continues calling computer use tools until it&#39;s completed the task&#34;
+    icon=&#34;arrows-clockwise&#34;
+  &gt;
+    - Claude analyzes the tool results to determine if more tool use is needed or the task has been completed.
+    - If Claude decides it needs another tool, it responds with another `tool_use` `stop_reason` and you should return to step 3.
+    - Otherwise, it crafts a text response to the user.
+  &lt;/Step&gt;
+&lt;/Steps&gt;
+
+We refer to the repetition of steps 3 and 4 without user input as the &#34;agent loop&#34; - i.e., Claude responding with a tool use request and your application responding to Claude with the results of evaluating that request.
+
+### The computing environment
+
+Computer use requires a sandboxed computing environment where Claude can safely interact with applications and the web. This environment includes:
+
+1. **Virtual display**: A virtual X11 display server (using Xvfb) that renders the desktop interface Claude will see through screenshots and control with mouse/keyboard actions.
+
+2. **Desktop environment**: A lightweight UI with window manager (Mutter) and panel (Tint2) running on Linux, which provides a consistent graphical interface for Claude to interact with.
+
+3. **Applications**: Pre-installed Linux applications like Firefox, LibreOffice, text editors, and file managers that Claude can use to complete tasks.
+
+4. **Tool implementations**: Integration code that translates Claude&#39;s abstract tool requests (like &#34;move mouse&#34; or &#34;take screenshot&#34;) into actual operations in the virtual environment.
+
+5. **Agent loop**: A program that handles communication between Claude and the environment, sending Claude&#39;s actions to the environment and returning the results (screenshots, command outputs) back to Claude.
+
+When you use computer use, Claude doesn&#39;t directly connect to this environment. Instead, your application:
+
+1. Receives Claude&#39;s tool use requests
+2. Translates them into actions in your computing environment
+3. Captures the results (screenshots, command outputs, etc.)
+4. Returns these results to Claude
+
+For security and isolation, the reference implementation runs all of this inside a Docker container with appropriate port mappings for viewing and interacting with the environment.
+
+---
+
+## How to implement computer use
+
+### Start with our reference implementation
+
+We have built a [reference implementation](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo) that includes everything you need to get started quickly with computer use:
+
+- A [containerized environment](https://github.com/anthropics/anthropic-quickstarts/blob/main/computer-use-demo/Dockerfile) suitable for computer use with Claude
+- Implementations of [the computer use tools](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo/computer_use_demo/tools)
+- An [agent loop](https://github.com/anthropics/anthropic-quickstarts/blob/main/computer-use-demo/computer_use_demo/loop.py) that interacts with the Claude API and executes the computer use tools
+- A web interface to interact with the container, agent loop, and tools.
+
+### Understanding the multi-agent loop
+
+The core of computer use is the &#34;agent loop&#34; - a cycle where Claude requests tool actions, your application executes them, and returns results to Claude. Here&#39;s a simplified example:
+
+```python
+async def sampling_loop(
+    *,
+    model: str,
+    messages: list[dict],
+    api_key: str,
+    max_tokens: int = 4096,
+    tool_version: str,
+    thinking_budget: int | None = None,
+    max_iterations: int = 10,  # Add iteration limit to prevent infinite loops
+):
+    &#34;&#34;&#34;
+    A simple agent loop for Claude computer use interactions.
+
+    This function handles the back-and-forth between:
+    1. Sending user messages to Claude
+    2. Claude requesting to use tools
+    3. Your app executing those tools
+    4. Sending tool results back to Claude
+    &#34;&#34;&#34;
+    # Set up tools and API parameters
+    client = Anthropic(api_key=api_key)
+    beta_flag = &#34;computer-use-2025-01-24&#34; if &#34;20250124&#34; in tool_version else &#34;computer-use-2024-10-22&#34;
+
+    # Configure tools - you should already have these initialized elsewhere
+    tools = [
+        {&#34;type&#34;: f&#34;computer_{tool_version}&#34;, &#34;name&#34;: &#34;computer&#34;, &#34;display_width_px&#34;: 1024, &#34;display_height_px&#34;: 768},
+        {&#34;type&#34;: f&#34;text_editor_{tool_version}&#34;, &#34;name&#34;: &#34;str_replace_editor&#34;},
+        {&#34;type&#34;: f&#34;bash_{tool_version}&#34;, &#34;name&#34;: &#34;bash&#34;}
+    ]
+
+    # Main agent loop (with iteration limit to prevent runaway API costs)
+    iterations = 0
+    while True and iterations &lt; max_iterations:
+        iterations += 1
+        # Set up optional thinking parameter (for Claude Sonnet 3.7)
+        thinking = None
+        if thinking_budget:
+            thinking = {&#34;type&#34;: &#34;enabled&#34;, &#34;budget_tokens&#34;: thinking_budget}
+
+        # Call the Claude API
+        response = client.beta.messages.create(
+            model=model,
+            max_tokens=max_tokens,
+            messages=messages,
+            tools=tools,
+            betas=[beta_flag],
+            thinking=thinking
+        )
+
+        # Add Claude&#39;s response to the conversation history
+        response_content = response.content
+        messages.append({&#34;role&#34;: &#34;assistant&#34;, &#34;content&#34;: response_content})
+
+        # Check if Claude used any tools
+        tool_results = []
+        for block in response_content:
+            if block.type == &#34;tool_use&#34;:
+                # In a real app, you would execute the tool here
+                # For example: result = run_tool(block.name, block.input)
+                result = {&#34;result&#34;: &#34;Tool executed successfully&#34;}
+
+                # Format the result for Claude
+                tool_results.append({
+                    &#34;type&#34;: &#34;tool_result&#34;,
+                    &#34;tool_use_id&#34;: block.id,
+                    &#34;content&#34;: result
+                })
+
+        # If no tools were used, Claude is done - return the final messages
+        if not tool_results:
+            return messages
+
+        # Add tool results to messages for the next iteration with Claude
+        messages.append({&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: tool_results})
+```
+
+The loop continues until either Claude responds without requesting any tools (task completion) or the maximum iteration limit is reached. This safeguard prevents potential infinite loops that could result in unexpected API costs.
+
+We recommend trying the reference implementation out before reading the rest of this documentation.
+
+### Optimize model performance with prompting
+
+Here are some tips on how to get the best quality outputs:
+
+1. Specify simple, well-defined tasks and provide explicit instructions for each step.
+2. Claude sometimes assumes outcomes of its actions without explicitly checking their results. To prevent this you can prompt Claude with `After each step, take a screenshot and carefully evaluate if you have achieved the right outcome. Explicitly show your thinking: &#34;I have evaluated step X...&#34; If not correct, try again. Only when you confirm a step was executed correctly should you move on to the next one.`
+3. Some UI elements (like dropdowns and scrollbars) might be tricky for Claude to manipulate using mouse movements. If you experience this, try prompting the model to use keyboard shortcuts.
+4. For repeatable tasks or UI interactions, include example screenshots and tool calls of successful outcomes in your prompt.
+5. If you need the model to log in, provide it with the username and password in your prompt inside xml tags like `&lt;robot_credentials&gt;`. Using computer use within applications that require login increases the risk of bad outcomes as a result of prompt injection. Please review our [guide on mitigating prompt injections](/docs/en/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks) before providing the model with login credentials.
+
+&lt;Tip&gt;
+  If you repeatedly encounter a clear set of issues or know in advance the tasks
+  Claude will need to complete, use the system prompt to provide Claude with
+  explicit tips or instructions on how to do the tasks successfully.
+&lt;/Tip&gt;
+
+### System prompts
+
+When one of the Anthropic-defined tools is requested via the Claude API, a computer use-specific system prompt is generated. It&#39;s similar to the [tool use system prompt](/docs/en/agents-and-tools/tool-use/implement-tool-use#tool-use-system-prompt) but starts with:
+
+&gt; You have access to a set of functions you can use to answer the user&#39;s question. This includes access to a sandboxed computing environment. You do NOT currently have the ability to inspect files or interact with external resources, except by invoking the below functions.
+
+As with regular tool use, the user-provided `system_prompt` field is still respected and used in the construction of the combined system prompt.
+
+### Available actions
+
+The computer use tool supports these actions:
+
+**Basic actions (all versions)**
+- **screenshot** - Capture the current display
+- **left_click** - Click at coordinates `[x, y]`
+- **type** - Type text string
+- **key** - Press key or key combination (e.g., &#34;ctrl+s&#34;)
+- **mouse_move** - Move cursor to coordinates
+
+**Enhanced actions (`computer_20250124`)**
+Available in Claude 4 models and Claude Sonnet 3.7:
+- **scroll** - Scroll in any direction with amount control
+- **left_click_drag** - Click and drag between coordinates
+- **right_click**, **middle_click** - Additional mouse buttons
+- **double_click**, **triple_click** - Multiple clicks
+- **left_mouse_down**, **left_mouse_up** - Fine-grained click control
+- **hold_key** - Hold a key while performing other actions
+- **wait** - Pause between actions
+
+**Enhanced actions (`computer_20251124`)**
+Available in Claude Opus 4.5:
+- All actions from `computer_20250124`
+- **zoom** - View a specific region of the screen at full resolution. Requires `enable_zoom: true` in tool definition. Takes a `region` parameter with coordinates `[x1, y1, x2, y2]` defining top-left and bottom-right corners of the area to inspect.
+
+&lt;section title=&#34;Example actions&#34;&gt;
+
+```json
+// Take a screenshot
+{
+  &#34;action&#34;: &#34;screenshot&#34;
+}
+
+// Click at position
+{
+  &#34;action&#34;: &#34;left_click&#34;,
+  &#34;coordinate&#34;: [500, 300]
+}
+
+// Type text
+{
+  &#34;action&#34;: &#34;type&#34;,
+  &#34;text&#34;: &#34;Hello, world!&#34;
+}
+
+// Scroll down (Claude 4/3.7)
+{
+  &#34;action&#34;: &#34;scroll&#34;,
+  &#34;coordinate&#34;: [500, 400],
+  &#34;scroll_direction&#34;: &#34;down&#34;,
+  &#34;scroll_amount&#34;: 3
+}
+
+// Zoom to view region in detail (Opus 4.5)
+{
+  &#34;action&#34;: &#34;zoom&#34;,
+  &#34;region&#34;: [100, 200, 400, 350]
+}
+```
+
+&lt;/section&gt;
+
+### Tool parameters
+
+| Parameter | Required | Description |
+|-----------|----------|-------------|
+| `type` | Yes | Tool version (`computer_20251124`, `computer_20250124`, or `computer_20241022`) |
+| `name` | Yes | Must be &#34;computer&#34; |
+| `display_width_px` | Yes | Display width in pixels |
+| `display_height_px` | Yes | Display height in pixels |
+| `display_number` | No | Display number for X11 environments |
+| `enable_zoom` | No | Enable zoom action (`computer_20251124` only). Set to `true` to allow Claude to zoom into specific screen regions. Default: `false` |
+
+&lt;Note&gt;
+**Important**: The computer use tool must be explicitly executed by your application - Claude cannot execute it directly. You are responsible for implementing the screenshot capture, mouse movements, keyboard inputs, and other actions based on Claude&#39;s requests.
+&lt;/Note&gt;
+
+### Enable thinking capability in Claude 4 models and Claude Sonnet 3.7
+
+Claude Sonnet 3.7 introduced a new &#34;thinking&#34; capability that allows you to see the model&#39;s reasoning process as it works through complex tasks. This feature helps you understand how Claude is approaching a problem and can be particularly valuable for debugging or educational purposes.
+
+To enable thinking, add a `thinking` parameter to your API request:
+
+```json
+&#34;thinking&#34;: {
+  &#34;type&#34;: &#34;enabled&#34;,
+  &#34;budget_tokens&#34;: 1024
+}
+```
+
+The `budget_tokens` parameter specifies how many tokens Claude can use for thinking. This is subtracted from your overall `max_tokens` budget.
+
+When thinking is enabled, Claude will return its reasoning process as part of the response, which can help you:
+
+1. Understand the model&#39;s decision-making process
+2. Identify potential issues or misconceptions
+3. Learn from Claude&#39;s approach to problem-solving
+4. Get more visibility into complex multi-step operations
+
+Here&#39;s an example of what thinking output might look like:
+
+```
+[Thinking]
+I need to save a picture of a cat to the desktop. Let me break this down into steps:
+
+1. First, I&#39;ll take a screenshot to see what&#39;s on the desktop
+2. Then I&#39;ll look for a web browser to search for cat images
+3. After finding a suitable image, I&#39;ll need to save it to the desktop
+
+Let me start by taking a screenshot to see what&#39;s available...
+```
+
+### Augmenting computer use with other tools
+
+The computer use tool can be combined with other tools to create more powerful automation workflows. This is particularly useful when you need to:
+- Execute system commands ([bash tool](/docs/en/agents-and-tools/tool-use/bash-tool))
+- Edit configuration files or scripts ([text editor tool](/docs/en/agents-and-tools/tool-use/text-editor-tool))
+- Integrate with custom APIs or services (custom tools)
+
+&lt;CodeGroup&gt;
+  ```bash Shell
+  curl https://api.anthropic.com/v1/messages \
+    -H &#34;content-type: application/json&#34; \
+    -H &#34;x-api-key: $ANTHROPIC_API_KEY&#34; \
+    -H &#34;anthropic-version: 2023-06-01&#34; \
+    -H &#34;anthropic-beta: computer-use-2025-01-24&#34; \
+    -d &#39;{
+      &#34;model&#34;: &#34;claude-sonnet-4-5&#34;,
+      &#34;max_tokens&#34;: 2000,
+      &#34;tools&#34;: [
+        {
+          &#34;type&#34;: &#34;computer_20250124&#34;,
+          &#34;name&#34;: &#34;computer&#34;,
+          &#34;display_width_px&#34;: 1024,
+          &#34;display_height_px&#34;: 768,
+          &#34;display_number&#34;: 1
+        },
+        {
+          &#34;type&#34;: &#34;text_editor_20250728&#34;,
+          &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;
+        },
+        {
+          &#34;type&#34;: &#34;bash_20250124&#34;,
+          &#34;name&#34;: &#34;bash&#34;
+        },
+        {
+          &#34;name&#34;: &#34;get_weather&#34;,
+          &#34;description&#34;: &#34;Get the current weather in a given location&#34;,
+          &#34;input_schema&#34;: {
+            &#34;type&#34;: &#34;object&#34;,
+            &#34;properties&#34;: {
+              &#34;location&#34;: {
+                &#34;type&#34;: &#34;string&#34;,
+                &#34;description&#34;: &#34;The city and state, e.g. San Francisco, CA&#34;
+              },
+              &#34;unit&#34;: {
+                &#34;type&#34;: &#34;string&#34;,
+                &#34;enum&#34;: [&#34;celsius&#34;, &#34;fahrenheit&#34;],
+                &#34;description&#34;: &#34;The unit of temperature, either &#39;celsius&#39; or &#39;fahrenheit&#39;&#34;
+              }
+            },
+            &#34;required&#34;: [&#34;location&#34;]
+          }
+        }
+      ],
+      &#34;messages&#34;: [
+        {
+          &#34;role&#34;: &#34;user&#34;,
+          &#34;content&#34;: &#34;Find flights from San Francisco to a place with warmer weather.&#34;
+        }
+      ],
+      &#34;thinking&#34;: {
+        &#34;type&#34;: &#34;enabled&#34;,
+        &#34;budget_tokens&#34;: 1024
+      }
+    }&#39;
+  ```
+
+```python Python
+import anthropic
+
+client = anthropic.Anthropic()
+
+response = client.beta.messages.create(
+    model=&#34;claude-sonnet-4-5&#34;,
+    max_tokens=1024,
+    tools=[
+        {
+          &#34;type&#34;: &#34;computer_20250124&#34;,
+          &#34;name&#34;: &#34;computer&#34;,
+          &#34;display_width_px&#34;: 1024,
+          &#34;display_height_px&#34;: 768,
+          &#34;display_number&#34;: 1,
+        },
+        {
+          &#34;type&#34;: &#34;text_editor_20250728&#34;,
+          &#34;name&#34;: &#34;str_replace_based_edit_tool&#34;
+        },
+        {
+          &#34;type&#34;: &#34;bash_20250124&#34;,
+          &#34;name&#34;: &#34;bash&#34;
+        },
+        {
+          &#34;name&#34;: &#34;get_weather&#34;,
+          &#34;description&#34;: &#34;Get the current weather in a given location&#34;,
+          &#34;input_schema&#34;: {
+            &#34;type&#34;: &#34;object&#34;,
+            &#34;properties&#34;: {
+              &#34;location&#34;: {
+                &#34;type&#34;: &#34;string&#34;,
+                &#34;description&#34;: &#34;The city and state, e.g. San Francisco, CA&#34;
+              },
+              &#34;unit&#34;: {
+                &#34;type&#34;: &#34;string&#34;,
+                &#34;enum&#34;: [&#34;celsius&#34;, &#34;fahrenheit&#34;],
+                &#34;description&#34;: &#34;The unit of temperature, either &#39;celsius&#39; or &#39;fahrenheit&#39;&#34;
+              }
+            },
+            &#34;required&#34;: [&#34;location&#34;]
+          }
+        },
+    ],
+    messages=[{&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Find flights from San Francisco to a place with warmer weather.&#34;}],
+    betas=[&#34;computer-use-2025-01-24&#34;],
+    thinking={&#34;type&#34;: &#34;enabled&#34;, &#34;budget_tokens&#34;: 1024},
+)
+print(response)
+```
+
+```typescript TypeScript
+import Anthropic from &#39;@anthropic-ai/sdk&#39;;
+
+const anthropic = new Anthropic();
+
+const message = await anthropic.beta.messages.create({
+  model: &#34;claude-sonnet-4-5&#34;,
+  max_tokens: 1024,
+  tools: [
+      {
+        type: &#34;computer_20250124&#34;,
+        name: &#34;computer&#34;,
+        display_width_px: 1024,
+        display_height_px: 768,
+        display_number: 1,
+      },
+      {
+        type: &#34;text_editor_20250728&#34;,
+        name: &#34;str_replace_based_edit_tool&#34;
+      },
+      {
+        type: &#34;bash_20250124&#34;,
+        name: &#34;bash&#34;
+      },
+      {
+        name: &#34;get_weather&#34;,
+        description: &#34;Get the current weather in a given location&#34;,
+        input_schema: {
+          type: &#34;object&#34;,
+          properties: {
+            location: {
+              type: &#34;string&#34;,
+              description: &#34;The city and state, e.g. San Francisco, CA&#34;
+            },
+            unit: {
+              type: &#34;string&#34;,
+              enum: [&#34;celsius&#34;, &#34;fahrenheit&#34;],
+              description: &#34;The unit of temperature, either &#39;celsius&#39; or &#39;fahrenheit&#39;&#34;
+            }
+          },
+          required: [&#34;location&#34;]
+        }
+      },
+  ],
+  messages: [{ role: &#34;user&#34;, content: &#34;Find flights from San Francisco to a place with warmer weather.&#34; }],
+  betas: [&#34;computer-use-2025-01-24&#34;],
+  thinking: { type: &#34;enabled&#34;, budget_tokens: 1024 },
+});
+console.log(message);
+```
+```java Java
+import java.util.List;
+import java.util.Map;
+
+import com.anthropic.client.AnthropicClient;
+import com.anthropic.client.okhttp.AnthropicOkHttpClient;
+import com.anthropic.core.JsonValue;
+import com.anthropic.models.beta.messages.BetaMessage;
+import com.anthropic.models.beta.messages.MessageCreateParams;
+import com.anthropic.models.beta.messages.BetaToolBash20250124;
+import com.anthropic.models.beta.messages.BetaToolComputerUse20250124;
+import com.anthropic.models.beta.messages.BetaToolTextEditor20250124;
+import com.anthropic.models.beta.messages.BetaThinkingConfigEnabled;
+import com.anthropic.models.beta.messages.BetaThinkingConfigParam;
+import com.anthropic.models.beta.messages.BetaTool;
+
+public class MultipleToolsExample {
+
+    public static void main(String[] args) {
+        AnthropicClient client = AnthropicOkHttpClient.fromEnv();
+
+        MessageCreateParams params = MessageCreateParams.builder()
+                .model(&#34;claude-sonnet-4-5&#34;)
+                .maxTokens(1024)
+                .addTool(BetaToolComputerUse20250124.builder()
+                        .displayWidthPx(1024)
+                        .displayHeightPx(768)
+                        .displayNumber(1)
+                        .build())
+                .addTool(BetaToolTextEditor20250124.builder()
+                        .build())
+                .addTool(BetaToolBash20250124.builder()
+                        .build())
+                .addTool(BetaTool.builder()
+                        .name(&#34;get_weather&#34;)
+                        .description(&#34;Get the current weather in a given location&#34;)
+                        .inputSchema(BetaTool.InputSchema.builder()
+                                .properties(
+                                        JsonValue.from(
+                                                Map.of(
+                                                        &#34;location&#34;, Map.of(
+                                                                &#34;type&#34;, &#34;string&#34;,
+                                                                &#34;description&#34;, &#34;The city and state, e.g. San Francisco, CA&#34;
+                                                        ),
+                                                        &#34;unit&#34;, Map.of(
+                                                                &#34;type&#34;, &#34;string&#34;,
+                                                                &#34;enum&#34;, List.of(&#34;celsius&#34;, &#34;fahrenheit&#34;),
+                                                                &#34;description&#34;, &#34;The unit of temperature, either &#39;celsius&#39; or &#39;fahrenheit&#39;&#34;
+                                                        )
+                                                )
+                                        ))
+                                .build()
+                        )
+                        .build())
+                .thinking(BetaThinkingConfigParam.ofEnabled(
+                        BetaThinkingConfigEnabled.builder()
+                                .budgetTokens(1024)
+                                .build()
+                ))
+                .addUserMessage(&#34;Find flights from San Francisco to a place with warmer weather.&#34;)
+                .addBeta(&#34;computer-use-2025-01-24&#34;)
+                .build();
+
+        BetaMessage message = client.beta().messages().create(params);
+        System.out.println(message);
+    }
+}
+```
+&lt;/CodeGroup&gt;
+
+### Build a custom computer use environment
+
+The [reference implementation](https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo) is meant to help you get started with computer use. It includes all of the components needed have Claude use a computer. However, you can build your own environment for computer use to suit your needs. You&#39;ll need:
+
+- A virtualized or containerized environment suitable for computer use with Claude
+- An implementation of at least one of the Anthropic-defined computer use tools
+- An agent loop that interacts with the Claude API and executes the `tool_use` results using your tool implementations
+- An API or UI that allows user input to start the agent loop
+
+#### Implement the computer use tool
+
+The computer use tool is implemented as a schema-less tool. When using this tool, you don&#39;t need to provide an input schema as with other tools; the schema is built into Claude&#39;s model and can&#39;t be modified.
+
+&lt;Steps&gt;
+  &lt;Step title=&#34;Set up your computing environment&#34;&gt;
+    Create a virtual display or connect to an existing display that Claude will interact with. This typically involves setting up Xvfb (X Virtual Framebuffer) or similar technology.
+  &lt;/Step&gt;
+  &lt;Step title=&#34;Implement action handlers&#34;&gt;
+    Create functions to handle each action type that Claude might request:
+    ```python
+    def handle_computer_action(action_type, params):
+        if action_type == &#34;screenshot&#34;:
+            return capture_screenshot()
+        elif action_type == &#34;left_click&#34;:
+            x, y = params[&#34;coordinate&#34;]
+            return click_at(x, y)
+        elif action_type == &#34;type&#34;:
+            return type_text(params[&#34;text&#34;])
+        # ... handle other actions
+    ```
+  &lt;/Step&gt;
+  &lt;Step title=&#34;Process Claude&#39;s tool calls&#34;&gt;
+    Extract and execute tool calls from Claude&#39;s responses:
+    ```python
+    for content in response.content:
+        if content.type == &#34;tool_use&#34;:
+            action = content.input[&#34;action&#34;]
+            result = handle_computer_action(action, content.input)
+            
+            # Return result to Claude
+            tool_result = {
+                &#34;type&#34;: &#34;tool_result&#34;,
+                &#34;tool_use_id&#34;: content.id,
+                &#34;content&#34;: result
+            }
+    ```
+  &lt;/Step&gt;
+  &lt;Step title=&#34;Implement the agent loop&#34;&gt;
+    Create a loop that continues until Claude completes the task:
+    ```python
+    while True:
+        response = client.beta.messages.create(...)
+        
+        # Check if Claude used any tools
+        tool_results = process_tool_calls(response)
+        
+        if not tool_results:
+            # No more tool use, task complete
+            break
+            
+        # Continue conversation with tool results
+        messages.append({&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: tool_results})
+    ```
+  &lt;/Step&gt;
+&lt;/Steps&gt;
+
+#### Handle errors
+
+When implementing the computer use tool, various errors may occur. Here&#39;s how to handle them:
+
+&lt;section title=&#34;Screenshot capture failure&#34;&gt;
+
+If screenshot capture fails, return an appropriate error message:
+
+```json
+{
+  &#34;role&#34;: &#34;user&#34;,
+  &#34;content&#34;: [
+    {
+      &#34;type&#34;: &#34;tool_result&#34;,
+      &#34;tool_use_id&#34;: &#34;toolu_01A09q90qw90lq917835lq9&#34;,
+      &#34;content&#34;: &#34;Error: Failed to capture screenshot. Display may be locked or unavailable.&#34;,
+      &#34;is_error&#34;: true
+    }
+  ]
+}
+```
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Invalid coordinates&#34;&gt;
+
+If Claude provides coordinates outside the display bounds:
+
+```json
+{
+  &#34;role&#34;: &#34;user&#34;,
+  &#34;content&#34;: [
+    {
+      &#34;type&#34;: &#34;tool_result&#34;,
+      &#34;tool_use_id&#34;: &#34;toolu_01A09q90qw90lq917835lq9&#34;,
+      &#34;content&#34;: &#34;Error: Coordinates (1200, 900) are outside display bounds (1024x768).&#34;,
+      &#34;is_error&#34;: true
+    }
+  ]
+}
+```
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Action execution failure&#34;&gt;
+
+If an action fails to execute:
+
+```json
+{
+  &#34;role&#34;: &#34;user&#34;,
+  &#34;content&#34;: [
+    {
+      &#34;type&#34;: &#34;tool_result&#34;,
+      &#34;tool_use_id&#34;: &#34;toolu_01A09q90qw90lq917835lq9&#34;,
+      &#34;content&#34;: &#34;Error: Failed to perform click action. The application may be unresponsive.&#34;,
+      &#34;is_error&#34;: true
+    }
+  ]
+}
+```
+
+&lt;/section&gt;
+
+#### Handle coordinate scaling for higher resolutions
+
+The API constrains images to a maximum of 1568 pixels on the longest edge and approximately 1.15 megapixels total (see [image resizing](/docs/en/build-with-claude/vision#evaluate-image-size) for details). For example, a 1512x982 screen gets downsampled to approximately 1330x864. Claude analyzes this smaller image and returns coordinates in that space, but your tool executes clicks in the original screen space.
+
+This can cause Claude&#39;s click coordinates to miss their targets unless you handle the coordinate transformation.
+
+To fix this, resize screenshots yourself and scale Claude&#39;s coordinates back up:
+
+&lt;CodeGroup&gt;
+```python Python
+import math
+
+def get_scale_factor(width, height):
+    &#34;&#34;&#34;Calculate scale factor to meet API constraints.&#34;&#34;&#34;
+    long_edge = max(width, height)
+    total_pixels = width * height
+
+    long_edge_scale = 1568 / long_edge
+    total_pixels_scale = math.sqrt(1_150_000 / total_pixels)
+
+    return min(1.0, long_edge_scale, total_pixels_scale)
+
+# When capturing screenshot
+scale = get_scale_factor(screen_width, screen_height)
+scaled_width = int(screen_width * scale)
+scaled_height = int(screen_height * scale)
+
+# Resize image to scaled dimensions before sending to Claude
+screenshot = capture_and_resize(scaled_width, scaled_height)
+
+# When handling Claude&#39;s coordinates, scale them back up
+def execute_click(x, y):
+    screen_x = x / scale
+    screen_y = y / scale
+    perform_click(screen_x, screen_y)
+```
+
+```typescript TypeScript
+const MAX_LONG_EDGE = 1568;
+const MAX_PIXELS = 1_150_000;
+
+function getScaleFactor(width: number, height: number): number {
+  const longEdge = Math.max(width, height);
+  const totalPixels = width * height;
+
+  const longEdgeScale = MAX_LONG_EDGE / longEdge;
+  const totalPixelsScale = Math.sqrt(MAX_PIXELS / totalPixels);
+
+  return Math.min(1.0, longEdgeScale, totalPixelsScale);
+}
+
+// When capturing screenshot
+const scale = getScaleFactor(screenWidth, screenHeight);
+const scaledWidth = Math.floor(screenWidth * scale);
+const scaledHeight = Math.floor(screenHeight * scale);
+
+// Resize image to scaled dimensions before sending to Claude
+const screenshot = captureAndResize(scaledWidth, scaledHeight);
+
+// When handling Claude&#39;s coordinates, scale them back up
+function executeClick(x: number, y: number): void {
+  const screenX = x / scale;
+  const screenY = y / scale;
+  performClick(screenX, screenY);
+}
+```
+&lt;/CodeGroup&gt;
+
+#### Follow implementation best practices
+
+&lt;section title=&#34;Use appropriate display resolution&#34;&gt;
+
+Set display dimensions that match your use case while staying within recommended limits:
+- For general desktop tasks: 1024x768 or 1280x720
+- For web applications: 1280x800 or 1366x768
+- Avoid resolutions above 1920x1080 to prevent performance issues
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Implement proper screenshot handling&#34;&gt;
+
+When returning screenshots to Claude:
+- Encode screenshots as base64 PNG or JPEG
+- Consider compressing large screenshots to improve performance
+- Include relevant metadata like timestamp or display state
+- If using higher resolutions, ensure coordinates are accurately scaled
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Add action delays&#34;&gt;
+
+Some applications need time to respond to actions:
+```python
+def click_and_wait(x, y, wait_time=0.5):
+    click_at(x, y)
+    time.sleep(wait_time)  # Allow UI to update
+```
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Validate actions before execution&#34;&gt;
+
+Check that requested actions are safe and valid:
+```python
+def validate_action(action_type, params):
+    if action_type == &#34;left_click&#34;:
+        x, y = params.get(&#34;coordinate&#34;, (0, 0))
+        if not (0 &lt;= x &lt; display_width and 0 &lt;= y &lt; display_height):
+            return False, &#34;Coordinates out of bounds&#34;
+    return True, None
+```
+
+&lt;/section&gt;
+
+&lt;section title=&#34;Log actions for debugging&#34;&gt;
+
+Keep a log of all actions for troubleshooting:
+```python
+import logging
+
+def log_action(action_type, params, result):
+    logging.info(f&#34;Action: {action_type}, Params: {params}, Result: {result}&#34;)
+```
+
+&lt;/section&gt;
+
+---
+
+## Understand computer use limitations
+
+The computer use functionality is in beta. While Claude&#39;s capabilities are cutting edge, developers should be aware of its limitations:
+
+1. **Latency**: the current computer use latency for human-AI interactions may be too slow compared to regular human-directed computer actions. We recommend focusing on use cases where speed isn&#39;t critical (e.g., background information gathering, automated software testing) in trusted environments.
+2. **Computer vision accuracy and reliability**: Claude may make mistakes or hallucinate when outputting specific coordinates while generating actions. Claude Sonnet 3.7 introduces the thinking capability that can help you understand the model&#39;s reasoning and identify potential issues.
+3. **Tool selection accuracy and reliability**: Claude may make mistakes or hallucinate when selecting tools while generating actions or take unexpected actions to solve problems. Additionally, reliability may be lower when interacting with niche applications or multiple applications at once. We recommend that users prompt the model carefully when requesting complex tasks.
+4. **Scrolling reliability**: Claude Sonnet 3.7 introduced dedicated scroll actions with direction control that improves reliability. The model can now explicitly scroll in any direction (up/down/left/right) by a specified amount.
+5. **Spreadsheet interaction**: Mouse clicks for spreadsheet interaction have improved in Claude Sonnet 3.7 with the addition of more precise mouse control actions like `left_mouse_down`, `left_mouse_up`, and new modifier key support. Cell selection can be more reliable by using these fine-grained controls and combining modifier keys with clicks.
+6. **Account creation and content generation on social and communications platforms**: While Claude will visit websites, we are limiting its ability to create accounts or generate and share content or otherwise engage in human impersonation across social media websites and platforms. We may update this capability in the future.
+7. **Vulnerabilities**: Vulnerabilities like jailbreaking or prompt injection may persist across frontier AI systems, including the beta computer use API. In some circumstances, Claude will follow commands found in content, sometimes even in conflict with the user&#39;s instructions. For example, Claude instructions on webpages or contained in images may override instructions or cause Claude to make mistakes. We recommend:
+   a. Limiting computer use to trusted environments such as virtual machines or containers with minimal privileges
+   b. Avoiding giving computer use access to sensitive accounts or data without strict oversight
+   c. Informing end users of relevant risks and obtaining their consent before enabling or requesting permissions necessary for computer use features in your applications
+8. **Inappropriate or illegal actions**: Per Anthropic&#39;s terms of service, you must not employ computer use to violate any laws or our Acceptable Use Policy.
+
+Always carefully review and verify Claude&#39;s computer use actions and logs. Do not use Claude for tasks requiring perfect precision or sensitive user information without human oversight.
+
+---
+
+## Pricing
+
+Computer use follows the standard [tool use pricing](/docs/en/agents-and-tools/tool-use/overview#pricing). When using the computer use tool:
+
+**System prompt overhead**: The computer use beta adds 466-499 tokens to the system prompt
+
+**Computer use tool token usage**:
+| Model | Input tokens per tool definition |
+| ----- | -------------------------------- |
+| Claude 4.x models | 735 tokens |
+| Claude Sonnet 3.7 ([deprecated](/docs/en/about-claude/model-deprecations)) | 735 tokens |
+
+**Additional token consumption**:
+- Screenshot images (see [Vision pricing](/docs/en/build-with-claude/vision))
+- Tool execution results returned to Claude
+
+&lt;Note&gt;
+If you&#39;re also using bash or text editor tools alongside computer use, those tools have their own token costs as documented in their respective pages.
+&lt;/Note&gt;
+
+## Next steps
+
+&lt;CardGroup cols={2}&gt;
+  &lt;Card
+    title=&#34;Reference implementation&#34;
+    icon=&#34;github-logo&#34;
+    href=&#34;https://github.com/anthropics/anthropic-quickstarts/tree/main/computer-use-demo&#34;
+  &gt;
+    Get started quickly with our complete Docker-based implementation
+  &lt;/Card&gt;
+  &lt;Card
+    title=&#34;Tool documentation&#34;
+    icon=&#34;tool&#34;
+    href=&#34;/docs/en/agents-and-tools/tool-use/overview&#34;
+  &gt;
+    Learn more about tool use and creating custom tools
+  &lt;/Card&gt;
+&lt;/CardGroup&gt;</code></pre>
    </div>
</body>
</html>