<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>build-with-claude/effort - Diff Report</title>
    <link rel="stylesheet" href="../../css/diff.css">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --accent: #0f3460;
            --add-bg: #1a4d1a;
            --del-bg: #4d1a1a;
            --add-text: #4ade80;
            --del-text: #f87171;
        }
        @media (prefers-color-scheme: light) {
            :root {
                --bg-color: #f5f5f5;
                --card-bg: #fff;
                --text-color: #333;
                --accent: #e0e0e0;
                --add-bg: #d4edda;
                --del-bg: #f8d7da;
                --add-text: #155724;
                --del-text: #721c24;
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { margin-bottom: 2rem; }
        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .meta { color: #888; font-size: 0.9rem; }
        .summary {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 2rem;
        }
        .stat { display: flex; align-items: center; gap: 0.5rem; }
        .stat.added { color: var(--add-text); }
        .stat.removed { color: var(--del-text); }
        .analysis {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #8b5cf6;
        }
        .analysis-header {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #8b5cf6;
        }
        .analysis-content {
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .diff-container {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        .diff-header {
            background: var(--accent);
            padding: 0.75rem 1rem;
            font-weight: 600;
        }
        .diff-content {
            padding: 1rem;
            overflow-x: auto;
        }
        .diff-content ins {
            background: var(--add-bg);
            color: var(--add-text);
            text-decoration: none;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        .diff-content del {
            background: var(--del-bg);
            color: var(--del-text);
            text-decoration: line-through;
            padding: 0.1em 0.2em;
            border-radius: 2px;
        }
        pre {
            background: var(--accent);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            margin-top: 2rem;
        }
        a { color: #60a5fa; }
        .back-link { margin-bottom: 1rem; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">&larr; Back to daily report</a>

        <header>
            <h1>build-with-claude/effort.md</h1>
            <p class="meta">Changed on 2026-01-06 14:35:17 UTC</p>
        </header>

        <div class="summary">
            <div class="stat added">
                <span>+108</span> lines added
            </div>
            <div class="stat removed">
                <span>-0</span> lines removed
            </div>
        </div>

        
        <div class="analysis">
            <div class="analysis-header">ðŸ¤– AI Analysis</div>
            <div class="analysis-content"># Documentation Change Analysis

## Summary
The documentation for the `effort` parameter in Claude has been introduced, detailing how developers can control token usage in responses, optimizing for either thoroughness or efficiency.

## Key Changes
- **Introduction of the `effort` Parameter**: Developers can now specify how many tokens Claude uses, with levels of `high`, `medium`, and `low`.
- **Beta Feature Notice**: The `effort` parameter is in beta and requires a specific beta header for use.
- **Detailed Usage Examples**: Code snippets in Python, TypeScript, and Bash demonstrate how to implement the `effort` parameter in API calls.
- **Guidance on Use Cases**: Clear recommendations on when to use each effort level based on task complexity and performance needs.
- **Impact on Tool Calls**: Explanation of how the `effort` parameter influences both the number of tool calls and the nature of responses.

## Impact
**Medium**: This change enhances documentation clarity and provides a new feature that allows developers to optimize their interactions with Claude, potentially leading to cost savings and improved performance based on specific use cases.</div>
        </div>
        

        <div class="diff-container">
            <div class="diff-header">Visual Diff</div>
            <div class="diff-content"><ins style="background:#e6ffe6;"># Effort&para;<br>&para;<br>Control how many tokens Claude uses when responding with the effort parameter, trading off between response thoroughness and token efficiency.&para;<br>&para;<br>---&para;<br>&para;<br>The effort parameter allows you to control how eager Claude is about spending tokens when responding to requests. This gives you the ability to trade off between response thoroughness and token efficiency, all with a single model.&para;<br>&para;<br>&lt;Note&gt;&para;<br>  The effort parameter is currently in beta and only supported by Claude Opus 4.5.&para;<br>&para;<br>  You must include the [beta header](/docs/en/api/beta-headers) `effort-2025-11-24` when using this feature.&para;<br>&lt;/Note&gt;&para;<br>&para;<br>## How effort works&para;<br>&para;<br>By default, Claude uses maximum effortâ€”spending as many tokens as needed for the best possible outcome. By lowering the effort level, you can instruct Claude to be more conservative with token usage, optimizing for speed and cost while accepting some reduction in capability.&para;<br>&para;<br>&lt;Tip&gt;&para;<br>Setting `effort` to `"high"` produces exactly the same behavior as omitting the `effort` parameter entirely.&para;<br>&lt;/Tip&gt;&para;<br>&para;<br>The effort parameter affects **all tokens** in the response, including:&para;<br>&para;<br>- Text responses and explanations&para;<br>- Tool calls and function arguments&para;<br>- Extended thinking (when enabled)&para;<br>&para;<br>This approach has two major advantages:&para;<br>&para;<br>1. It doesn't require thinking to be enabled in order to use it.&para;<br>2. It can affect all token spend including tool calls. For example, lower effort would mean Claude makes fewer tool calls. This gives a much greater degree of control over efficiency.&para;<br>&para;<br>### Effort levels&para;<br>&para;<br>| Level    | Description                                                                                                                      | Typical use case                                                                      |&para;<br>| -------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |&para;<br>| `high`   | Maximum capability. Claude uses as many tokens as needed for the best possible outcome. Equivalent to not setting the parameter.  | Complex reasoning, difficult coding problems, agentic tasks                           |&para;<br>| `medium` | Balanced approach with moderate token savings. | Agentic tasks that require a balance of speed, cost, and performance                                                         |&para;<br>| `low`    | Most efficient. Significant token savings with some capability reduction. | Simpler tasks that need the best speed and lowest costs, such as subagents                     |&para;<br>&para;<br>## Basic usage&para;<br>&para;<br>&lt;CodeGroup&gt;&para;<br>```python Python&para;<br>import anthropic&para;<br>&para;<br>client = anthropic.Anthropic()&para;<br>&para;<br>response = client.beta.messages.create(&para;<br>    model="claude-opus-4-5-20251101",&para;<br>    betas=["effort-2025-11-24"],&para;<br>    max_tokens=4096,&para;<br>    messages=[{&para;<br>        "role": "user",&para;<br>        "content": "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>    }],&para;<br>    output_config={&para;<br>        "effort": "medium"&para;<br>    }&para;<br>)&para;<br>&para;<br>print(response.content[0].text)&para;<br>```&para;<br>&para;<br>```typescript TypeScript&para;<br>import Anthropic from '@anthropic-ai/sdk';&para;<br>&para;<br>const client = new Anthropic();&para;<br>&para;<br>const response = await client.beta.messages.create({&para;<br>  model: "claude-opus-4-5-20251101",&para;<br>  betas: ["effort-2025-11-24"],&para;<br>  max_tokens: 4096,&para;<br>  messages: [{&para;<br>    role: "user",&para;<br>    content: "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>  }],&para;<br>  output_config: {&para;<br>    effort: "medium"&para;<br>  }&para;<br>});&para;<br>&para;<br>console.log(response.content[0].text);&para;<br>```&para;<br>&para;<br>```bash Shell&para;<br>curl https://api.anthropic.com/v1/messages \&para;<br>    --header "x-api-key: $ANTHROPIC_API_KEY" \&para;<br>    --header "anthropic-version: 2023-06-01" \&para;<br>    --header "anthropic-beta: effort-2025-11-24" \&para;<br>    --header "content-type: application/json" \&para;<br>    --data '{&para;<br>        "model": "claude-opus-4-5-20251101",&para;<br>        "max_tokens": 4096,&para;<br>        "messages": [{&para;<br>            "role": "user",&para;<br>            "content": "Analyze the trade-offs between microservices and monolithic architectures"&para;<br>        }],&para;<br>        "output_config": {&para;<br>            "effort": "medium"&para;<br>        }&para;<br>    }'&para;<br>```&para;<br>&para;<br>&lt;/CodeGroup&gt;&para;<br>&para;<br>## When should I adjust the effort parameter?&para;<br>&para;<br>- Use **high effort** (the default) when you need Claude's best workâ€”complex reasoning, nuanced analysis, difficult coding problems, or any task where quality is the top priority.&para;<br>- Use **medium effort** as a balanced option when you want solid performance without the full token expenditure of high effort.&para;<br>- Use **low effort** when you're optimizing for speed (because Claude answers with fewer tokens) or costâ€”for example, simple classification tasks, quick lookups, or high-volume use cases where marginal quality improvements don't justify additional latency or spend.&para;<br>&para;<br>## Effort with tool use&para;<br>&para;<br>When using tools, the effort parameter affects both the explanations around tool calls and the tool calls themselves. Lower effort levels tend to:&para;<br>&para;<br>- Combine multiple operations into fewer tool calls&para;<br>- Make fewer tool calls&para;<br>- Proceed directly to action without preamble&para;<br>- Use terse confirmation messages after completion&para;<br>&para;<br>Higher effort levels may:&para;<br>&para;<br>- Make more tool calls&para;<br>- Explain the plan before taking action&para;<br>- Provide detailed summaries of changes&para;<br>- Include more comprehensive code comments&para;<br>&para;<br>## Effort with extended thinking&para;<br>&para;<br>The effort parameter works alongside the thinking token budget when extended thinking is enabled. These two controls serve different purposes:&para;<br>&para;<br>- **Effort parameter**: Controls how Claude spends all tokensâ€”including thinking tokens, text responses, and tool calls&para;<br>- **Thinking token budget**: Sets a maximum limit on thinking tokens specifically&para;<br>&para;<br>The effort parameter can be used with or without extended thinking enabled. When both are configured:&para;<br>&para;<br>1. First determine the effort level appropriate for your task&para;<br>2. Then set the thinking token budget based on task complexity&para;<br>&para;<br>For best performance on complex reasoning tasks, use high effort (the default) with a high thinking token budget. This allows Claude to think thoroughly and provide comprehensive responses.&para;<br>&para;<br>## Best practices&para;<br>&para;<br>1. **Start with high**: Use lower effort levels to trade off performance for token efficiency.&para;<br>2. **Use low for speed-sensitive or simple tasks**: When latency matters or tasks are straightforward, low effort can significantly reduce response times and costs.&para;<br>3. **Test your use case**: The impact of effort levels varies by task type. Evaluate performance on your specific use cases before deploying.&para;<br>4. **Consider dynamic effort**: Adjust effort based on task complexity. Simple queries may warrant low effort while agentic coding and complex reasoning benefit from high effort.</ins></div>
        </div>

        <h2 style="margin-top: 2rem; margin-bottom: 1rem;">Unified Diff</h2>
        <pre><code>--- a/build-with-claude/effort.md
+++ b/build-with-claude/effort.md
@@ -0,0 +1,149 @@
+# Effort
+
+Control how many tokens Claude uses when responding with the effort parameter, trading off between response thoroughness and token efficiency.
+
+---
+
+The effort parameter allows you to control how eager Claude is about spending tokens when responding to requests. This gives you the ability to trade off between response thoroughness and token efficiency, all with a single model.
+
+&lt;Note&gt;
+  The effort parameter is currently in beta and only supported by Claude Opus 4.5.
+
+  You must include the [beta header](/docs/en/api/beta-headers) `effort-2025-11-24` when using this feature.
+&lt;/Note&gt;
+
+## How effort works
+
+By default, Claude uses maximum effortâ€”spending as many tokens as needed for the best possible outcome. By lowering the effort level, you can instruct Claude to be more conservative with token usage, optimizing for speed and cost while accepting some reduction in capability.
+
+&lt;Tip&gt;
+Setting `effort` to `&#34;high&#34;` produces exactly the same behavior as omitting the `effort` parameter entirely.
+&lt;/Tip&gt;
+
+The effort parameter affects **all tokens** in the response, including:
+
+- Text responses and explanations
+- Tool calls and function arguments
+- Extended thinking (when enabled)
+
+This approach has two major advantages:
+
+1. It doesn&#39;t require thinking to be enabled in order to use it.
+2. It can affect all token spend including tool calls. For example, lower effort would mean Claude makes fewer tool calls. This gives a much greater degree of control over efficiency.
+
+### Effort levels
+
+| Level    | Description                                                                                                                      | Typical use case                                                                      |
+| -------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
+| `high`   | Maximum capability. Claude uses as many tokens as needed for the best possible outcome. Equivalent to not setting the parameter.  | Complex reasoning, difficult coding problems, agentic tasks                           |
+| `medium` | Balanced approach with moderate token savings. | Agentic tasks that require a balance of speed, cost, and performance                                                         |
+| `low`    | Most efficient. Significant token savings with some capability reduction. | Simpler tasks that need the best speed and lowest costs, such as subagents                     |
+
+## Basic usage
+
+&lt;CodeGroup&gt;
+```python Python
+import anthropic
+
+client = anthropic.Anthropic()
+
+response = client.beta.messages.create(
+    model=&#34;claude-opus-4-5-20251101&#34;,
+    betas=[&#34;effort-2025-11-24&#34;],
+    max_tokens=4096,
+    messages=[{
+        &#34;role&#34;: &#34;user&#34;,
+        &#34;content&#34;: &#34;Analyze the trade-offs between microservices and monolithic architectures&#34;
+    }],
+    output_config={
+        &#34;effort&#34;: &#34;medium&#34;
+    }
+)
+
+print(response.content[0].text)
+```
+
+```typescript TypeScript
+import Anthropic from &#39;@anthropic-ai/sdk&#39;;
+
+const client = new Anthropic();
+
+const response = await client.beta.messages.create({
+  model: &#34;claude-opus-4-5-20251101&#34;,
+  betas: [&#34;effort-2025-11-24&#34;],
+  max_tokens: 4096,
+  messages: [{
+    role: &#34;user&#34;,
+    content: &#34;Analyze the trade-offs between microservices and monolithic architectures&#34;
+  }],
+  output_config: {
+    effort: &#34;medium&#34;
+  }
+});
+
+console.log(response.content[0].text);
+```
+
+```bash Shell
+curl https://api.anthropic.com/v1/messages \
+    --header &#34;x-api-key: $ANTHROPIC_API_KEY&#34; \
+    --header &#34;anthropic-version: 2023-06-01&#34; \
+    --header &#34;anthropic-beta: effort-2025-11-24&#34; \
+    --header &#34;content-type: application/json&#34; \
+    --data &#39;{
+        &#34;model&#34;: &#34;claude-opus-4-5-20251101&#34;,
+        &#34;max_tokens&#34;: 4096,
+        &#34;messages&#34;: [{
+            &#34;role&#34;: &#34;user&#34;,
+            &#34;content&#34;: &#34;Analyze the trade-offs between microservices and monolithic architectures&#34;
+        }],
+        &#34;output_config&#34;: {
+            &#34;effort&#34;: &#34;medium&#34;
+        }
+    }&#39;
+```
+
+&lt;/CodeGroup&gt;
+
+## When should I adjust the effort parameter?
+
+- Use **high effort** (the default) when you need Claude&#39;s best workâ€”complex reasoning, nuanced analysis, difficult coding problems, or any task where quality is the top priority.
+- Use **medium effort** as a balanced option when you want solid performance without the full token expenditure of high effort.
+- Use **low effort** when you&#39;re optimizing for speed (because Claude answers with fewer tokens) or costâ€”for example, simple classification tasks, quick lookups, or high-volume use cases where marginal quality improvements don&#39;t justify additional latency or spend.
+
+## Effort with tool use
+
+When using tools, the effort parameter affects both the explanations around tool calls and the tool calls themselves. Lower effort levels tend to:
+
+- Combine multiple operations into fewer tool calls
+- Make fewer tool calls
+- Proceed directly to action without preamble
+- Use terse confirmation messages after completion
+
+Higher effort levels may:
+
+- Make more tool calls
+- Explain the plan before taking action
+- Provide detailed summaries of changes
+- Include more comprehensive code comments
+
+## Effort with extended thinking
+
+The effort parameter works alongside the thinking token budget when extended thinking is enabled. These two controls serve different purposes:
+
+- **Effort parameter**: Controls how Claude spends all tokensâ€”including thinking tokens, text responses, and tool calls
+- **Thinking token budget**: Sets a maximum limit on thinking tokens specifically
+
+The effort parameter can be used with or without extended thinking enabled. When both are configured:
+
+1. First determine the effort level appropriate for your task
+2. Then set the thinking token budget based on task complexity
+
+For best performance on complex reasoning tasks, use high effort (the default) with a high thinking token budget. This allows Claude to think thoroughly and provide comprehensive responses.
+
+## Best practices
+
+1. **Start with high**: Use lower effort levels to trade off performance for token efficiency.
+2. **Use low for speed-sensitive or simple tasks**: When latency matters or tasks are straightforward, low effort can significantly reduce response times and costs.
+3. **Test your use case**: The impact of effort levels varies by task type. Evaluate performance on your specific use cases before deploying.
+4. **Consider dynamic effort**: Adjust effort based on task complexity. Simple queries may warrant low effort while agentic coding and complex reasoning benefit from high effort.</code></pre>
    </div>
</body>
</html>